var O1=Object.defineProperty;var j1=(a,t,e)=>t in a?O1(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var Ie=(a,t,e)=>(j1(a,typeof t!="symbol"?t+"":t,e),e);import{_ as Ds}from"./index-3fe82d02.js";function M1(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ve={},fu=du;function du(a,t){if(!a)throw new Error(t||"Assertion failed")}du.equal=function(t,e,i){if(t!=e)throw new Error(i||"Assertion failed: "+t+" != "+e)};var Rs={exports:{}};typeof Object.create=="function"?Rs.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Rs.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}};var T1=Rs.exports,B1=fu,D1=T1;ve.inherits=D1;function R1(a,t){return(a.charCodeAt(t)&64512)!==55296||t<0||t+1>=a.length?!1:(a.charCodeAt(t+1)&64512)===56320}function q1(a,t){if(Array.isArray(a))return a.slice();if(!a)return[];var e=[];if(typeof a=="string")if(t){if(t==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a),n=0;n<a.length;n+=2)e.push(parseInt(a[n]+a[n+1],16))}else for(var i=0,n=0;n<a.length;n++){var r=a.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):R1(a,n)?(r=65536+((r&1023)<<10)+(a.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}else for(n=0;n<a.length;n++)e[n]=a[n]|0;return e}ve.toArray=q1;function U1(a){for(var t="",e=0;e<a.length;e++)t+=gu(a[e].toString(16));return t}ve.toHex=U1;function pu(a){var t=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return t>>>0}ve.htonl=pu;function z1(a,t){for(var e="",i=0;i<a.length;i++){var n=a[i];t==="little"&&(n=pu(n)),e+=mu(n.toString(16))}return e}ve.toHex32=z1;function gu(a){return a.length===1?"0"+a:a}ve.zero2=gu;function mu(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}ve.zero8=mu;function H1(a,t,e,i){var n=e-t;B1(n%4===0);for(var r=new Array(n/4),s=0,u=t;s<r.length;s++,u+=4){var l;i==="big"?l=a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3]:l=a[u+3]<<24|a[u+2]<<16|a[u+1]<<8|a[u],r[s]=l>>>0}return r}ve.join32=H1;function W1(a,t){for(var e=new Array(a.length*4),i=0,n=0;i<a.length;i++,n+=4){var r=a[i];t==="big"?(e[n]=r>>>24,e[n+1]=r>>>16&255,e[n+2]=r>>>8&255,e[n+3]=r&255):(e[n+3]=r>>>24,e[n+2]=r>>>16&255,e[n+1]=r>>>8&255,e[n]=r&255)}return e}ve.split32=W1;function V1(a,t){return a>>>t|a<<32-t}ve.rotr32=V1;function G1(a,t){return a<<t|a>>>32-t}ve.rotl32=G1;function Y1(a,t){return a+t>>>0}ve.sum32=Y1;function X1(a,t,e){return a+t+e>>>0}ve.sum32_3=X1;function J1(a,t,e,i){return a+t+e+i>>>0}ve.sum32_4=J1;function K1(a,t,e,i,n){return a+t+e+i+n>>>0}ve.sum32_5=K1;function $1(a,t,e,i){var n=a[t],r=a[t+1],s=i+r>>>0,u=(s<i?1:0)+e+n;a[t]=u>>>0,a[t+1]=s}ve.sum64=$1;function Q1(a,t,e,i){var n=t+i>>>0,r=(n<t?1:0)+a+e;return r>>>0}ve.sum64_hi=Q1;function Z1(a,t,e,i){var n=t+i;return n>>>0}ve.sum64_lo=Z1;function tl(a,t,e,i,n,r,s,u){var l=0,v=t;v=v+i>>>0,l+=v<t?1:0,v=v+r>>>0,l+=v<r?1:0,v=v+u>>>0,l+=v<u?1:0;var f=a+e+n+s+l;return f>>>0}ve.sum64_4_hi=tl;function el(a,t,e,i,n,r,s,u){var l=t+i+r+u;return l>>>0}ve.sum64_4_lo=el;function nl(a,t,e,i,n,r,s,u,l,v){var f=0,p=t;p=p+i>>>0,f+=p<t?1:0,p=p+r>>>0,f+=p<r?1:0,p=p+u>>>0,f+=p<u?1:0,p=p+v>>>0,f+=p<v?1:0;var g=a+e+n+s+l+f;return g>>>0}ve.sum64_5_hi=nl;function rl(a,t,e,i,n,r,s,u,l,v){var f=t+i+r+u+v;return f>>>0}ve.sum64_5_lo=rl;function il(a,t,e){var i=t<<32-e|a>>>e;return i>>>0}ve.rotr64_hi=il;function al(a,t,e){var i=a<<32-e|t>>>e;return i>>>0}ve.rotr64_lo=al;function ol(a,t,e){return a>>>e}ve.shr64_hi=ol;function sl(a,t,e){var i=a<<32-e|t>>>e;return i>>>0}ve.shr64_lo=sl;var vu={},Bc=ve,cl=fu;function ko(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}vu.BlockHash=ko;ko.prototype.update=function(t,e){if(t=Bc.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var i=t.length%this._delta8;this.pending=t.slice(t.length-i,t.length),this.pending.length===0&&(this.pending=null),t=Bc.join32(t,0,t.length-i,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this};ko.prototype.digest=function(t){return this.update(this._pad()),cl(this.pending===null),this._digest(t)};ko.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,i=e-(t+this.padLength)%e,n=new Array(i+this.padLength);n[0]=128;for(var r=1;r<i;r++)n[r]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=t>>>24&255,n[r++]=t>>>16&255,n[r++]=t>>>8&255,n[r++]=t&255}else for(n[r++]=t&255,n[r++]=t>>>8&255,n[r++]=t>>>16&255,n[r++]=t>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,s=8;s<this.padLength;s++)n[r++]=0;return n};var Lr={},ul=ve,sr=ul.rotr32;function ll(a,t,e,i){if(a===0)return bu(t,e,i);if(a===1||a===3)return yu(t,e,i);if(a===2)return wu(t,e,i)}Lr.ft_1=ll;function bu(a,t,e){return a&t^~a&e}Lr.ch32=bu;function wu(a,t,e){return a&t^a&e^t&e}Lr.maj32=wu;function yu(a,t,e){return a^t^e}Lr.p32=yu;function hl(a){return sr(a,2)^sr(a,13)^sr(a,22)}Lr.s0_256=hl;function fl(a){return sr(a,6)^sr(a,11)^sr(a,25)}Lr.s1_256=fl;function dl(a){return sr(a,7)^sr(a,18)^a>>>3}Lr.g0_256=dl;function pl(a){return sr(a,17)^sr(a,19)^a>>>10}Lr.g1_256=pl;var zi=ve,gl=vu,ml=Lr,_s=zi.rotl32,ba=zi.sum32,vl=zi.sum32_5,bl=ml.ft_1,Au=gl.BlockHash,wl=[1518500249,1859775393,2400959708,3395469782];function ur(){if(!(this instanceof ur))return new ur;Au.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}zi.inherits(ur,Au);var yl=ur;ur.blockSize=512;ur.outSize=160;ur.hmacStrength=80;ur.padLength=64;ur.prototype._update=function(t,e){for(var i=this.W,n=0;n<16;n++)i[n]=t[e+n];for(;n<i.length;n++)i[n]=_s(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var r=this.h[0],s=this.h[1],u=this.h[2],l=this.h[3],v=this.h[4];for(n=0;n<i.length;n++){var f=~~(n/20),p=vl(_s(r,5),bl(f,s,u,l),v,i[n],wl[f]);v=l,l=u,u=_s(s,30),s=r,r=p}this.h[0]=ba(this.h[0],r),this.h[1]=ba(this.h[1],s),this.h[2]=ba(this.h[2],u),this.h[3]=ba(this.h[3],l),this.h[4]=ba(this.h[4],v)};ur.prototype._digest=function(t){return t==="hex"?zi.toHex32(this.h,"big"):zi.split32(this.h,"big")};const Dc=M1(yl);/**
 * @license tga-js 1.1.1
 * Copyright (c) 2013-2020 Vincent Thibault, Inc.
 * License: MIT
 */const Al=0,xl=1,Ll=3,Rc=9,Nl=10,qc=11,_l=0,Uc=2,Sl=3,Pl=4,Il=48;class Fl{_checkHeader(){const t=this.header;if(t.imageType===Al)throw Error("No data");if(t.hasColorMap){if(t.colorMapLength>256||t.colorMapDepth!==24||t.colorMapType!==1)throw Error("Invalid colormap for indexed type")}else if(t.colorMapType)throw Error("Why does the image contain a palette ?");if(!t.width||!t.height)throw Error("Invalid image size");if(t.pixelDepth!==8&&t.pixelDepth!==16&&t.pixelDepth!==24&&t.pixelDepth!==32)throw Error('Invalid pixel size "'+t.pixelDepth+'"')}_decodeRLE(t,e,i,n){const r=new Uint8Array(n),s=new Uint8Array(i);let u=0;for(;u<n;){const l=t[e++];let v=1+(127&l);if(128&l){for(let f=0;f<i;++f)s[f]=t[e+f];e+=i;for(let f=0;f<v;++f)r.set(s,u),u+=i}else{v*=i;for(let f=0;f<v;++f)r[u+f]=t[e+f];u+=v,e+=v}}return r}_getImageData8bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p++){const w=e[p];t[4*(h+n*g)+3]=255,t[4*(h+n*g)+2]=i[3*w+0],t[4*(h+n*g)+1]=i[3*w+1],t[4*(h+n*g)+0]=i[3*w+2]}return t}_getImageData16bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p+=2){const w=e[p+0]|e[p+1]<<8;t[4*(h+n*g)+0]=(31744&w)>>7,t[4*(h+n*g)+1]=(992&w)>>2,t[4*(h+n*g)+2]=(31&w)>>3,t[4*(h+n*g)+3]=32768&w?0:255}return t}_getImageData24bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p+=3)t[4*(h+n*g)+3]=255,t[4*(h+n*g)+2]=e[p+0],t[4*(h+n*g)+1]=e[p+1],t[4*(h+n*g)+0]=e[p+2];return t}_getImageData32bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p+=4)t[4*(h+n*g)+2]=e[p+0],t[4*(h+n*g)+1]=e[p+1],t[4*(h+n*g)+0]=e[p+2],t[4*(h+n*g)+3]=e[p+3];return t}_getImageDataGrey8bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p++){const w=e[p];t[4*(h+n*g)+0]=w,t[4*(h+n*g)+1]=w,t[4*(h+n*g)+2]=w,t[4*(h+n*g)+3]=255}return t}_getImageDataGrey16bits(t,e,i,n,r,s,u,l,v,f){for(let p=0,g=r;g!==u;g+=s)for(let h=l;h!==f;h+=v,p+=2)t[4*(h+n*g)+0]=e[p+0],t[4*(h+n*g)+1]=e[p+0],t[4*(h+n*g)+2]=e[p+0],t[4*(h+n*g)+3]=e[p+1];return t}open(t,e){const i=new XMLHttpRequest;i.responseType="arraybuffer",i.open("GET",t,!0),i.onload=()=>{i.status===200&&(this.load(new Uint8Array(i.response)),e&&e())},i.send(null)}load(t){let e=0;if(t.length<18)throw Error("Not enough data to contain header");const i={idLength:t[e++],colorMapType:t[e++],imageType:t[e++],colorMapIndex:t[e++]|t[e++]<<8,colorMapLength:t[e++]|t[e++]<<8,colorMapDepth:t[e++],offsetX:t[e++]|t[e++]<<8,offsetY:t[e++]|t[e++]<<8,width:t[e++]|t[e++]<<8,height:t[e++]|t[e++]<<8,pixelDepth:t[e++],flags:t[e++]};if(i.hasEncoding=i.imageType===Rc||i.imageType===Nl||i.imageType===qc,i.hasColorMap=i.imageType===Rc||i.imageType===xl,i.isGreyColor=i.imageType===qc||i.imageType===Ll,this.header=i,this._checkHeader(),(e+=i.idLength)>=t.length)throw Error("No data");if(i.hasColorMap){const u=i.colorMapLength*(i.colorMapDepth>>3);this.palette=t.subarray(e,e+u),e+=u}const n=i.pixelDepth>>3,r=i.width*i.height,s=r*n;i.hasEncoding?this.imageData=this._decodeRLE(t,e,n,s):this.imageData=t.subarray(e,e+(i.hasColorMap?r:s))}getImageData(t){const{width:e,height:i,flags:n,pixelDepth:r,isGreyColor:s}=this.header,u=(n&Il)>>Pl;let l,v,f,p,g,h,w;switch(t||(t=document?document.createElement("canvas").getContext("2d").createImageData(e,i):{width:e,height:i,data:new Uint8ClampedArray(e*i*4)}),u===Uc||u===Sl?(p=0,g=1,h=i):(p=i-1,g=-1,h=-1),u===Uc||u===_l?(l=0,v=1,f=e):(l=e-1,v=-1,f=-1),r){case 8:w=s?this._getImageDataGrey8bits:this._getImageData8bits;break;case 16:w=s?this._getImageDataGrey16bits:this._getImageData16bits;break;case 24:w=this._getImageData24bits;break;case 32:w=this._getImageData32bits}return w.call(this,t.data,this.imageData,this.palette,e,p,g,h,l,v,f),t}getCanvas(){const{width:t,height:e}=this.header,i=document.createElement("canvas"),n=i.getContext("2d"),r=n.createImageData(t,e);return i.width=t,i.height=e,n.putImageData(this.getImageData(r),0,0),i}getDataURL(t){return this.getCanvas().toDataURL(t||"image/png")}}async function zc(a,t){try{if(kl(a))return El(a,t);if(Cl(a)){const e=await jl(a);return await Hc(e,t)}}catch(e){console.error(e),console.warn(`Failed to decode "${a.name}" as "${a.type}" type`)}try{return await Ml(a,t)}catch(e){return console.error(e),console.warn(`"${a.type}" type file will be decoded by fallback method.`),await Hc(a,t)}}function kl(a){return a.name.toLowerCase().endsWith(".tga")||/^(?:application|image)\/(?:x-)?(?:targa|tga)$/i.test(a.type)}function Cl(a){return a.name.toLowerCase().endsWith(".svg")||a.type.toLowerCase().includes("image/svg+xml")}async function El(a,t){const e=await window.createImageBitmap(await Ol(a)),i=Qs(e,t);return e.close(),i}async function Ol(a){const t=new Fl;return t.load(new Uint8Array(await a.arrayBuffer())),t.getImageData()}async function jl(a){const t=new DOMParser().parseFromString(await a.text(),"image/svg+xml").getElementsByTagNameNS("http://www.w3.org/2000/svg","svg")[0];if(t.getAttribute("width")&&t.getAttribute("height"))return a;const e=t.getAttribute("viewBox");if(!e)throw new Error(`Cannot read the dimension of "${a.name}"`);const[,,i,n]=e.trim().split(/\s+/);return t.setAttribute("width",i),t.setAttribute("height",n),new Blob([t.outerHTML],{type:"image/svg+xml"})}async function Ml(a,t){const e=await window.createImageBitmap(a),i=Qs(e,t);return e.close(),i}async function Hc(a,t){const e=URL.createObjectURL(a),i=document.createElement("img");await new Promise((s,u)=>{i.onload=()=>s(),i.onerror=()=>u(),i.src=e});const n=await window.createImageBitmap(i);URL.revokeObjectURL(e);const r=Qs(n,t);return n.close(),r}function Qs(a,t){const[e,i]=Tl(a.width,a.height,t),n=document.createElement("canvas");n.width=e,n.height=i;const r=n.getContext("2d");return r==null||r.drawImage(a,0,0,n.width,n.height),n}function Tl(a,t,e){const{"page-width":i,"page-height":n}=e;if(a<=i&&t<=n)return[a,t];const r=a/t,s=i/n;return r>=s?[i,i/r]:[n*r,n]}function Bl(a,t){return t.forEach(function(e){e&&typeof e!="string"&&!Array.isArray(e)&&Object.keys(e).forEach(function(i){if(i!=="default"&&!(i in a)){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(a,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}})}),Object.freeze(a)}function xu(a,t){return new Promise(function(e,i){let n;return Dl(a).then(function(r){try{return n=r,e(new Blob([t.slice(0,2),n,t.slice(2)],{type:"image/jpeg"}))}catch(s){return i(s)}},i)})}const Dl=a=>new Promise((t,e)=>{const i=new FileReader;i.addEventListener("load",({target:{result:n}})=>{const r=new DataView(n);let s=0;if(r.getUint16(s)!==65496)return e("not a valid JPEG");for(s+=2;;){const u=r.getUint16(s);if(u===65498)break;const l=r.getUint16(s+2);if(u===65505&&r.getUint32(s+4)===1165519206){const v=s+10;let f;switch(r.getUint16(v)){case 18761:f=!0;break;case 19789:f=!1;break;default:return e("TIFF header contains invalid endian")}if(r.getUint16(v+2,f)!==42)return e("TIFF header contains invalid version");const p=r.getUint32(v+4,f),g=v+p+2+12*r.getUint16(v+p,f);for(let h=v+p+2;h<g;h+=12)if(r.getUint16(h,f)==274){if(r.getUint16(h+2,f)!==3)return e("Orientation data type is invalid");if(r.getUint32(h+4,f)!==1)return e("Orientation data count is invalid");r.setUint16(h+8,1,f);break}return t(n.slice(s,s+2+l))}s+=2+l}return t(new Blob)}),i.readAsArrayBuffer(a)});var No={},Rl={get exports(){return No},set exports(a){No=a}};(function(a){var t,e,i={};Rl.exports=i,i.parse=function(n,r){for(var s=i.bin.readUshort,u=i.bin.readUint,l=0,v={},f=new Uint8Array(n),p=f.length-4;u(f,p)!=101010256;)p--;l=p,l+=4;var g=s(f,l+=4);s(f,l+=2);var h=u(f,l+=2),w=u(f,l+=4);l+=4,l=w;for(var _=0;_<g;_++){u(f,l),l+=4,l+=4,l+=4,u(f,l+=4),h=u(f,l+=4);var j=u(f,l+=4),y=s(f,l+=4),B=s(f,l+2),V=s(f,l+4);l+=6;var J=u(f,l+=8);l+=4,l+=y+B+V,i._readLocal(f,J,v,h,j,r)}return v},i._readLocal=function(n,r,s,u,l,v){var f=i.bin.readUshort,p=i.bin.readUint;p(n,r),f(n,r+=4),f(n,r+=2);var g=f(n,r+=2);p(n,r+=2),p(n,r+=4),r+=4;var h=f(n,r+=8),w=f(n,r+=2);r+=2;var _=i.bin.readUTF8(n,r,h);if(r+=h,r+=w,v)s[_]={size:l,csize:u};else{var j=new Uint8Array(n.buffer,r);if(g==0)s[_]=new Uint8Array(j.buffer.slice(r,r+u));else{if(g!=8)throw"unknown compression method: "+g;var y=new Uint8Array(l);i.inflateRaw(j,y),s[_]=y}}},i.inflateRaw=function(n,r){return i.F.inflate(n,r)},i.inflate=function(n,r){return n[0],n[1],i.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),r)},i.deflate=function(n,r){r==null&&(r={level:6});var s=0,u=new Uint8Array(50+Math.floor(1.1*n.length));u[s]=120,u[s+1]=156,s+=2,s=i.F.deflateRaw(n,u,s,r.level);var l=i.adler(n,0,n.length);return u[s+0]=l>>>24&255,u[s+1]=l>>>16&255,u[s+2]=l>>>8&255,u[s+3]=l>>>0&255,new Uint8Array(u.buffer,0,s+4)},i.deflateRaw=function(n,r){r==null&&(r={level:6});var s=new Uint8Array(50+Math.floor(1.1*n.length)),u=i.F.deflateRaw(n,s,u,r.level);return new Uint8Array(s.buffer,0,u)},i.encode=function(n,r){r==null&&(r=!1);var s=0,u=i.bin.writeUint,l=i.bin.writeUshort,v={};for(var f in n){var p=!i._noNeed(f)&&!r,g=n[f],h=i.crc.crc(g,0,g.length);v[f]={cpr:p,usize:g.length,crc:h,file:p?i.deflateRaw(g):g}}for(var f in v)s+=v[f].file.length+30+46+2*i.bin.sizeUTF8(f);s+=22;var w=new Uint8Array(s),_=0,j=[];for(var f in v){var y=v[f];j.push(_),_=i._writeHeader(w,_,f,y,0)}var B=0,V=_;for(var f in v)y=v[f],j.push(_),_=i._writeHeader(w,_,f,y,1,j[B++]);var J=_-V;return u(w,_,101010256),_+=4,l(w,_+=4,B),l(w,_+=2,B),u(w,_+=2,J),u(w,_+=4,V),_+=4,_+=2,w.buffer},i._noNeed=function(n){var r=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},i._writeHeader=function(n,r,s,u,l,v){var f=i.bin.writeUint,p=i.bin.writeUshort,g=u.file;return f(n,r,l==0?67324752:33639248),r+=4,l==1&&(r+=2),p(n,r,20),p(n,r+=2,0),p(n,r+=2,u.cpr?8:0),f(n,r+=2,0),f(n,r+=4,u.crc),f(n,r+=4,g.length),f(n,r+=4,u.usize),p(n,r+=4,i.bin.sizeUTF8(s)),p(n,r+=2,0),r+=2,l==1&&(r+=2,r+=2,f(n,r+=6,v),r+=4),r+=i.bin.writeUTF8(n,r,s),l==0&&(n.set(g,r),r+=g.length),r},i.crc={table:function(){for(var n=new Uint32Array(256),r=0;r<256;r++){for(var s=r,u=0;u<8;u++)1&s?s=3988292384^s>>>1:s>>>=1;n[r]=s}return n}(),update:function(n,r,s,u){for(var l=0;l<u;l++)n=i.crc.table[255&(n^r[s+l])]^n>>>8;return n},crc:function(n,r,s){return 4294967295^i.crc.update(4294967295,n,r,s)}},i.adler=function(n,r,s){for(var u=1,l=0,v=r,f=r+s;v<f;){for(var p=Math.min(v+5552,f);v<p;)l+=u+=n[v++];u%=65521,l%=65521}return l<<16|u},i.bin={readUshort:function(n,r){return n[r]|n[r+1]<<8},writeUshort:function(n,r,s){n[r]=255&s,n[r+1]=s>>8&255},readUint:function(n,r){return 16777216*n[r+3]+(n[r+2]<<16|n[r+1]<<8|n[r])},writeUint:function(n,r,s){n[r]=255&s,n[r+1]=s>>8&255,n[r+2]=s>>16&255,n[r+3]=s>>24&255},readASCII:function(n,r,s){for(var u="",l=0;l<s;l++)u+=String.fromCharCode(n[r+l]);return u},writeASCII:function(n,r,s){for(var u=0;u<s.length;u++)n[r+u]=s.charCodeAt(u)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,r,s){for(var u,l="",v=0;v<s;v++)l+="%"+i.bin.pad(n[r+v].toString(16));try{u=decodeURIComponent(l)}catch{return i.bin.readASCII(n,r,s)}return u},writeUTF8:function(n,r,s){for(var u=s.length,l=0,v=0;v<u;v++){var f=s.charCodeAt(v);if(!(4294967168&f))n[r+l]=f,l++;else if(!(4294965248&f))n[r+l]=192|f>>6,n[r+l+1]=128|f>>0&63,l+=2;else if(!(4294901760&f))n[r+l]=224|f>>12,n[r+l+1]=128|f>>6&63,n[r+l+2]=128|f>>0&63,l+=3;else{if(4292870144&f)throw"e";n[r+l]=240|f>>18,n[r+l+1]=128|f>>12&63,n[r+l+2]=128|f>>6&63,n[r+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(n){for(var r=n.length,s=0,u=0;u<r;u++){var l=n.charCodeAt(u);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},i.F={},i.F.deflateRaw=function(n,r,s,u){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],v=i.F.U,f=i.F._goodIndex;i.F._hash;var p=i.F._putsE,g=0,h=s<<3,w=0,_=n.length;if(u==0){for(;g<_;)p(r,h,g+(L=Math.min(65535,_-g))==_?1:0),h=i.F._copyExact(n,g,L,r,h+8),g+=L;return h>>>3}var j=v.lits,y=v.strt,B=v.prev,V=0,J=0,Z=0,z=0,Y=0,A=0;for(_>2&&(y[A=i.F._hash(n,0)]=0),g=0;g<_;g++){if(Y=A,g+1<_-2){A=i.F._hash(n,g+1);var O=g+1&32767;B[O]=y[A],y[A]=O}if(w<=g){(V>14e3||J>26697)&&_-g>100&&(w<g&&(j[V]=g-w,V+=2,w=g),h=i.F._writeBlock(g==_-1||w==_?1:0,j,V,z,n,Z,g-Z,r,h),V=J=z=0,Z=g);var H=0;g<_-2&&(H=i.F._bestMatch(n,g,B,Y,Math.min(l[2],_-g),l[3]));var L=H>>>16,x=65535&H;if(H!=0){x=65535&H;var M=f(L=H>>>16,v.of0);v.lhst[257+M]++;var F=f(x,v.df0);v.dhst[F]++,z+=v.exb[M]+v.dxb[F],j[V]=L<<23|g-w,j[V+1]=x<<16|M<<8|F,V+=2,w=g+L}else v.lhst[n[g]]++;J++}}for(Z==g&&n.length!=0||(w<g&&(j[V]=g-w,V+=2,w=g),h=i.F._writeBlock(1,j,V,z,n,Z,g-Z,r,h),V=0,J=0,V=J=z=0,Z=g);7&h;)h++;return h>>>3},i.F._bestMatch=function(n,r,s,u,l,v){var f=32767&r,p=s[f],g=f-p+32768&32767;if(p==f||u!=i.F._hash(n,r-g))return 0;for(var h=0,w=0,_=Math.min(32767,r);g<=_&&--v!=0&&p!=f;){if(h==0||n[r+h]==n[r+h-g]){var j=i.F._howLong(n,r,g);if(j>h){if(w=g,(h=j)>=l)break;g+2<j&&(j=g+2);for(var y=0,B=0;B<j-2;B++){var V=r-g+B+32768&32767,J=V-s[V]+32768&32767;J>y&&(y=J,p=V)}}}g+=(f=p)-(p=s[f])+32768&32767}return h<<16|w},i.F._howLong=function(n,r,s){if(n[r]!=n[r-s]||n[r+1]!=n[r+1-s]||n[r+2]!=n[r+2-s])return 0;var u=r,l=Math.min(n.length,r+258);for(r+=3;r<l&&n[r]==n[r-s];)r++;return r-u},i.F._hash=function(n,r){return(n[r]<<8|n[r+1])+(n[r+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(n,r,s,u,l,v,f,p,g){var h,w,_,j,y,B,V,J,Z,z=i.F.U,Y=i.F._putsF,A=i.F._putsE;z.lhst[256]++,w=(h=i.F.getTrees())[0],_=h[1],j=h[2],y=h[3],B=h[4],V=h[5],J=h[6],Z=h[7];var O=32+(g+3&7?8-(g+3&7):0)+(f<<3),H=u+i.F.contSize(z.fltree,z.lhst)+i.F.contSize(z.fdtree,z.dhst),L=u+i.F.contSize(z.ltree,z.lhst)+i.F.contSize(z.dtree,z.dhst);L+=14+3*V+i.F.contSize(z.itree,z.ihst)+(2*z.ihst[16]+3*z.ihst[17]+7*z.ihst[18]);for(var x=0;x<286;x++)z.lhst[x]=0;for(x=0;x<30;x++)z.dhst[x]=0;for(x=0;x<19;x++)z.ihst[x]=0;var M=O<H&&O<L?0:H<L?1:2;if(Y(p,g,n),Y(p,g+1,M),g+=3,M==0){for(;7&g;)g++;g=i.F._copyExact(l,v,f,p,g)}else{var F,G;if(M==1&&(F=z.fltree,G=z.fdtree),M==2){i.F.makeCodes(z.ltree,w),i.F.revCodes(z.ltree,w),i.F.makeCodes(z.dtree,_),i.F.revCodes(z.dtree,_),i.F.makeCodes(z.itree,j),i.F.revCodes(z.itree,j),F=z.ltree,G=z.dtree,A(p,g,y-257),A(p,g+=5,B-1),A(p,g+=5,V-4),g+=4;for(var k=0;k<V;k++)A(p,g+3*k,z.itree[1+(z.ordr[k]<<1)]);g+=3*V,g=i.F._codeTiny(J,z.itree,p,g),g=i.F._codeTiny(Z,z.itree,p,g)}for(var I=v,$=0;$<s;$+=2){for(var X=r[$],tt=X>>>23,mt=I+(8388607&X);I<mt;)g=i.F._writeLit(l[I++],F,p,g);if(tt!=0){var N=r[$+1],q=N>>16,R=N>>8&255,U=255&N;A(p,g=i.F._writeLit(257+R,F,p,g),tt-z.of0[R]),g+=z.exb[R],Y(p,g=i.F._writeLit(U,G,p,g),q-z.df0[U]),g+=z.dxb[U],I+=tt}}g=i.F._writeLit(256,F,p,g)}return g},i.F._copyExact=function(n,r,s,u,l){var v=l>>>3;return u[v]=s,u[v+1]=s>>>8,u[v+2]=255-u[v],u[v+3]=255-u[v+1],v+=4,u.set(new Uint8Array(n.buffer,r,s),v),l+(s+4<<3)},i.F.getTrees=function(){for(var n=i.F.U,r=i.F._hufTree(n.lhst,n.ltree,15),s=i.F._hufTree(n.dhst,n.dtree,15),u=[],l=i.F._lenCodes(n.ltree,u),v=[],f=i.F._lenCodes(n.dtree,v),p=0;p<u.length;p+=2)n.ihst[u[p]]++;for(p=0;p<v.length;p+=2)n.ihst[v[p]]++;for(var g=i.F._hufTree(n.ihst,n.itree,7),h=19;h>4&&n.itree[1+(n.ordr[h-1]<<1)]==0;)h--;return[r,s,g,l,f,h,u,v]},i.F.getSecond=function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(n[s+1]);return r},i.F.nonZero=function(n){for(var r="",s=0;s<n.length;s+=2)n[s+1]!=0&&(r+=(s>>1)+",");return r},i.F.contSize=function(n,r){for(var s=0,u=0;u<r.length;u++)s+=r[u]*n[1+(u<<1)];return s},i.F._codeTiny=function(n,r,s,u){for(var l=0;l<n.length;l+=2){var v=n[l],f=n[l+1];u=i.F._writeLit(v,r,s,u);var p=v==16?2:v==17?3:7;v>15&&(i.F._putsE(s,u,f,p),u+=p)}return u},i.F._lenCodes=function(n,r){for(var s=n.length;s!=2&&n[s-1]==0;)s-=2;for(var u=0;u<s;u+=2){var l=n[u+1],v=u+3<s?n[u+3]:-1,f=u+5<s?n[u+5]:-1,p=u==0?-1:n[u-1];if(l==0&&v==l&&f==l){for(var g=u+5;g+2<s&&n[g+2]==l;)g+=2;(h=Math.min(g+1-u>>>1,138))<11?r.push(17,h-3):r.push(18,h-11),u+=2*h-2}else if(l==p&&v==l&&f==l){for(g=u+5;g+2<s&&n[g+2]==l;)g+=2;var h=Math.min(g+1-u>>>1,6);r.push(16,h-3),u+=2*h-2}else r.push(l,0)}return s>>>1},i.F._hufTree=function(n,r,s){var u=[],l=n.length,v=r.length,f=0;for(f=0;f<v;f+=2)r[f]=0,r[f+1]=0;for(f=0;f<l;f++)n[f]!=0&&u.push({lit:f,f:n[f]});var p=u.length,g=u.slice(0);if(p==0)return 0;if(p==1){var h=u[0].lit;return g=h==0?1:0,r[1+(h<<1)]=1,r[1+(g<<1)]=1,1}u.sort(function(J,Z){return J.f-Z.f});var w=u[0],_=u[1],j=0,y=1,B=2;for(u[0]={lit:-1,f:w.f+_.f,l:w,r:_,d:0};y!=p-1;)w=j!=y&&(B==p||u[j].f<u[B].f)?u[j++]:u[B++],_=j!=y&&(B==p||u[j].f<u[B].f)?u[j++]:u[B++],u[y++]={lit:-1,f:w.f+_.f,l:w,r:_};var V=i.F.setDepth(u[y-1],0);for(V>s&&(i.F.restrictDepth(g,s,V),V=s),f=0;f<p;f++)r[1+(g[f].lit<<1)]=g[f].d;return V},i.F.setDepth=function(n,r){return n.lit!=-1?(n.d=r,r):Math.max(i.F.setDepth(n.l,r+1),i.F.setDepth(n.r,r+1))},i.F.restrictDepth=function(n,r,s){var u=0,l=1<<s-r,v=0;for(n.sort(function(p,g){return g.d==p.d?p.f-g.f:g.d-p.d}),u=0;u<n.length&&n[u].d>r;u++){var f=n[u].d;n[u].d=r,v+=l-(1<<s-f)}for(v>>>=s-r;v>0;)(f=n[u].d)<r?(n[u].d++,v-=1<<r-f-1):u++;for(;u>=0;u--)n[u].d==r&&v<0&&(n[u].d--,v++);v!=0&&console.log("debt left")},i.F._goodIndex=function(n,r){var s=0;return r[16|s]<=n&&(s|=16),r[8|s]<=n&&(s|=8),r[4|s]<=n&&(s|=4),r[2|s]<=n&&(s|=2),r[1|s]<=n&&(s|=1),s},i.F._writeLit=function(n,r,s,u){return i.F._putsF(s,u,r[n<<1]),u+r[1+(n<<1)]},i.F.inflate=function(n,r){var s=Uint8Array;if(n[0]==3&&n[1]==0)return r||new s(0);var u=i.F,l=u._bitsF,v=u._bitsE,f=u._decodeTiny,p=u.makeCodes,g=u.codes2map,h=u._get17,w=u.U,_=r==null;_&&(r=new s(n.length>>>2<<3));for(var j,y,B=0,V=0,J=0,Z=0,z=0,Y=0,A=0,O=0,H=0;B==0;)if(B=l(n,H,1),V=l(n,H+1,2),H+=3,V!=0){if(_&&(r=i.F._check(r,O+(1<<17))),V==1&&(j=w.flmap,y=w.fdmap,Y=511,A=31),V==2){J=v(n,H,5)+257,Z=v(n,H+5,5)+1,z=v(n,H+10,4)+4,H+=14;for(var L=0;L<38;L+=2)w.itree[L]=0,w.itree[L+1]=0;var x=1;for(L=0;L<z;L++){var M=v(n,H+3*L,3);w.itree[1+(w.ordr[L]<<1)]=M,M>x&&(x=M)}H+=3*z,p(w.itree,x),g(w.itree,x,w.imap),j=w.lmap,y=w.dmap,H=f(w.imap,(1<<x)-1,J+Z,n,H,w.ttree);var F=u._copyOut(w.ttree,0,J,w.ltree);Y=(1<<F)-1;var G=u._copyOut(w.ttree,J,Z,w.dtree);A=(1<<G)-1,p(w.ltree,F),g(w.ltree,F,j),p(w.dtree,G),g(w.dtree,G,y)}for(;;){var k=j[h(n,H)&Y];H+=15&k;var I=k>>>4;if(!(I>>>8))r[O++]=I;else{if(I==256)break;var $=O+I-254;if(I>264){var X=w.ldef[I-257];$=O+(X>>>3)+v(n,H,7&X),H+=7&X}var tt=y[h(n,H)&A];H+=15&tt;var mt=tt>>>4,N=w.ddef[mt],q=(N>>>4)+l(n,H,15&N);for(H+=15&N,_&&(r=i.F._check(r,O+(1<<17)));O<$;)r[O]=r[O++-q],r[O]=r[O++-q],r[O]=r[O++-q],r[O]=r[O++-q];O=$}}}else{7&H&&(H+=8-(7&H));var R=4+(H>>>3),U=n[R-4]|n[R-3]<<8;_&&(r=i.F._check(r,O+U)),r.set(new s(n.buffer,n.byteOffset+R,U),O),H=R+U<<3,O+=U}return r.length==O?r:r.slice(0,O)},i.F._check=function(n,r){var s=n.length;if(r<=s)return n;var u=new Uint8Array(Math.max(s<<1,r));return u.set(n,0),u},i.F._decodeTiny=function(n,r,s,u,l,v){for(var f=i.F._bitsE,p=i.F._get17,g=0;g<s;){var h=n[p(u,l)&r];l+=15&h;var w=h>>>4;if(w<=15)v[g]=w,g++;else{var _=0,j=0;w==16?(j=3+f(u,l,2),l+=2,_=v[g-1]):w==17?(j=3+f(u,l,3),l+=3):w==18&&(j=11+f(u,l,7),l+=7);for(var y=g+j;g<y;)v[g]=_,g++}}return l},i.F._copyOut=function(n,r,s,u){for(var l=0,v=0,f=u.length>>>1;v<s;){var p=n[v+r];u[v<<1]=0,u[1+(v<<1)]=p,p>l&&(l=p),v++}for(;v<f;)u[v<<1]=0,u[1+(v<<1)]=0,v++;return l},i.F.makeCodes=function(n,r){for(var s,u,l,v,f=i.F.U,p=n.length,g=f.bl_count,h=0;h<=r;h++)g[h]=0;for(h=1;h<p;h+=2)g[n[h]]++;var w=f.next_code;for(s=0,g[0]=0,u=1;u<=r;u++)s=s+g[u-1]<<1,w[u]=s;for(l=0;l<p;l+=2)(v=n[l+1])!=0&&(n[l]=w[v],w[v]++)},i.F.codes2map=function(n,r,s){for(var u=n.length,l=i.F.U.rev15,v=0;v<u;v+=2)if(n[v+1]!=0)for(var f=v>>1,p=n[v+1],g=f<<4|p,h=r-p,w=n[v]<<h,_=w+(1<<h);w!=_;)s[l[w]>>>15-r]=g,w++},i.F.revCodes=function(n,r){for(var s=i.F.U.rev15,u=15-r,l=0;l<n.length;l+=2){var v=n[l]<<r-n[l+1];n[l]=s[v]>>>u}},i.F._putsE=function(n,r,s){s<<=7&r;var u=r>>>3;n[u]|=s,n[u+1]|=s>>>8},i.F._putsF=function(n,r,s){s<<=7&r;var u=r>>>3;n[u]|=s,n[u+1]|=s>>>8,n[u+2]|=s>>>16},i.F._bitsE=function(n,r,s){return(n[r>>>3]|n[1+(r>>>3)]<<8)>>>(7&r)&(1<<s)-1},i.F._bitsF=function(n,r,s){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16)>>>(7&r)&(1<<s)-1},i.F._get17=function(n,r){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16)>>>(7&r)},i.F._get25=function(n,r){return(n[r>>>3]|n[1+(r>>>3)]<<8|n[2+(r>>>3)]<<16|n[3+(r>>>3)]<<24)>>>(7&r)},i.F.U=(t=Uint16Array,e=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var n=i.F.U,r=0;r<32768;r++){var s=r;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,n.rev15[r]=(s>>>16|s<<16)>>>17}function u(l,v,f){for(;v--!=0;)l.push(0,f)}for(r=0;r<32;r++)n.ldef[r]=n.of0[r]<<3|n.exb[r],n.ddef[r]=n.df0[r]<<4|n.dxb[r];u(n.fltree,144,8),u(n.fltree,112,9),u(n.fltree,24,7),u(n.fltree,8,8),i.F.makeCodes(n.fltree,9),i.F.codes2map(n.fltree,9,n.flmap),i.F.revCodes(n.fltree,9),u(n.fdtree,32,5),i.F.makeCodes(n.fdtree,5),i.F.codes2map(n.fdtree,5,n.fdmap),i.F.revCodes(n.fdtree,5),u(n.itree,19,0),u(n.ltree,286,0),u(n.dtree,30,0),u(n.ttree,320,0)}()})();var ql=Bl({__proto__:null,default:No},[No]);const Gn=function(){var a={nextZero(f,p){for(;f[p]!=0;)p++;return p},readUshort:(f,p)=>f[p]<<8|f[p+1],writeUshort(f,p,g){f[p]=g>>8&255,f[p+1]=255&g},readUint:(f,p)=>16777216*f[p]+(f[p+1]<<16|f[p+2]<<8|f[p+3]),writeUint(f,p,g){f[p]=g>>24&255,f[p+1]=g>>16&255,f[p+2]=g>>8&255,f[p+3]=255&g},readASCII(f,p,g){let h="";for(let w=0;w<g;w++)h+=String.fromCharCode(f[p+w]);return h},writeASCII(f,p,g){for(let h=0;h<g.length;h++)f[p+h]=g.charCodeAt(h)},readBytes(f,p,g){const h=[];for(let w=0;w<g;w++)h.push(f[p+w]);return h},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,p,g){let h,w="";for(let _=0;_<g;_++)w+=`%${a.pad(f[p+_].toString(16))}`;try{h=decodeURIComponent(w)}catch{return a.readASCII(f,p,g)}return h}};function t(f,p,g,h){const w=p*g,_=r(h),j=Math.ceil(p*_/8),y=new Uint8Array(4*w),B=new Uint32Array(y.buffer),{ctype:V}=h,{depth:J}=h,Z=a.readUshort;if(V==6){const X=w<<2;if(J==8)for(var z=0;z<X;z+=4)y[z]=f[z],y[z+1]=f[z+1],y[z+2]=f[z+2],y[z+3]=f[z+3];if(J==16)for(z=0;z<X;z++)y[z]=f[z<<1]}else if(V==2){const X=h.tabs.tRNS;if(X==null){if(J==8)for(z=0;z<w;z++){var Y=3*z;B[z]=255<<24|f[Y+2]<<16|f[Y+1]<<8|f[Y]}if(J==16)for(z=0;z<w;z++)Y=6*z,B[z]=255<<24|f[Y+4]<<16|f[Y+2]<<8|f[Y]}else{var A=X[0];const tt=X[1],mt=X[2];if(J==8)for(z=0;z<w;z++){var O=z<<2;Y=3*z,B[z]=255<<24|f[Y+2]<<16|f[Y+1]<<8|f[Y],f[Y]==A&&f[Y+1]==tt&&f[Y+2]==mt&&(y[O+3]=0)}if(J==16)for(z=0;z<w;z++)O=z<<2,Y=6*z,B[z]=255<<24|f[Y+4]<<16|f[Y+2]<<8|f[Y],Z(f,Y)==A&&Z(f,Y+2)==tt&&Z(f,Y+4)==mt&&(y[O+3]=0)}}else if(V==3){const X=h.tabs.PLTE,tt=h.tabs.tRNS,mt=tt?tt.length:0;if(J==1)for(var H=0;H<g;H++){var L=H*j,x=H*p;for(z=0;z<p;z++){O=x+z<<2;var M=3*(F=f[L+(z>>3)]>>7-((7&z)<<0)&1);y[O]=X[M],y[O+1]=X[M+1],y[O+2]=X[M+2],y[O+3]=F<mt?tt[F]:255}}if(J==2)for(H=0;H<g;H++)for(L=H*j,x=H*p,z=0;z<p;z++)O=x+z<<2,M=3*(F=f[L+(z>>2)]>>6-((3&z)<<1)&3),y[O]=X[M],y[O+1]=X[M+1],y[O+2]=X[M+2],y[O+3]=F<mt?tt[F]:255;if(J==4)for(H=0;H<g;H++)for(L=H*j,x=H*p,z=0;z<p;z++)O=x+z<<2,M=3*(F=f[L+(z>>1)]>>4-((1&z)<<2)&15),y[O]=X[M],y[O+1]=X[M+1],y[O+2]=X[M+2],y[O+3]=F<mt?tt[F]:255;if(J==8)for(z=0;z<w;z++){var F;O=z<<2,M=3*(F=f[z]),y[O]=X[M],y[O+1]=X[M+1],y[O+2]=X[M+2],y[O+3]=F<mt?tt[F]:255}}else if(V==4){if(J==8)for(z=0;z<w;z++){O=z<<2;var G=f[k=z<<1];y[O]=G,y[O+1]=G,y[O+2]=G,y[O+3]=f[k+1]}if(J==16)for(z=0;z<w;z++){var k;O=z<<2,G=f[k=z<<2],y[O]=G,y[O+1]=G,y[O+2]=G,y[O+3]=f[k+2]}}else if(V==0)for(A=h.tabs.tRNS?h.tabs.tRNS:-1,H=0;H<g;H++){const X=H*j,tt=H*p;if(J==1)for(var I=0;I<p;I++){var $=(G=255*(f[X+(I>>>3)]>>>7-(7&I)&1))==255*A?0:255;B[tt+I]=$<<24|G<<16|G<<8|G}else if(J==2)for(I=0;I<p;I++)$=(G=85*(f[X+(I>>>2)]>>>6-((3&I)<<1)&3))==85*A?0:255,B[tt+I]=$<<24|G<<16|G<<8|G;else if(J==4)for(I=0;I<p;I++)$=(G=17*(f[X+(I>>>1)]>>>4-((1&I)<<2)&15))==17*A?0:255,B[tt+I]=$<<24|G<<16|G<<8|G;else if(J==8)for(I=0;I<p;I++)$=(G=f[X+I])==A?0:255,B[tt+I]=$<<24|G<<16|G<<8|G;else if(J==16)for(I=0;I<p;I++)G=f[X+(I<<1)],$=Z(f,X+(I<<1))==A?0:255,B[tt+I]=$<<24|G<<16|G<<8|G}return y}function e(f,p,g,h){const w=r(f),_=Math.ceil(g*w/8),j=new Uint8Array((_+1+f.interlace)*h);return p=f.tabs.CgBI?n(p,j):i(p,j),f.interlace==0?p=s(p,f,0,g,h):f.interlace==1&&(p=function(B,V){const J=V.width,Z=V.height,z=r(V),Y=z>>3,A=Math.ceil(J*z/8),O=new Uint8Array(Z*A);let H=0;const L=[0,0,4,0,2,0,1],x=[0,4,0,2,0,1,0],M=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let G=0;for(;G<7;){const I=M[G],$=F[G];let X=0,tt=0,mt=L[G];for(;mt<Z;)mt+=I,tt++;let N=x[G];for(;N<J;)N+=$,X++;const q=Math.ceil(X*z/8);s(B,V,H,X,tt);let R=0,U=L[G];for(;U<Z;){let et=x[G],st=H+R*q<<3;for(;et<J;){var k;if(z==1&&(k=(k=B[st>>3])>>7-(7&st)&1,O[U*A+(et>>3)]|=k<<7-((7&et)<<0)),z==2&&(k=(k=B[st>>3])>>6-(7&st)&3,O[U*A+(et>>2)]|=k<<6-((3&et)<<1)),z==4&&(k=(k=B[st>>3])>>4-(7&st)&15,O[U*A+(et>>1)]|=k<<4-((1&et)<<2)),z>=8){const ct=U*A+et*Y;for(let ut=0;ut<Y;ut++)O[ct+ut]=B[(st>>3)+ut]}st+=z,et+=$}R++,U+=I}X*tt!=0&&(H+=tt*(1+q)),G+=1}return O}(p,f)),p}function i(f,p){return n(new Uint8Array(f.buffer,2,f.length-6),p)}var n=function(){const f={H:{}};return f.H.N=function(p,g){const h=Uint8Array;let w,_,j=0,y=0,B=0,V=0,J=0,Z=0,z=0,Y=0,A=0;if(p[0]==3&&p[1]==0)return g||new h(0);const O=f.H,H=O.b,L=O.e,x=O.R,M=O.n,F=O.A,G=O.Z,k=O.m,I=g==null;for(I&&(g=new h(p.length>>>2<<5));j==0;)if(j=H(p,A,1),y=H(p,A+1,2),A+=3,y!=0){if(I&&(g=f.H.W(g,Y+(1<<17))),y==1&&(w=k.J,_=k.h,Z=511,z=31),y==2){B=L(p,A,5)+257,V=L(p,A+5,5)+1,J=L(p,A+10,4)+4,A+=14;let X=1;for(var $=0;$<38;$+=2)k.Q[$]=0,k.Q[$+1]=0;for($=0;$<J;$++){const N=L(p,A+3*$,3);k.Q[1+(k.X[$]<<1)]=N,N>X&&(X=N)}A+=3*J,M(k.Q,X),F(k.Q,X,k.u),w=k.w,_=k.d,A=x(k.u,(1<<X)-1,B+V,p,A,k.v);const tt=O.V(k.v,0,B,k.C);Z=(1<<tt)-1;const mt=O.V(k.v,B,V,k.D);z=(1<<mt)-1,M(k.C,tt),F(k.C,tt,w),M(k.D,mt),F(k.D,mt,_)}for(;;){const X=w[G(p,A)&Z];A+=15&X;const tt=X>>>4;if(!(tt>>>8))g[Y++]=tt;else{if(tt==256)break;{let mt=Y+tt-254;if(tt>264){const et=k.q[tt-257];mt=Y+(et>>>3)+L(p,A,7&et),A+=7&et}const N=_[G(p,A)&z];A+=15&N;const q=N>>>4,R=k.c[q],U=(R>>>4)+H(p,A,15&R);for(A+=15&R;Y<mt;)g[Y]=g[Y++-U],g[Y]=g[Y++-U],g[Y]=g[Y++-U],g[Y]=g[Y++-U];Y=mt}}}}else{7&A&&(A+=8-(7&A));const X=4+(A>>>3),tt=p[X-4]|p[X-3]<<8;I&&(g=f.H.W(g,Y+tt)),g.set(new h(p.buffer,p.byteOffset+X,tt),Y),A=X+tt<<3,Y+=tt}return g.length==Y?g:g.slice(0,Y)},f.H.W=function(p,g){const h=p.length;if(g<=h)return p;const w=new Uint8Array(h<<1);return w.set(p,0),w},f.H.R=function(p,g,h,w,_,j){const y=f.H.e,B=f.H.Z;let V=0;for(;V<h;){const J=p[B(w,_)&g];_+=15&J;const Z=J>>>4;if(Z<=15)j[V]=Z,V++;else{let z=0,Y=0;Z==16?(Y=3+y(w,_,2),_+=2,z=j[V-1]):Z==17?(Y=3+y(w,_,3),_+=3):Z==18&&(Y=11+y(w,_,7),_+=7);const A=V+Y;for(;V<A;)j[V]=z,V++}}return _},f.H.V=function(p,g,h,w){let _=0,j=0;const y=w.length>>>1;for(;j<h;){const B=p[j+g];w[j<<1]=0,w[1+(j<<1)]=B,B>_&&(_=B),j++}for(;j<y;)w[j<<1]=0,w[1+(j<<1)]=0,j++;return _},f.H.n=function(p,g){const h=f.H.m,w=p.length;let _,j,y,B;const V=h.j;for(var J=0;J<=g;J++)V[J]=0;for(J=1;J<w;J+=2)V[p[J]]++;const Z=h.K;for(_=0,V[0]=0,j=1;j<=g;j++)_=_+V[j-1]<<1,Z[j]=_;for(y=0;y<w;y+=2)B=p[y+1],B!=0&&(p[y]=Z[B],Z[B]++)},f.H.A=function(p,g,h){const w=p.length,_=f.H.m.r;for(let j=0;j<w;j+=2)if(p[j+1]!=0){const y=j>>1,B=p[j+1],V=y<<4|B,J=g-B;let Z=p[j]<<J;const z=Z+(1<<J);for(;Z!=z;)h[_[Z]>>>15-g]=V,Z++}},f.H.l=function(p,g){const h=f.H.m.r,w=15-g;for(let _=0;_<p.length;_+=2){const j=p[_]<<g-p[_+1];p[_]=h[j]>>>w}},f.H.M=function(p,g,h){h<<=7&g;const w=g>>>3;p[w]|=h,p[w+1]|=h>>>8},f.H.I=function(p,g,h){h<<=7&g;const w=g>>>3;p[w]|=h,p[w+1]|=h>>>8,p[w+2]|=h>>>16},f.H.e=function(p,g,h){return(p[g>>>3]|p[1+(g>>>3)]<<8)>>>(7&g)&(1<<h)-1},f.H.b=function(p,g,h){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)&(1<<h)-1},f.H.Z=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)},f.H.i=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16|p[3+(g>>>3)]<<24)>>>(7&g)},f.H.m=function(){const p=Uint16Array,g=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new p(65536),g:new p(32768)}}(),function(){const p=f.H.m;for(var g=0;g<32768;g++){let w=g;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,p.r[g]=(w>>>16|w<<16)>>>17}function h(w,_,j){for(;_--!=0;)w.push(0,j)}for(g=0;g<32;g++)p.q[g]=p.S[g]<<3|p.T[g],p.c[g]=p.p[g]<<4|p.z[g];h(p._,144,8),h(p._,112,9),h(p._,24,7),h(p._,8,8),f.H.n(p._,9),f.H.A(p._,9,p.J),f.H.l(p._,9),h(p.$,32,5),f.H.n(p.$,5),f.H.A(p.$,5,p.h),f.H.l(p.$,5),h(p.Q,19,0),h(p.C,286,0),h(p.D,30,0),h(p.v,320,0)}(),f.H.N}();function r(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function s(f,p,g,h,w){let _=r(p);const j=Math.ceil(h*_/8);let y,B;_=Math.ceil(_/8);let V=f[g],J=0;if(V>1&&(f[g]=[0,0,1][V-2]),V==3)for(J=_;J<j;J++)f[J+1]=f[J+1]+(f[J+1-_]>>>1)&255;for(let Z=0;Z<w;Z++)if(y=g+Z*j,B=y+Z+1,V=f[B-1],J=0,V==0)for(;J<j;J++)f[y+J]=f[B+J];else if(V==1){for(;J<_;J++)f[y+J]=f[B+J];for(;J<j;J++)f[y+J]=f[B+J]+f[y+J-_]}else if(V==2)for(;J<j;J++)f[y+J]=f[B+J]+f[y+J-j];else if(V==3){for(;J<_;J++)f[y+J]=f[B+J]+(f[y+J-j]>>>1);for(;J<j;J++)f[y+J]=f[B+J]+(f[y+J-j]+f[y+J-_]>>>1)}else{for(;J<_;J++)f[y+J]=f[B+J]+u(0,f[y+J-j],0);for(;J<j;J++)f[y+J]=f[B+J]+u(f[y+J-_],f[y+J-j],f[y+J-_-j])}return f}function u(f,p,g){const h=f+p-g,w=h-f,_=h-p,j=h-g;return w*w<=_*_&&w*w<=j*j?f:_*_<=j*j?p:g}function l(f,p,g){g.width=a.readUint(f,p),p+=4,g.height=a.readUint(f,p),p+=4,g.depth=f[p],p++,g.ctype=f[p],p++,g.compress=f[p],p++,g.filter=f[p],p++,g.interlace=f[p],p++}function v(f,p,g,h,w,_,j,y,B){const V=Math.min(p,w),J=Math.min(g,_);let Z=0,z=0;for(let G=0;G<J;G++)for(let k=0;k<V;k++)if(j>=0&&y>=0?(Z=G*p+k<<2,z=(y+G)*w+j+k<<2):(Z=(-y+G)*p-j+k<<2,z=G*w+k<<2),B==0)h[z]=f[Z],h[z+1]=f[Z+1],h[z+2]=f[Z+2],h[z+3]=f[Z+3];else if(B==1){var Y=f[Z+3]*.00392156862745098,A=f[Z]*Y,O=f[Z+1]*Y,H=f[Z+2]*Y,L=h[z+3]*(1/255),x=h[z]*L,M=h[z+1]*L,F=h[z+2]*L;const I=1-Y,$=Y+L*I,X=$==0?0:1/$;h[z+3]=255*$,h[z+0]=(A+x*I)*X,h[z+1]=(O+M*I)*X,h[z+2]=(H+F*I)*X}else if(B==2)Y=f[Z+3],A=f[Z],O=f[Z+1],H=f[Z+2],L=h[z+3],x=h[z],M=h[z+1],F=h[z+2],Y==L&&A==x&&O==M&&H==F?(h[z]=0,h[z+1]=0,h[z+2]=0,h[z+3]=0):(h[z]=A,h[z+1]=O,h[z+2]=H,h[z+3]=Y);else if(B==3){if(Y=f[Z+3],A=f[Z],O=f[Z+1],H=f[Z+2],L=h[z+3],x=h[z],M=h[z+1],F=h[z+2],Y==L&&A==x&&O==M&&H==F)continue;if(Y<220&&L>20)return!1}return!0}return{decode:function(p){const g=new Uint8Array(p);let h=8;const w=a,_=w.readUshort,j=w.readUint,y={tabs:{},frames:[]},B=new Uint8Array(g.length);let V,J=0,Z=0;const z=[137,80,78,71,13,10,26,10];for(var Y=0;Y<8;Y++)if(g[Y]!=z[Y])throw"The input is not a PNG file!";for(;h<g.length;){const G=w.readUint(g,h);h+=4;const k=w.readASCII(g,h,4);if(h+=4,k=="IHDR")l(g,h,y);else if(k=="iCCP"){for(var A=h;g[A]!=0;)A++;w.readASCII(g,h,A-h),g[A+1];const I=g.slice(A+2,h+G);let $=null;try{$=i(I)}catch{$=n(I)}y.tabs[k]=$}else if(k=="CgBI")y.tabs[k]=g.slice(h,h+4);else if(k=="IDAT"){for(Y=0;Y<G;Y++)B[J+Y]=g[h+Y];J+=G}else if(k=="acTL")y.tabs[k]={num_frames:j(g,h),num_plays:j(g,h+4)},V=new Uint8Array(g.length);else if(k=="fcTL"){Z!=0&&((F=y.frames[y.frames.length-1]).data=e(y,V.slice(0,Z),F.rect.width,F.rect.height),Z=0);const I={x:j(g,h+12),y:j(g,h+16),width:j(g,h+4),height:j(g,h+8)};let $=_(g,h+22);$=_(g,h+20)/($==0?100:$);const X={rect:I,delay:Math.round(1e3*$),dispose:g[h+24],blend:g[h+25]};y.frames.push(X)}else if(k=="fdAT"){for(Y=0;Y<G-4;Y++)V[Z+Y]=g[h+Y+4];Z+=G-4}else if(k=="pHYs")y.tabs[k]=[w.readUint(g,h),w.readUint(g,h+4),g[h+8]];else if(k=="cHRM")for(y.tabs[k]=[],Y=0;Y<8;Y++)y.tabs[k].push(w.readUint(g,h+4*Y));else if(k=="tEXt"||k=="zTXt"){y.tabs[k]==null&&(y.tabs[k]={});var O=w.nextZero(g,h),H=w.readASCII(g,h,O-h),L=h+G-O-1;if(k=="tEXt")M=w.readASCII(g,O+1,L);else{var x=i(g.slice(O+2,O+2+L));M=w.readUTF8(x,0,x.length)}y.tabs[k][H]=M}else if(k=="iTXt"){y.tabs[k]==null&&(y.tabs[k]={}),O=0,A=h,O=w.nextZero(g,A),H=w.readASCII(g,A,O-A);const I=g[A=O+1];var M;g[A+1],A+=2,O=w.nextZero(g,A),w.readASCII(g,A,O-A),A=O+1,O=w.nextZero(g,A),w.readUTF8(g,A,O-A),L=G-((A=O+1)-h),I==0?M=w.readUTF8(g,A,L):(x=i(g.slice(A,A+L)),M=w.readUTF8(x,0,x.length)),y.tabs[k][H]=M}else if(k=="PLTE")y.tabs[k]=w.readBytes(g,h,G);else if(k=="hIST"){const I=y.tabs.PLTE.length/3;for(y.tabs[k]=[],Y=0;Y<I;Y++)y.tabs[k].push(_(g,h+2*Y))}else if(k=="tRNS")y.ctype==3?y.tabs[k]=w.readBytes(g,h,G):y.ctype==0?y.tabs[k]=_(g,h):y.ctype==2&&(y.tabs[k]=[_(g,h),_(g,h+2),_(g,h+4)]);else if(k=="gAMA")y.tabs[k]=w.readUint(g,h)/1e5;else if(k=="sRGB")y.tabs[k]=g[h];else if(k=="bKGD")y.ctype==0||y.ctype==4?y.tabs[k]=[_(g,h)]:y.ctype==2||y.ctype==6?y.tabs[k]=[_(g,h),_(g,h+2),_(g,h+4)]:y.ctype==3&&(y.tabs[k]=g[h]);else if(k=="IEND")break;h+=G,w.readUint(g,h),h+=4}var F;return Z!=0&&((F=y.frames[y.frames.length-1]).data=e(y,V.slice(0,Z),F.rect.width,F.rect.height)),y.data=e(y,B,y.width,y.height),delete y.compress,delete y.interlace,delete y.filter,y},toRGBA8:function(p){const g=p.width,h=p.height;if(p.tabs.acTL==null)return[t(p.data,g,h,p).buffer];const w=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const _=g*h*4,j=new Uint8Array(_),y=new Uint8Array(_),B=new Uint8Array(_);for(let J=0;J<p.frames.length;J++){const Z=p.frames[J],z=Z.rect.x,Y=Z.rect.y,A=Z.rect.width,O=Z.rect.height,H=t(Z.data,A,O,p);if(J!=0)for(var V=0;V<_;V++)B[V]=j[V];if(Z.blend==0?v(H,A,O,j,g,h,z,Y,0):Z.blend==1&&v(H,A,O,j,g,h,z,Y,1),w.push(j.buffer.slice(0)),Z.dispose!=0){if(Z.dispose==1)v(y,A,O,j,g,h,z,Y,0);else if(Z.dispose==2)for(V=0;V<_;V++)j[V]=B[V]}}return w},_paeth:u,_copyTile:v,_bin:a}}();(function(){const{_copyTile:a}=Gn,{_bin:t}=Gn,e=Gn._paeth;var i={table:function(){const A=new Uint32Array(256);for(let O=0;O<256;O++){let H=O;for(let L=0;L<8;L++)1&H?H=3988292384^H>>>1:H>>>=1;A[O]=H}return A}(),update(A,O,H,L){for(let x=0;x<L;x++)A=i.table[255&(A^O[H+x])]^A>>>8;return A},crc:(A,O,H)=>4294967295^i.update(4294967295,A,O,H)};function n(A,O,H,L){O[H]+=A[0]*L>>4,O[H+1]+=A[1]*L>>4,O[H+2]+=A[2]*L>>4,O[H+3]+=A[3]*L>>4}function r(A){return Math.max(0,Math.min(255,A))}function s(A,O){const H=A[0]-O[0],L=A[1]-O[1],x=A[2]-O[2],M=A[3]-O[3];return H*H+L*L+x*x+M*M}function u(A,O,H,L,x,M,F){F==null&&(F=1);const G=L.length,k=[];for(var I=0;I<G;I++){const U=L[I];k.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(I=0;I<G;I++){let U=4294967295;for(var $=0,X=0;X<G;X++){var tt=s(k[I],k[X]);X!=I&&tt<U&&(U=tt,$=X)}}const mt=new Uint32Array(x.buffer),N=new Int16Array(O*H*4),q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(I=0;I<q.length;I++)q[I]=255*((q[I]+.5)/16-.5);for(let U=0;U<H;U++)for(let et=0;et<O;et++){var R;I=4*(U*O+et),F!=2?R=[r(A[I]+N[I]),r(A[I+1]+N[I+1]),r(A[I+2]+N[I+2]),r(A[I+3]+N[I+3])]:(tt=q[4*(3&U)+(3&et)],R=[r(A[I]+tt),r(A[I+1]+tt),r(A[I+2]+tt),r(A[I+3]+tt)]),$=0;let st=16777215;for(X=0;X<G;X++){const yt=s(R,k[X]);yt<st&&(st=yt,$=X)}const ct=k[$],ut=[R[0]-ct[0],R[1]-ct[1],R[2]-ct[2],R[3]-ct[3]];F==1&&(et!=O-1&&n(ut,N,I+4,7),U!=H-1&&(et!=0&&n(ut,N,I+4*O-4,3),n(ut,N,I+4*O,5),et!=O-1&&n(ut,N,I+4*O+4,1))),M[I>>2]=$,mt[I>>2]=L[$]}}function l(A,O,H,L,x){x==null&&(x={});const{crc:M}=i,F=t.writeUint,G=t.writeUshort,k=t.writeASCII;let I=8;const $=A.frames.length>1;let X,tt=!1,mt=33+($?20:0);if(x.sRGB!=null&&(mt+=13),x.pHYs!=null&&(mt+=21),x.iCCP!=null&&(X=pako.deflate(x.iCCP),mt+=21+X.length+4),A.ctype==3){for(var N=A.plte.length,q=0;q<N;q++)A.plte[q]>>>24!=255&&(tt=!0);mt+=8+3*N+4+(tt?8+1*N+4:0)}for(var R=0;R<A.frames.length;R++)$&&(mt+=38),mt+=(ct=A.frames[R]).cimg.length+12,R!=0&&(mt+=4);mt+=12;const U=new Uint8Array(mt),et=[137,80,78,71,13,10,26,10];for(q=0;q<8;q++)U[q]=et[q];if(F(U,I,13),I+=4,k(U,I,"IHDR"),I+=4,F(U,I,O),I+=4,F(U,I,H),I+=4,U[I]=A.depth,I++,U[I]=A.ctype,I++,U[I]=0,I++,U[I]=0,I++,U[I]=0,I++,F(U,I,M(U,I-17,17)),I+=4,x.sRGB!=null&&(F(U,I,1),I+=4,k(U,I,"sRGB"),I+=4,U[I]=x.sRGB,I++,F(U,I,M(U,I-5,5)),I+=4),x.iCCP!=null){const ut=13+X.length;F(U,I,ut),I+=4,k(U,I,"iCCP"),I+=4,k(U,I,"ICC profile"),I+=11,I+=2,U.set(X,I),I+=X.length,F(U,I,M(U,I-(ut+4),ut+4)),I+=4}if(x.pHYs!=null&&(F(U,I,9),I+=4,k(U,I,"pHYs"),I+=4,F(U,I,x.pHYs[0]),I+=4,F(U,I,x.pHYs[1]),I+=4,U[I]=x.pHYs[2],I++,F(U,I,M(U,I-13,13)),I+=4),$&&(F(U,I,8),I+=4,k(U,I,"acTL"),I+=4,F(U,I,A.frames.length),I+=4,F(U,I,x.loop!=null?x.loop:0),I+=4,F(U,I,M(U,I-12,12)),I+=4),A.ctype==3){for(F(U,I,3*(N=A.plte.length)),I+=4,k(U,I,"PLTE"),I+=4,q=0;q<N;q++){const ut=3*q,yt=A.plte[q],At=255&yt,Pt=yt>>>8&255,Et=yt>>>16&255;U[I+ut+0]=At,U[I+ut+1]=Pt,U[I+ut+2]=Et}if(I+=3*N,F(U,I,M(U,I-3*N-4,3*N+4)),I+=4,tt){for(F(U,I,N),I+=4,k(U,I,"tRNS"),I+=4,q=0;q<N;q++)U[I+q]=A.plte[q]>>>24&255;I+=N,F(U,I,M(U,I-N-4,N+4)),I+=4}}let st=0;for(R=0;R<A.frames.length;R++){var ct=A.frames[R];$&&(F(U,I,26),I+=4,k(U,I,"fcTL"),I+=4,F(U,I,st++),I+=4,F(U,I,ct.rect.width),I+=4,F(U,I,ct.rect.height),I+=4,F(U,I,ct.rect.x),I+=4,F(U,I,ct.rect.y),I+=4,G(U,I,L[R]),I+=2,G(U,I,1e3),I+=2,U[I]=ct.dispose,I++,U[I]=ct.blend,I++,F(U,I,M(U,I-30,30)),I+=4);const ut=ct.cimg;F(U,I,(N=ut.length)+(R==0?0:4)),I+=4;const yt=I;k(U,I,R==0?"IDAT":"fdAT"),I+=4,R!=0&&(F(U,I,st++),I+=4),U.set(ut,I),I+=N,F(U,I,M(U,yt,I-yt)),I+=4}return F(U,I,0),I+=4,k(U,I,"IEND"),I+=4,F(U,I,M(U,I-4,4)),I+=4,U.buffer}function v(A,O,H){for(let L=0;L<A.frames.length;L++){const x=A.frames[L];x.rect.width;const M=x.rect.height,F=new Uint8Array(M*x.bpl+M);x.cimg=h(x.img,M,x.bpp,x.bpl,F,O,H)}}function f(A,O,H,L,x){const M=x[0],F=x[1],G=x[2],k=x[3],I=x[4],$=x[5];let X=6,tt=8,mt=255;for(var N=0;N<A.length;N++){const Q=new Uint8Array(A[N]);for(var q=Q.length,R=0;R<q;R+=4)mt&=Q[R+3]}const U=mt!=255,et=function(Dt,Ft,xt,_t,St,It){const Ot=[];for(var Tt=0;Tt<Dt.length;Tt++){const Wt=new Uint8Array(Dt[Tt]),kt=new Uint32Array(Wt.buffer);var Ut;let de=0,ee=0,Fe=Ft,se=xt,be=_t?1:0;if(Tt!=0){const Nn=It||_t||Tt==1||Ot[Tt-2].dispose!=0?1:2;let ce=0,Jn=1e9;for(let we=0;we<Nn;we++){var Kt=new Uint8Array(Dt[Tt-1-we]);const vn=new Uint32Array(Dt[Tt-1-we]);let We=Ft,he=xt,Gt=-1,ae=-1;for(let _e=0;_e<xt;_e++)for(let Ve=0;Ve<Ft;Ve++)kt[$t=_e*Ft+Ve]!=vn[$t]&&(Ve<We&&(We=Ve),Ve>Gt&&(Gt=Ve),_e<he&&(he=_e),_e>ae&&(ae=_e));Gt==-1&&(We=he=Gt=ae=0),St&&((1&We)==1&&We--,(1&he)==1&&he--);const Kn=(Gt-We+1)*(ae-he+1);Kn<Jn&&(Jn=Kn,ce=we,de=We,ee=he,Fe=Gt-We+1,se=ae-he+1)}Kt=new Uint8Array(Dt[Tt-1-ce]),ce==1&&(Ot[Tt-1].dispose=2),Ut=new Uint8Array(Fe*se*4),a(Kt,Ft,xt,Ut,Fe,se,-de,-ee,0),be=a(Wt,Ft,xt,Ut,Fe,se,-de,-ee,3)?1:0,be==1?g(Wt,Ft,xt,Ut,{x:de,y:ee,width:Fe,height:se}):a(Wt,Ft,xt,Ut,Fe,se,-de,-ee,0)}else Ut=Wt.slice(0);Ot.push({rect:{x:de,y:ee,width:Fe,height:se},img:Ut,blend:be,dispose:0})}if(_t)for(Tt=0;Tt<Ot.length;Tt++){if((zt=Ot[Tt]).blend==1)continue;const Wt=zt.rect,kt=Ot[Tt-1].rect,de=Math.min(Wt.x,kt.x),ee=Math.min(Wt.y,kt.y),Fe={x:de,y:ee,width:Math.max(Wt.x+Wt.width,kt.x+kt.width)-de,height:Math.max(Wt.y+Wt.height,kt.y+kt.height)-ee};Ot[Tt-1].dispose=1,Tt-1!=0&&p(Dt,Ft,xt,Ot,Tt-1,Fe,St),p(Dt,Ft,xt,Ot,Tt,Fe,St)}let ie=0;if(Dt.length!=1)for(var $t=0;$t<Ot.length;$t++){var zt;ie+=(zt=Ot[$t]).rect.width*zt.rect.height}return Ot}(A,O,H,M,F,G),st={},ct=[],ut=[];if(L!=0){const Q=[];for(R=0;R<et.length;R++)Q.push(et[R].img.buffer);const Dt=function(St){let It=0;for(var Ot=0;Ot<St.length;Ot++)It+=St[Ot].byteLength;const Tt=new Uint8Array(It);let Ut=0;for(Ot=0;Ot<St.length;Ot++){const Kt=new Uint8Array(St[Ot]),ie=Kt.length;for(let $t=0;$t<ie;$t+=4){let zt=Kt[$t],Wt=Kt[$t+1],kt=Kt[$t+2];const de=Kt[$t+3];de==0&&(zt=Wt=kt=0),Tt[Ut+$t]=zt,Tt[Ut+$t+1]=Wt,Tt[Ut+$t+2]=kt,Tt[Ut+$t+3]=de}Ut+=ie}return Tt.buffer}(Q),Ft=_(Dt,L);for(R=0;R<Ft.plte.length;R++)ct.push(Ft.plte[R].est.rgba);let xt=0;for(R=0;R<et.length;R++){const _t=(At=et[R]).img.length;var yt=new Uint8Array(Ft.inds.buffer,xt>>2,_t>>2);ut.push(yt);const St=new Uint8Array(Ft.abuf,xt,_t);$&&u(At.img,At.rect.width,At.rect.height,ct,St,yt),At.img.set(St),xt+=_t}}else for(N=0;N<et.length;N++){var At=et[N];const Q=new Uint32Array(At.img.buffer);var Pt=At.rect.width;for(q=Q.length,yt=new Uint8Array(q),ut.push(yt),R=0;R<q;R++){const Dt=Q[R];if(R!=0&&Dt==Q[R-1])yt[R]=yt[R-1];else if(R>Pt&&Dt==Q[R-Pt])yt[R]=yt[R-Pt];else{let Ft=st[Dt];if(Ft==null&&(st[Dt]=Ft=ct.length,ct.push(Dt),ct.length>=300))break;yt[R]=Ft}}}const Et=ct.length;for(Et<=256&&I==0&&(tt=Et<=2?1:Et<=4?2:Et<=16?4:8,tt=Math.max(tt,k)),N=0;N<et.length;N++){(At=et[N]).rect.x,At.rect.y,Pt=At.rect.width;const Q=At.rect.height;let Dt=At.img;new Uint32Array(Dt.buffer);let Ft=4*Pt,xt=4;if(Et<=256&&I==0){Ft=Math.ceil(tt*Pt/8);var qt=new Uint8Array(Ft*Q);const _t=ut[N];for(let St=0;St<Q;St++){R=St*Ft;const It=St*Pt;if(tt==8)for(var dt=0;dt<Pt;dt++)qt[R+dt]=_t[It+dt];else if(tt==4)for(dt=0;dt<Pt;dt++)qt[R+(dt>>1)]|=_t[It+dt]<<4-4*(1&dt);else if(tt==2)for(dt=0;dt<Pt;dt++)qt[R+(dt>>2)]|=_t[It+dt]<<6-2*(3&dt);else if(tt==1)for(dt=0;dt<Pt;dt++)qt[R+(dt>>3)]|=_t[It+dt]<<7-1*(7&dt)}Dt=qt,X=3,xt=1}else if(U==0&&et.length==1){qt=new Uint8Array(Pt*Q*3);const _t=Pt*Q;for(R=0;R<_t;R++){const St=3*R,It=4*R;qt[St]=Dt[It],qt[St+1]=Dt[It+1],qt[St+2]=Dt[It+2]}Dt=qt,X=2,xt=3,Ft=3*Pt}At.img=Dt,At.bpl=Ft,At.bpp=xt}return{ctype:X,depth:tt,plte:ct,frames:et}}function p(A,O,H,L,x,M,F){const G=Uint8Array,k=Uint32Array,I=new G(A[x-1]),$=new k(A[x-1]),X=x+1<A.length?new G(A[x+1]):null,tt=new G(A[x]),mt=new k(tt.buffer);let N=O,q=H,R=-1,U=-1;for(let st=0;st<M.height;st++)for(let ct=0;ct<M.width;ct++){const ut=M.x+ct,yt=M.y+st,At=yt*O+ut,Pt=mt[At];Pt==0||L[x-1].dispose==0&&$[At]==Pt&&(X==null||X[4*At+3]!=0)||(ut<N&&(N=ut),ut>R&&(R=ut),yt<q&&(q=yt),yt>U&&(U=yt))}R==-1&&(N=q=R=U=0),F&&((1&N)==1&&N--,(1&q)==1&&q--),M={x:N,y:q,width:R-N+1,height:U-q+1};const et=L[x];et.rect=M,et.blend=1,et.img=new Uint8Array(M.width*M.height*4),L[x-1].dispose==0?(a(I,O,H,et.img,M.width,M.height,-M.x,-M.y,0),g(tt,O,H,et.img,M)):a(tt,O,H,et.img,M.width,M.height,-M.x,-M.y,0)}function g(A,O,H,L,x){a(A,O,H,L,x.width,x.height,-x.x,-x.y,2)}function h(A,O,H,L,x,M,F){const G=[];let k,I=[0,1,2,3,4];M!=-1?I=[M]:(O*L>5e5||H==1)&&(I=[0]),F&&(k={level:0});const $=ql;for(var X=0;X<I.length;X++){for(let N=0;N<O;N++)w(x,A,N,L,H,I[X]);G.push($.deflate(x,k))}let tt,mt=1e9;for(X=0;X<G.length;X++)G[X].length<mt&&(tt=X,mt=G[X].length);return G[tt]}function w(A,O,H,L,x,M){const F=H*L;let G=F+H;if(A[G]=M,G++,M==0)if(L<500)for(var k=0;k<L;k++)A[G+k]=O[F+k];else A.set(new Uint8Array(O.buffer,F,L),G);else if(M==1){for(k=0;k<x;k++)A[G+k]=O[F+k];for(k=x;k<L;k++)A[G+k]=O[F+k]-O[F+k-x]+256&255}else if(H==0){for(k=0;k<x;k++)A[G+k]=O[F+k];if(M==2)for(k=x;k<L;k++)A[G+k]=O[F+k];if(M==3)for(k=x;k<L;k++)A[G+k]=O[F+k]-(O[F+k-x]>>1)+256&255;if(M==4)for(k=x;k<L;k++)A[G+k]=O[F+k]-e(O[F+k-x],0,0)+256&255}else{if(M==2)for(k=0;k<L;k++)A[G+k]=O[F+k]+256-O[F+k-L]&255;if(M==3){for(k=0;k<x;k++)A[G+k]=O[F+k]+256-(O[F+k-L]>>1)&255;for(k=x;k<L;k++)A[G+k]=O[F+k]+256-(O[F+k-L]+O[F+k-x]>>1)&255}if(M==4){for(k=0;k<x;k++)A[G+k]=O[F+k]+256-e(0,O[F+k-L],0)&255;for(k=x;k<L;k++)A[G+k]=O[F+k]+256-e(O[F+k-x],O[F+k-L],O[F+k-x-L])&255}}}function _(A,O){const H=new Uint8Array(A),L=H.slice(0),x=new Uint32Array(L.buffer),M=j(L,O),F=M[0],G=M[1],k=H.length,I=new Uint8Array(k>>2);let $;if(H.length<2e7)for(var X=0;X<k;X+=4)$=y(F,tt=H[X]*(1/255),mt=H[X+1]*(1/255),N=H[X+2]*(1/255),q=H[X+3]*(1/255)),I[X>>2]=$.ind,x[X>>2]=$.est.rgba;else for(X=0;X<k;X+=4){var tt=H[X]*.00392156862745098,mt=H[X+1]*(1/255),N=H[X+2]*(1/255),q=H[X+3]*(1/255);for($=F;$.left;)$=B($.est,tt,mt,N,q)<=0?$.left:$.right;I[X>>2]=$.ind,x[X>>2]=$.est.rgba}return{abuf:L.buffer,inds:I,plte:G}}function j(A,O,H){H==null&&(H=1e-4);const L=new Uint32Array(A.buffer),x={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};x.bst=Z(A,x.i0,x.i1),x.est=z(x.bst);const M=[x];for(;M.length<O;){let G=0,k=0;for(var F=0;F<M.length;F++)M[F].est.L>G&&(G=M[F].est.L,k=F);if(G<H)break;const I=M[k],$=V(A,L,I.i0,I.i1,I.est.e,I.est.eMq255);if(I.i0>=$||I.i1<=$){I.est.L=0;continue}const X={i0:I.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};X.bst=Z(A,X.i0,X.i1),X.est=z(X.bst);const tt={i0:$,i1:I.i1,bst:null,est:null,tdst:0,left:null,right:null};for(tt.bst={R:[],m:[],N:I.bst.N-X.bst.N},F=0;F<16;F++)tt.bst.R[F]=I.bst.R[F]-X.bst.R[F];for(F=0;F<4;F++)tt.bst.m[F]=I.bst.m[F]-X.bst.m[F];tt.est=z(tt.bst),I.left=X,I.right=tt,M[k]=X,M.push(tt)}for(M.sort((G,k)=>k.bst.N-G.bst.N),F=0;F<M.length;F++)M[F].ind=F;return[x,M]}function y(A,O,H,L,x){if(A.left==null)return A.tdst=function(X,tt,mt,N,q){const R=tt-X[0],U=mt-X[1],et=N-X[2],st=q-X[3];return R*R+U*U+et*et+st*st}(A.est.q,O,H,L,x),A;const M=B(A.est,O,H,L,x);let F=A.left,G=A.right;M>0&&(F=A.right,G=A.left);const k=y(F,O,H,L,x);if(k.tdst<=M*M)return k;const I=y(G,O,H,L,x);return I.tdst<k.tdst?I:k}function B(A,O,H,L,x){const{e:M}=A;return M[0]*O+M[1]*H+M[2]*L+M[3]*x-A.eMq}function V(A,O,H,L,x,M){for(L-=4;H<L;){for(;J(A,H,x)<=M;)H+=4;for(;J(A,L,x)>M;)L-=4;if(H>=L)break;const F=O[H>>2];O[H>>2]=O[L>>2],O[L>>2]=F,H+=4,L-=4}for(;J(A,H,x)>M;)H-=4;return H+4}function J(A,O,H){return A[O]*H[0]+A[O+1]*H[1]+A[O+2]*H[2]+A[O+3]*H[3]}function Z(A,O,H){const L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,0,0,0],M=H-O>>2;for(let F=O;F<H;F+=4){const G=A[F]*.00392156862745098,k=A[F+1]*(1/255),I=A[F+2]*(1/255),$=A[F+3]*(1/255);x[0]+=G,x[1]+=k,x[2]+=I,x[3]+=$,L[0]+=G*G,L[1]+=G*k,L[2]+=G*I,L[3]+=G*$,L[5]+=k*k,L[6]+=k*I,L[7]+=k*$,L[10]+=I*I,L[11]+=I*$,L[15]+=$*$}return L[4]=L[1],L[8]=L[2],L[9]=L[6],L[12]=L[3],L[13]=L[7],L[14]=L[11],{R:L,m:x,N:M}}function z(A){const{R:O}=A,{m:H}=A,{N:L}=A,x=H[0],M=H[1],F=H[2],G=H[3],k=L==0?0:1/L,I=[O[0]-x*x*k,O[1]-x*M*k,O[2]-x*F*k,O[3]-x*G*k,O[4]-M*x*k,O[5]-M*M*k,O[6]-M*F*k,O[7]-M*G*k,O[8]-F*x*k,O[9]-F*M*k,O[10]-F*F*k,O[11]-F*G*k,O[12]-G*x*k,O[13]-G*M*k,O[14]-G*F*k,O[15]-G*G*k],$=I,X=Y;let tt=[Math.random(),Math.random(),Math.random(),Math.random()],mt=0,N=0;if(L!=0)for(let R=0;R<16&&(tt=X.multVec($,tt),N=Math.sqrt(X.dot(tt,tt)),tt=X.sml(1/N,tt),!(R!=0&&Math.abs(N-mt)<1e-9));R++)mt=N;const q=[x*k,M*k,F*k,G*k];return{Cov:I,q,e:tt,L:mt,eMq255:X.dot(X.sml(255,q),tt),eMq:X.dot(tt,q),rgba:(Math.round(255*q[3])<<24|Math.round(255*q[2])<<16|Math.round(255*q[1])<<8|Math.round(255*q[0])<<0)>>>0}}var Y={multVec:(A,O)=>[A[0]*O[0]+A[1]*O[1]+A[2]*O[2]+A[3]*O[3],A[4]*O[0]+A[5]*O[1]+A[6]*O[2]+A[7]*O[3],A[8]*O[0]+A[9]*O[1]+A[10]*O[2]+A[11]*O[3],A[12]*O[0]+A[13]*O[1]+A[14]*O[2]+A[15]*O[3]],dot:(A,O)=>A[0]*O[0]+A[1]*O[1]+A[2]*O[2]+A[3]*O[3],sml:(A,O)=>[A*O[0],A*O[1],A*O[2],A*O[3]]};Gn.encode=function(O,H,L,x,M,F,G){x==null&&(x=0),G==null&&(G=!1);const k=f(O,H,L,x,[!1,!1,!1,0,G,!1]);return v(k,-1),l(k,H,L,M,F)},Gn.encodeLL=function(O,H,L,x,M,F,G,k){const I={ctype:0+(x==1?0:2)+(M==0?0:4),depth:F,frames:[]},$=(x+M)*F,X=$*H;for(let tt=0;tt<O.length;tt++)I.frames.push({rect:{x:0,y:0,width:H,height:L},img:new Uint8Array(O[tt]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(X/8)});return v(I,0,!0),l(I,H,L,G,k)},Gn.encode.compress=f,Gn.encode.dither=u,Gn.quantize=_,Gn.quantize.getKDtree=j,Gn.quantize.getNearest=y})();const Lu={toArrayBuffer(a,t){const e=a.width,i=a.height,n=e<<2,r=a.getContext("2d").getImageData(0,0,e,i),s=new Uint32Array(r.data.buffer),u=(32*e+31)/32<<2,l=u*i,v=122+l,f=new ArrayBuffer(v),p=new DataView(f),g=1<<20;let h,w,_,j,y=g,B=0,V=0,J=0;function Z(A){p.setUint16(V,A,!0),V+=2}function z(A){p.setUint32(V,A,!0),V+=4}function Y(A){V+=A}Z(19778),z(v),Y(4),z(122),z(108),z(e),z(-i>>>0),Z(1),Z(32),z(3),z(l),z(2835),z(2835),Y(8),z(16711680),z(65280),z(255),z(4278190080),z(1466527264),function A(){for(;B<i&&y>0;){for(j=122+B*u,h=0;h<n;)y--,w=s[J++],_=w>>>24,p.setUint32(j+h,w<<8|_),h+=4;B++}J<s.length?(y=g,setTimeout(A,Lu._dly)):t(f)}()},toBlob(a,t){this.toArrayBuffer(a,e=>{t(new Blob([e],{type:"image/bmp"}))})},_dly:9};var gn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ul={[gn.CHROME]:16384,[gn.FIREFOX]:11180,[gn.DESKTOP_SAFARI]:16384,[gn.IE]:8192,[gn.IOS]:4096,[gn.ETC]:8192};const Zs=typeof window<"u",Nu=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,_o=Zs&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),zl=(Zs||Nu)&&(_o&&_o.getOriginalSymbol(window,"File")||typeof File<"u"&&File),_u=(Zs||Nu)&&(_o&&_o.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function tc(a,t,e=Date.now()){return new Promise(i=>{const n=a.split(","),r=n[0].match(/:(.*?);/)[1],s=globalThis.atob(n[1]);let u=s.length;const l=new Uint8Array(u);for(;u--;)l[u]=s.charCodeAt(u);const v=new Blob([l],{type:r});v.name=t,v.lastModified=e,i(v)})}function Su(a){return new Promise((t,e)=>{const i=new _u;i.onload=()=>t(i.result),i.onerror=n=>e(n),i.readAsDataURL(a)})}function Pu(a){return new Promise((t,e)=>{const i=new Image;i.onload=()=>t(i),i.onerror=n=>e(n),i.src=a})}function ei(){if(ei.cachedResult!==void 0)return ei.cachedResult;let a=gn.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?a=gn.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?a=gn.IOS:/Safari/i.test(t)?a=gn.DESKTOP_SAFARI:/Firefox/i.test(t)?a=gn.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(a=gn.IE),ei.cachedResult=a,ei.cachedResult}function Iu(a,t){const e=ei(),i=Ul[e];let n=a,r=t,s=n*r;const u=n>r?r/n:n/r;for(;s>i*i;){const l=(i+n)/2,v=(i+r)/2;l<v?(r=v,n=v*u):(r=l*u,n=l),s=n*r}return{width:n,height:r}}function Co(a,t){let e,i;try{if(e=new OffscreenCanvas(a,t),i=e.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{e=document.createElement("canvas"),i=e.getContext("2d")}return e.width=a,e.height=t,[e,i]}function Fu(a,t){const{width:e,height:i}=Iu(a.width,a.height),[n,r]=Co(e,i);return t&&/jpe?g/.test(t)&&(r.fillStyle="white",r.fillRect(0,0,n.width,n.height)),r.drawImage(a,0,0,n.width,n.height),n}function bo(){return bo.cachedResult!==void 0||(bo.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),bo.cachedResult}function So(a,t={}){return new Promise(function(e,i){let n,r;var s=function(){try{return r=Fu(n,t.fileType||a.type),e([n,r])}catch(l){return i(l)}},u=function(l){try{var v=function(f){try{throw f}catch(p){return i(p)}};try{let f;return Su(a).then(function(p){try{return f=p,Pu(f).then(function(g){try{return n=g,function(){try{return s()}catch(h){return i(h)}}()}catch(h){return v(h)}},v)}catch(g){return v(g)}},v)}catch(f){v(f)}}catch(f){return i(f)}};try{if(bo()||[gn.DESKTOP_SAFARI,gn.MOBILE_SAFARI].includes(ei()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then(function(l){try{return n=l,s()}catch{return u()}},u)}catch{u()}})}function Po(a,t,e,i,n=1){return new Promise(function(r,s){let u;if(t==="image/png"){let v,f,p;return v=a.getContext("2d"),{data:f}=v.getImageData(0,0,a.width,a.height),p=Gn.encode([f.buffer],a.width,a.height,4096*n),u=new Blob([p],{type:t}),u.name=e,u.lastModified=i,l.call(this)}{let v=function(){return l.call(this)};if(t==="image/bmp")return new Promise(f=>Lu.toBlob(a,f)).then(function(f){try{return u=f,u.name=e,u.lastModified=i,v.call(this)}catch(p){return s(p)}}.bind(this),s);{let f=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:t,quality:n}).then(function(p){try{return u=p,u.name=e,u.lastModified=i,f.call(this)}catch(g){return s(g)}}.bind(this),s);{let p;return p=a.toDataURL(t,n),tc(p,e,i).then(function(g){try{return u=g,f.call(this)}catch(h){return s(h)}}.bind(this),s)}}}function l(){return r(u)}})}function ar(a){a.width=0,a.height=0}function Ti(){return new Promise(function(a,t){let e,i,n,r;return Ti.cachedResult!==void 0?a(Ti.cachedResult):tc("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return e=s,So(e).then(function(u){try{return i=u[1],Po(i,e.type,e.name,e.lastModified).then(function(l){try{return n=l,ar(i),So(n).then(function(v){try{return r=v[0],Ti.cachedResult=r.width===1&&r.height===2,a(Ti.cachedResult)}catch(f){return t(f)}},t)}catch(v){return t(v)}},t)}catch(l){return t(l)}},t)}catch(u){return t(u)}},t)})}function ku(a){return new Promise((t,e)=>{const i=new _u;i.onload=n=>{const r=new DataView(n.target.result);if(r.getUint16(0,!1)!=65496)return t(-2);const s=r.byteLength;let u=2;for(;u<s;){if(r.getUint16(u+2,!1)<=8)return t(-1);const l=r.getUint16(u,!1);if(u+=2,l==65505){if(r.getUint32(u+=2,!1)!=1165519206)return t(-1);const v=r.getUint16(u+=6,!1)==18761;u+=r.getUint32(u+4,v);const f=r.getUint16(u,v);u+=2;for(let p=0;p<f;p++)if(r.getUint16(u+12*p,v)==274)return t(r.getUint16(u+12*p+8,v))}else{if((65280&l)!=65280)break;u+=r.getUint16(u,!1)}}return t(-1)},i.onerror=n=>e(n),i.readAsArrayBuffer(a)})}function Cu(a,t){const{width:e}=a,{height:i}=a,{maxWidthOrHeight:n}=t;let r,s=a;return isFinite(n)&&(e>n||i>n)&&([s,r]=Co(e,i),e>i?(s.width=n,s.height=i/e*n):(s.width=e/i*n,s.height=n),r.drawImage(a,0,0,s.width,s.height),ar(a)),s}function Eu(a,t){const{width:e}=a,{height:i}=a,[n,r]=Co(e,i);switch(t>4&&t<9?(n.width=i,n.height=e):(n.width=e,n.height=i),t){case 2:r.transform(-1,0,0,1,e,0);break;case 3:r.transform(-1,0,0,-1,e,i);break;case 4:r.transform(1,0,0,-1,0,i);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,i,0);break;case 7:r.transform(0,-1,-1,0,i,e);break;case 8:r.transform(0,-1,1,0,0,e)}return r.drawImage(a,0,0,e,i),ar(a),n}function Wc(a,t,e=0){return new Promise(function(i,n){let r,s,u,l,v,f,p,g,h,w,_,j,y,B,V,J,Z,z,Y,A;function O(L=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;r+=L,t.onProgress(Math.min(r,100))}function H(L){if(t.signal&&t.signal.aborted)throw t.signal.reason;r=Math.min(Math.max(L,r),100),t.onProgress(r)}return r=e,s=t.maxIteration||10,u=1024*t.maxSizeMB*1024,O(),So(a,t).then(function(L){try{return[,l]=L,O(),v=Cu(l,t),O(),new Promise(function(x,M){var F;if(!(F=t.exifOrientation))return ku(a).then(function(k){try{return F=k,G.call(this)}catch(I){return M(I)}}.bind(this),M);function G(){return x(F)}return G.call(this)}).then(function(x){try{return f=x,O(),Ti().then(function(M){try{return p=M?v:Eu(v,f),O(),g=t.initialQuality||1,h=t.fileType||a.type,Po(p,h,a.name,a.lastModified,g).then(function(F){try{{let k=function(){if(s--&&(V>u||V>y)){let $,X;return $=A?.95*Y.width:Y.width,X=A?.95*Y.height:Y.height,[Z,z]=Co($,X),z.drawImage(Y,0,0,$,X),g*=h==="image/png"?.85:.95,Po(Z,h,a.name,a.lastModified,g).then(function(tt){try{return J=tt,ar(Y),Y=Z,V=J.size,H(Math.min(99,Math.floor((B-V)/(B-u)*100))),k}catch(mt){return n(mt)}},n)}return[1]},I=function(){return ar(Y),ar(Z),ar(v),ar(p),ar(l),H(100),i(J)};if(w=F,O(),_=w.size>u,j=w.size>a.size,!_&&!j)return H(100),i(w);var G;return y=a.size,B=w.size,V=B,Y=p,A=!t.alwaysKeepResolution&&_,(G=function($){for(;$;){if($.then)return void $.then(G,n);try{if($.pop){if($.length)return $.pop()?I.call(this):$;$=k}else $=$.call(this)}catch(X){return n(X)}}}.bind(this))(k)}}catch(k){return n(k)}}.bind(this),n)}catch(F){return n(F)}}.bind(this),n)}catch(M){return n(M)}}.bind(this),n)}catch(x){return n(x)}}.bind(this),n)})}const Hl=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Ss;function Wl(a,t){return new Promise((e,i)=>{Ss||(Ss=function(s){const u=[];return typeof s=="function"?u.push(`(${s})()`):u.push(s),URL.createObjectURL(new Blob(u))}(Hl));const n=new Worker(Ss);n.addEventListener("message",function(s){if(t.signal&&t.signal.aborted)n.terminate();else if(s.data.progress===void 0){if(s.data.error)return i(new Error(s.data.error)),void n.terminate();e(s.data.file),n.terminate()}else t.onProgress(s.data.progress)}),n.addEventListener("error",i),t.signal&&t.signal.addEventListener("abort",()=>{i(t.signal.reason),n.terminate()}),n.postMessage({file:a,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function $e(a,t){return new Promise(function(e,i){let n,r,s,u,l,v;if(n={...t},s=0,{onProgress:u}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=h=>{s=h,typeof u=="function"&&u(s)},!(a instanceof Blob||a instanceof zl))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return i(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||v)return Wc(a,n).then(function(h){try{return r=h,g.call(this)}catch(w){return i(w)}}.bind(this),i);var f=function(){try{return g.call(this)}catch(h){return i(h)}}.bind(this),p=function(h){try{return Wc(a,n).then(function(w){try{return r=w,f()}catch(_){return i(_)}},i)}catch(w){return i(w)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Wl(a,n).then(function(h){try{return r=h,f()}catch{return p()}},p)}catch{p()}function g(){try{r.name=a.name,r.lastModified=a.lastModified}catch{}try{n.preserveExif&&a.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===a.type)&&(r=xu(a,r))}catch{}return e(r)}})}$e.getDataUrlFromFile=Su,$e.getFilefromDataUrl=tc,$e.loadImage=Pu,$e.drawImageInCanvas=Fu,$e.drawFileInCanvas=So,$e.canvasToFile=Po,$e.getExifOrientation=ku,$e.handleMaxWidthOrHeight=Cu,$e.followExifOrientation=Eu,$e.cleanupCanvasMemory=ar,$e.isAutoOrientationInBrowser=Ti,$e.approximateBelowMaximumCanvasSizeOfBrowser=Iu,$e.copyExifWithoutOrientation=xu,$e.getBrowserName=ei,$e.version="2.0.2";function me(a){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(a)}var sn=Uint8Array,cn=Uint16Array,La=Uint32Array,Eo=new sn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oo=new sn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qs=new sn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ou=function(a,t){for(var e=new cn(31),i=0;i<31;++i)e[i]=t+=1<<a[i-1];for(var n=new La(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)n[r]=r-e[i]<<5|i;return[e,n]},ju=Ou(Eo,2),Mu=ju[0],Us=ju[1];Mu[28]=258,Us[258]=28;var Tu=Ou(Oo,0),Vl=Tu[0],Vc=Tu[1],zs=new cn(32768);for(var Se=0;Se<32768;++Se){var qr=(Se&43690)>>>1|(Se&21845)<<1;qr=(qr&52428)>>>2|(qr&13107)<<2,qr=(qr&61680)>>>4|(qr&3855)<<4,zs[Se]=((qr&65280)>>>8|(qr&255)<<8)>>>1}var cr=function(a,t,e){for(var i=a.length,n=0,r=new cn(t);n<i;++n)++r[a[n]-1];var s=new cn(t);for(n=0;n<t;++n)s[n]=s[n-1]+r[n-1]<<1;var u;if(e){u=new cn(1<<t);var l=15-t;for(n=0;n<i;++n)if(a[n])for(var v=n<<4|a[n],f=t-a[n],p=s[a[n]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)u[zs[p]>>>l]=v}else for(u=new cn(i),n=0;n<i;++n)u[n]=zs[s[a[n]-1]++]>>>15-a[n];return u},Hr=new sn(288);for(var Se=0;Se<144;++Se)Hr[Se]=8;for(var Se=144;Se<256;++Se)Hr[Se]=9;for(var Se=256;Se<280;++Se)Hr[Se]=7;for(var Se=280;Se<288;++Se)Hr[Se]=8;var Na=new sn(32);for(var Se=0;Se<32;++Se)Na[Se]=5;var Gl=cr(Hr,9,0),Yl=cr(Hr,9,1),Xl=cr(Na,5,0),Jl=cr(Na,5,1),Ps=function(a){for(var t=a[0],e=1;e<a.length;++e)a[e]>t&&(t=a[e]);return t},Wn=function(a,t,e){var i=t/8>>0;return(a[i]|a[i+1]<<8)>>>(t&7)&e},Is=function(a,t){var e=t/8>>0;return(a[e]|a[e+1]<<8|a[e+2]<<16)>>>(t&7)},ec=function(a){return(a/8>>0)+(a&7&&1)},Bu=function(a,t,e){(t==null||t<0)&&(t=0),(e==null||e>a.length)&&(e=a.length);var i=new(a instanceof cn?cn:a instanceof La?La:sn)(e-t);return i.set(a.subarray(t,e)),i},Kl=function(a,t,e){var i=a.length,n=!t||e,r=!e||e.i;e||(e={}),t||(t=new sn(i*3));var s=function(et){var st=t.length;if(et>st){var ct=new sn(Math.max(st*2,et));ct.set(t),t=ct}},u=e.f||0,l=e.p||0,v=e.b||0,f=e.l,p=e.d,g=e.m,h=e.n,w=i*8;do{if(!f){e.f=u=Wn(a,l,1);var _=Wn(a,l+1,3);if(l+=3,_)if(_==1)f=Yl,p=Jl,g=9,h=5;else if(_==2){var V=Wn(a,l,31)+257,J=Wn(a,l+10,15)+4,Z=V+Wn(a,l+5,31)+1;l+=14;for(var z=new sn(Z),Y=new sn(19),A=0;A<J;++A)Y[qs[A]]=Wn(a,l+A*3,7);l+=J*3;var O=Ps(Y),H=(1<<O)-1;if(!r&&l+Z*(O+7)>w)break;for(var L=cr(Y,O,1),A=0;A<Z;){var x=L[Wn(a,l,H)];l+=x&15;var j=x>>>4;if(j<16)z[A++]=j;else{var M=0,F=0;for(j==16?(F=3+Wn(a,l,3),l+=2,M=z[A-1]):j==17?(F=3+Wn(a,l,7),l+=3):j==18&&(F=11+Wn(a,l,127),l+=7);F--;)z[A++]=M}}var G=z.subarray(0,V),k=z.subarray(V);g=Ps(G),h=Ps(k),f=cr(G,g,1),p=cr(k,h,1)}else throw"invalid block type";else{var j=ec(l)+4,y=a[j-4]|a[j-3]<<8,B=j+y;if(B>i){if(r)throw"unexpected EOF";break}n&&s(v+y),t.set(a.subarray(j,B),v),e.b=v+=y,e.p=l=B*8;continue}if(l>w)throw"unexpected EOF"}n&&s(v+131072);for(var I=(1<<g)-1,$=(1<<h)-1,X=g+h+18;r||l+X<w;){var M=f[Is(a,l)&I],tt=M>>>4;if(l+=M&15,l>w)throw"unexpected EOF";if(!M)throw"invalid length/literal";if(tt<256)t[v++]=tt;else if(tt==256){f=null;break}else{var mt=tt-254;if(tt>264){var A=tt-257,N=Eo[A];mt=Wn(a,l,(1<<N)-1)+Mu[A],l+=N}var q=p[Is(a,l)&$],R=q>>>4;if(!q)throw"invalid distance";l+=q&15;var k=Vl[R];if(R>3){var N=Oo[R];k+=Is(a,l)&(1<<N)-1,l+=N}if(l>w)throw"unexpected EOF";n&&s(v+131072);for(var U=v+mt;v<U;v+=4)t[v]=t[v-k],t[v+1]=t[v+1-k],t[v+2]=t[v+2-k],t[v+3]=t[v+3-k];v=U}}e.l=f,e.p=l,e.b=v,f&&(u=1,e.m=g,e.d=p,e.n=h)}while(!u);return v==t.length?t:Bu(t,0,v)},xr=function(a,t,e){e<<=t&7;var i=t/8>>0;a[i]|=e,a[i+1]|=e>>>8},wa=function(a,t,e){e<<=t&7;var i=t/8>>0;a[i]|=e,a[i+1]|=e>>>8,a[i+2]|=e>>>16},Fs=function(a,t){for(var e=[],i=0;i<a.length;++i)a[i]&&e.push({s:i,f:a[i]});var n=e.length,r=e.slice();if(!n)return[new sn(0),0];if(n==1){var s=new sn(e[0].s+1);return s[e[0].s]=1,[s,1]}e.sort(function(Z,z){return Z.f-z.f}),e.push({s:-1,f:25001});var u=e[0],l=e[1],v=0,f=1,p=2;for(e[0]={s:-1,f:u.f+l.f,l:u,r:l};f!=n-1;)u=e[e[v].f<e[p].f?v++:p++],l=e[v!=f&&e[v].f<e[p].f?v++:p++],e[f++]={s:-1,f:u.f+l.f,l:u,r:l};for(var g=r[0].s,i=1;i<n;++i)r[i].s>g&&(g=r[i].s);var h=new cn(g+1),w=Hs(e[f-1],h,0);if(w>t){var i=0,_=0,j=w-t,y=1<<j;for(r.sort(function(z,Y){return h[Y.s]-h[z.s]||z.f-Y.f});i<n;++i){var B=r[i].s;if(h[B]>t)_+=y-(1<<w-h[B]),h[B]=t;else break}for(_>>>=j;_>0;){var V=r[i].s;h[V]<t?_-=1<<t-h[V]++-1:++i}for(;i>=0&&_;--i){var J=r[i].s;h[J]==t&&(--h[J],++_)}w=t}return[new sn(h),w]},Hs=function(a,t,e){return a.s==-1?Math.max(Hs(a.l,t,e+1),Hs(a.r,t,e+1)):t[a.s]=e},Gc=function(a){for(var t=a.length;t&&!a[--t];);for(var e=new cn(++t),i=0,n=a[0],r=1,s=function(l){e[i++]=l},u=1;u<=t;++u)if(a[u]==n&&u!=t)++r;else{if(!n&&r>2){for(;r>138;r-=138)s(32754);r>2&&(s(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(s(n),--r;r>6;r-=6)s(8304);r>2&&(s(r-3<<5|8208),r=0)}for(;r--;)s(n);r=1,n=a[u]}return[e.subarray(0,i),t]},ya=function(a,t){for(var e=0,i=0;i<t.length;++i)e+=a[i]*t[i];return e},wo=function(a,t,e){var i=e.length,n=ec(t+2);a[n]=i&255,a[n+1]=i>>>8,a[n+2]=a[n]^255,a[n+3]=a[n+1]^255;for(var r=0;r<i;++r)a[n+r+4]=e[r];return(n+4+i)*8},Yc=function(a,t,e,i,n,r,s,u,l,v,f){xr(t,f++,e),++n[256];for(var p=Fs(n,15),g=p[0],h=p[1],w=Fs(r,15),_=w[0],j=w[1],y=Gc(g),B=y[0],V=y[1],J=Gc(_),Z=J[0],z=J[1],Y=new cn(19),A=0;A<B.length;++A)Y[B[A]&31]++;for(var A=0;A<Z.length;++A)Y[Z[A]&31]++;for(var O=Fs(Y,7),H=O[0],L=O[1],x=19;x>4&&!H[qs[x-1]];--x);var M=v+5<<3,F=ya(n,Hr)+ya(r,Na)+s,G=ya(n,g)+ya(r,_)+s+14+3*x+ya(Y,H)+(2*Y[16]+3*Y[17]+7*Y[18]);if(M<=F&&M<=G)return wo(t,f,a.subarray(l,l+v));var k,I,$,X;if(xr(t,f,1+(G<F)),f+=2,G<F){k=cr(g,h,0),I=g,$=cr(_,j,0),X=_;var tt=cr(H,L,0);xr(t,f,V-257),xr(t,f+5,z-1),xr(t,f+10,x-4),f+=14;for(var A=0;A<x;++A)xr(t,f+3*A,H[qs[A]]);f+=3*x;for(var mt=[B,Z],N=0;N<2;++N)for(var q=mt[N],A=0;A<q.length;++A){var R=q[A]&31;xr(t,f,tt[R]),f+=H[R],R>15&&(xr(t,f,q[A]>>>5&127),f+=q[A]>>>12)}}else k=Gl,I=Hr,$=Xl,X=Na;for(var A=0;A<u;++A)if(i[A]>255){var R=i[A]>>>18&31;wa(t,f,k[R+257]),f+=I[R+257],R>7&&(xr(t,f,i[A]>>>23&31),f+=Eo[R]);var U=i[A]&31;wa(t,f,$[U]),f+=X[U],U>3&&(wa(t,f,i[A]>>>5&8191),f+=Oo[U])}else wa(t,f,k[i[A]]),f+=I[i[A]];return wa(t,f,k[256]),f+I[256]},$l=new La([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ql=new sn(0),Zl=function(a,t,e,i,n,r){var s=a.length,u=new sn(i+s+5*(1+Math.floor(s/7e3))+n),l=u.subarray(i,u.length-n),v=0;if(!t||s<8)for(var f=0;f<=s;f+=65535){var p=f+65535;p<s?v=wo(l,v,a.subarray(f,p)):(l[f]=r,v=wo(l,v,a.subarray(f,s)))}else{for(var g=$l[t-1],h=g>>>13,w=g&8191,_=(1<<e)-1,j=new cn(32768),y=new cn(_+1),B=Math.ceil(e/3),V=2*B,J=function(qt){return(a[qt]^a[qt+1]<<B^a[qt+2]<<V)&_},Z=new La(25e3),z=new cn(288),Y=new cn(32),A=0,O=0,f=0,H=0,L=0,x=0;f<s;++f){var M=J(f),F=f&32767,G=y[M];if(j[F]=G,y[M]=F,L<=f){var k=s-f;if((A>7e3||H>24576)&&k>423){v=Yc(a,l,0,Z,z,Y,O,H,x,f-x,v),H=A=O=0,x=f;for(var I=0;I<286;++I)z[I]=0;for(var I=0;I<30;++I)Y[I]=0}var $=2,X=0,tt=w,mt=F-G&32767;if(k>2&&M==J(f-mt))for(var N=Math.min(h,k)-1,q=Math.min(32767,f),R=Math.min(258,k);mt<=q&&--tt&&F!=G;){if(a[f+$]==a[f+$-mt]){for(var U=0;U<R&&a[f+U]==a[f+U-mt];++U);if(U>$){if($=U,X=mt,U>N)break;for(var et=Math.min(mt,U-2),st=0,I=0;I<et;++I){var ct=f-mt+I+32768&32767,ut=j[ct],yt=ct-ut+32768&32767;yt>st&&(st=yt,G=ct)}}}F=G,G=j[F],mt+=F-G+32768&32767}if(X){Z[H++]=268435456|Us[$]<<18|Vc[X];var At=Us[$]&31,Pt=Vc[X]&31;O+=Eo[At]+Oo[Pt],++z[257+At],++Y[Pt],L=f+$,++A}else Z[H++]=a[f],++z[a[f]]}}v=Yc(a,l,r,Z,z,Y,O,H,x,f-x,v),r||(v=wo(l,v,Ql))}return Bu(u,0,i+ec(v)+n)},th=function(){var a=1,t=0;return{p:function(e){for(var i=a,n=t,r=e.length,s=0;s!=r;){for(var u=Math.min(s+5552,r);s<u;++s)i+=e[s],n+=i;i%=65521,n%=65521}a=i,t=n},d:function(){return(a>>>8<<16|(t&255)<<8|t>>>8)+((a&255)<<23)*2}}},eh=function(a,t,e,i,n){return Zl(a,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):12+t.mem,e,i,!n)},nh=function(a,t,e){for(;e;++t)a[t]=e,e>>>=8},rh=function(a,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;a[0]=120,a[1]=i<<6|(i?32-2*i:1)},ih=function(a){if((a[0]&15)!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(a[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ws(a,t){t===void 0&&(t={});var e=th();e.p(a);var i=eh(a,t,2,4);return rh(i,t),nh(i,i.length-4,e.d()),i}function ah(a,t){return Kl((ih(a),a.subarray(2,-4)),t)}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ks(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var xe={log:ks,warn:function(a){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):ks.call(null,arguments))},error:function(a){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):ks(a))}};function Cs(a,t,e){var i=new XMLHttpRequest;i.open("GET",a),i.responseType="blob",i.onload=function(){Zr(i.response,t,e)},i.onerror=function(){xe.error("could not download file")},i.send()}function Xc(a){var t=new XMLHttpRequest;t.open("HEAD",a,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fo(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(t)}}var xa,Vs,Zr=Jt.saveAs||((typeof window>"u"?"undefined":me(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(a,t,e){var i=Jt.URL||Jt.webkitURL,n=document.createElement("a");t=t||a.name||"download",n.download=t,n.rel="noopener",typeof a=="string"?(n.href=a,n.origin!==location.origin?Xc(n.href)?Cs(a,t,e):fo(n,n.target="_blank"):fo(n)):(n.href=i.createObjectURL(a),setTimeout(function(){i.revokeObjectURL(n.href)},4e4),setTimeout(function(){fo(n)},0))}:"msSaveOrOpenBlob"in navigator?function(a,t,e){if(t=t||a.name||"download",typeof a=="string")if(Xc(a))Cs(a,t,e);else{var i=document.createElement("a");i.href=a,i.target="_blank",setTimeout(function(){fo(i)})}else navigator.msSaveOrOpenBlob(function(n,r){return r===void 0?r={autoBom:!1}:me(r)!=="object"&&(xe.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(a,e),t)}:function(a,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof a=="string")return Cs(a,t,e);var n=a.type==="application/octet-stream",r=/constructor/i.test(Jt.HTMLElement)||Jt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&r)&&(typeof FileReader>"u"?"undefined":me(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var f=u.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=f:location=f,i=null},u.readAsDataURL(a)}else{var l=Jt.URL||Jt.webkitURL,v=l.createObjectURL(a);i?i.location=v:location.href=v,i=null,setTimeout(function(){l.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Du(a){var t;a=a||"",this.ok=!1,a.charAt(0)=="#"&&(a=a.substr(1,6)),a={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[a=(a=a.replace(/ /g,"")).toLowerCase()]||a;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var n=e[i].re,r=e[i].process,s=n.exec(a);s&&(t=r(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),l=this.g.toString(16),v=this.b.toString(16);return u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),v.length==1&&(v="0"+v),"#"+u+l+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Es(a,t){var e=a[0],i=a[1],n=a[2],r=a[3];e=en(e,i,n,r,t[0],7,-680876936),r=en(r,e,i,n,t[1],12,-389564586),n=en(n,r,e,i,t[2],17,606105819),i=en(i,n,r,e,t[3],22,-1044525330),e=en(e,i,n,r,t[4],7,-176418897),r=en(r,e,i,n,t[5],12,1200080426),n=en(n,r,e,i,t[6],17,-1473231341),i=en(i,n,r,e,t[7],22,-45705983),e=en(e,i,n,r,t[8],7,1770035416),r=en(r,e,i,n,t[9],12,-1958414417),n=en(n,r,e,i,t[10],17,-42063),i=en(i,n,r,e,t[11],22,-1990404162),e=en(e,i,n,r,t[12],7,1804603682),r=en(r,e,i,n,t[13],12,-40341101),n=en(n,r,e,i,t[14],17,-1502002290),e=nn(e,i=en(i,n,r,e,t[15],22,1236535329),n,r,t[1],5,-165796510),r=nn(r,e,i,n,t[6],9,-1069501632),n=nn(n,r,e,i,t[11],14,643717713),i=nn(i,n,r,e,t[0],20,-373897302),e=nn(e,i,n,r,t[5],5,-701558691),r=nn(r,e,i,n,t[10],9,38016083),n=nn(n,r,e,i,t[15],14,-660478335),i=nn(i,n,r,e,t[4],20,-405537848),e=nn(e,i,n,r,t[9],5,568446438),r=nn(r,e,i,n,t[14],9,-1019803690),n=nn(n,r,e,i,t[3],14,-187363961),i=nn(i,n,r,e,t[8],20,1163531501),e=nn(e,i,n,r,t[13],5,-1444681467),r=nn(r,e,i,n,t[2],9,-51403784),n=nn(n,r,e,i,t[7],14,1735328473),e=rn(e,i=nn(i,n,r,e,t[12],20,-1926607734),n,r,t[5],4,-378558),r=rn(r,e,i,n,t[8],11,-2022574463),n=rn(n,r,e,i,t[11],16,1839030562),i=rn(i,n,r,e,t[14],23,-35309556),e=rn(e,i,n,r,t[1],4,-1530992060),r=rn(r,e,i,n,t[4],11,1272893353),n=rn(n,r,e,i,t[7],16,-155497632),i=rn(i,n,r,e,t[10],23,-1094730640),e=rn(e,i,n,r,t[13],4,681279174),r=rn(r,e,i,n,t[0],11,-358537222),n=rn(n,r,e,i,t[3],16,-722521979),i=rn(i,n,r,e,t[6],23,76029189),e=rn(e,i,n,r,t[9],4,-640364487),r=rn(r,e,i,n,t[12],11,-421815835),n=rn(n,r,e,i,t[15],16,530742520),e=an(e,i=rn(i,n,r,e,t[2],23,-995338651),n,r,t[0],6,-198630844),r=an(r,e,i,n,t[7],10,1126891415),n=an(n,r,e,i,t[14],15,-1416354905),i=an(i,n,r,e,t[5],21,-57434055),e=an(e,i,n,r,t[12],6,1700485571),r=an(r,e,i,n,t[3],10,-1894986606),n=an(n,r,e,i,t[10],15,-1051523),i=an(i,n,r,e,t[1],21,-2054922799),e=an(e,i,n,r,t[8],6,1873313359),r=an(r,e,i,n,t[15],10,-30611744),n=an(n,r,e,i,t[6],15,-1560198380),i=an(i,n,r,e,t[13],21,1309151649),e=an(e,i,n,r,t[4],6,-145523070),r=an(r,e,i,n,t[11],10,-1120210379),n=an(n,r,e,i,t[2],15,718787259),i=an(i,n,r,e,t[9],21,-343485551),a[0]=zr(e,a[0]),a[1]=zr(i,a[1]),a[2]=zr(n,a[2]),a[3]=zr(r,a[3])}function jo(a,t,e,i,n,r){return t=zr(zr(t,a),zr(i,r)),zr(t<<n|t>>>32-n,e)}function en(a,t,e,i,n,r,s){return jo(t&e|~t&i,a,t,n,r,s)}function nn(a,t,e,i,n,r,s){return jo(t&i|e&~i,a,t,n,r,s)}function rn(a,t,e,i,n,r,s){return jo(t^e^i,a,t,n,r,s)}function an(a,t,e,i,n,r,s){return jo(e^(t|~i),a,t,n,r,s)}function Ru(a){var t,e=a.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a.length;t+=64)Es(i,oh(a.substring(t-64,t)));a=a.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a.length;t++)n[t>>2]|=a.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Es(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*e,Es(i,n),i}function oh(a){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=a.charCodeAt(t)+(a.charCodeAt(t+1)<<8)+(a.charCodeAt(t+2)<<16)+(a.charCodeAt(t+3)<<24);return e}xa=Jt.atob.bind(Jt),Vs=Jt.btoa.bind(Jt);var Jc="0123456789abcdef".split("");function sh(a){for(var t="",e=0;e<4;e++)t+=Jc[a>>8*e+4&15]+Jc[a>>8*e&15];return t}function ch(a){return String.fromCharCode((255&a)>>0,(65280&a)>>8,(16711680&a)>>16,(4278190080&a)>>24)}function Gs(a){return Ru(a).map(ch).join("")}var uh=function(a){for(var t=0;t<a.length;t++)a[t]=sh(a[t]);return a.join("")}(Ru("hello"))!="5d41402abc4b2a76b9719d911017c592";function zr(a,t){if(uh){var e=(65535&a)+(65535&t);return(a>>16)+(t>>16)+(e>>16)<<16|65535&e}return a+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ys(a,t){var e,i,n,r;if(a!==e){for(var s=(n=a,r=1+(256/a.length>>0),new Array(r+1).join(n)),u=[],l=0;l<256;l++)u[l]=l;var v=0;for(l=0;l<256;l++){var f=u[l];v=(v+f+s.charCodeAt(l))%256,u[l]=u[v],u[v]=f}e=a,i=u}else u=i;var p=t.length,g=0,h=0,w="";for(l=0;l<p;l++)h=(h+(f=u[g=(g+1)%256]))%256,u[g]=u[h],u[h]=f,s=u[(u[g]+u[h])%256],w+=String.fromCharCode(t.charCodeAt(l)^s);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Kc={print:4,modify:8,copy:16,"annot-forms":32};function ji(a,t,e,i){this.v=1,this.r=2;var n=192;a.forEach(function(u){if(Kc.perm!==void 0)throw new Error("Invalid permission: "+u);n+=Kc[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,s),this.P=-(1+(255^n)),this.encryptionKey=Gs(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Ys(this.encryptionKey,this.padding)}function Mi(a){if(/[^\u0000-\u00ff]/.test(a))throw new Error("Invalid PDF Name Object: "+a+", Only accept ASCII characters.");for(var t="",e=a.length,i=0;i<e;i++){var n=a.charCodeAt(i);n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?t+="#"+("0"+n.toString(16)).slice(-2):t+=a[i]}return t}function $c(a){if(me(a)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,n){if(n=n||!1,typeof e!="string"||typeof i!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[i,!!n],r},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),n=[];for(var r in t[e]){var s=t[e][r];try{s[0].apply(a,i)}catch(u){Jt.console&&xe.error("jsPDF PubSub Error",u.message,u)}s[1]&&n.push(r)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Io(a){if(!(this instanceof Io))return new Io(a);var t="opacity,stroke-opacity".split(",");for(var e in a)a.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=a[e]);this.id="",this.objectNumber=-1}function qu(a,t){this.gState=a,this.matrix=t,this.id="",this.objectNumber=-1}function ti(a,t,e,i,n){if(!(this instanceof ti))return new ti(a,t,e,i,n);this.type=a==="axial"?2:3,this.coords=t,this.colors=e,qu.call(this,i,n)}function Bi(a,t,e,i,n){if(!(this instanceof Bi))return new Bi(a,t,e,i,n);this.boundingBox=a,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,qu.call(this,i,n)}function Xt(a){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],n=arguments[2],r=arguments[3],s=[],u=1,l=16,v="S",f=null;me(a=a||{})==="object"&&(e=a.orientation,i=a.unit||i,n=a.format||n,r=a.compress||a.compressPdf||r,(f=a.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),u=typeof a.userUnit=="number"?Math.abs(a.userUnit):1,a.precision!==void 0&&(t=a.precision),a.floatPrecision!==void 0&&(l=a.floatPrecision),v=a.defaultPathOperation||"S"),s=a.filters||(r===!0?["FlateEncode"]:s),i=i||"mm",e=(""+(e||"P")).toLowerCase();var p=a.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=$c;var w="1.3",_=h.__private__.getPdfVersion=function(){return w};h.__private__.setPdfVersion=function(d){w=d};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return j};var y=h.__private__.getPageFormat=function(d){return j[d]};n=n||"a4";var B={COMPAT:"compat",ADVANCED:"advanced"},V=B.COMPAT;function J(){this.saveGraphicsState(),Q(new Yt(kt,0,0,-kt,0,Pr()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),v="n",V=B.ADVANCED}function Z(){this.restoreGraphicsState(),v="S",V=B.COMPAT}var z=h.__private__.combineFontStyleAndFontWeight=function(d,P){if(d=="bold"&&P=="normal"||d=="bold"&&P==400||d=="normal"&&P=="italic"||d=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(d=P==400||P==="normal"?d==="italic"?"italic":"normal":P!=700&&P!=="bold"||d!=="normal"?(P==700?"bold":P)+""+d:"bold"),d};h.advancedAPI=function(d){var P=V===B.COMPAT;return P&&J.call(this),typeof d!="function"||(d(this),P&&Z.call(this)),this},h.compatAPI=function(d){var P=V===B.ADVANCED;return P&&Z.call(this),typeof d!="function"||(d(this),P&&J.call(this)),this},h.isAdvancedAPI=function(){return V===B.ADVANCED};var Y,A=function(d){if(V!==B.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=h.roundToPrecision=h.__private__.roundToPrecision=function(d,P){var K=t||P;if(isNaN(d)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(K).replace(/0+$/,"")};Y=h.hpf=h.__private__.hpf=typeof l=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,l)}:l==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return O(d,16)};var H=h.f2=h.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return O(d,2)},L=h.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return O(d,3)},x=h.scale=h.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return V===B.COMPAT?d*kt:V===B.ADVANCED?d:void 0},M=function(d){return V===B.COMPAT?Pr()-d:V===B.ADVANCED?d:void 0},F=function(d){return x(M(d))};h.__private__.setPrecision=h.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(t=parseInt(d,10))};var G,k="00000000000000000000000000000000",I=h.__private__.getFileId=function(){return k},$=h.__private__.setFileId=function(d){return k=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ze=new ji(f.userPermissions,f.userPassword,f.ownerPassword,k)),k};h.setFileId=function(d){return $(d),this},h.getFileId=function(){return I()};var X=h.__private__.convertDateToPDFDate=function(d){var P=d.getTimezoneOffset(),K=P<0?"+":"-",nt=Math.floor(Math.abs(P/60)),lt=Math.abs(P%60),gt=[K,R(nt),"'",R(lt),"'"].join("");return["D:",d.getFullYear(),R(d.getMonth()+1),R(d.getDate()),R(d.getHours()),R(d.getMinutes()),R(d.getSeconds()),gt].join("")},tt=h.__private__.convertPDFDateToDate=function(d){var P=parseInt(d.substr(2,4),10),K=parseInt(d.substr(6,2),10)-1,nt=parseInt(d.substr(8,2),10),lt=parseInt(d.substr(10,2),10),gt=parseInt(d.substr(12,2),10),Nt=parseInt(d.substr(14,2),10);return new Date(P,K,nt,lt,gt,Nt,0)},mt=h.__private__.setCreationDate=function(d){var P;if(d===void 0&&(d=new Date),d instanceof Date)P=X(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=d}return G=P},N=h.__private__.getCreationDate=function(d){var P=G;return d==="jsDate"&&(P=tt(G)),P};h.setCreationDate=function(d){return mt(d),this},h.getCreationDate=function(d){return N(d)};var q,R=h.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},U=h.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},et=0,st=[],ct=[],ut=0,yt=[],At=[],Pt=!1,Et=ct,qt=function(){et=0,ut=0,ct=[],st=[],yt=[],hr=De(),En=De()};h.__private__.setCustomOutputDestination=function(d){Pt=!0,Et=d};var dt=function(d){Pt||(Et=d)};h.__private__.resetCustomOutputDestination=function(){Pt=!1,Et=ct};var Q=h.__private__.out=function(d){return d=d.toString(),ut+=d.length+1,Et.push(d),Et},Dt=h.__private__.write=function(d){return Q(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Ft=h.__private__.getArrayBuffer=function(d){for(var P=d.length,K=new ArrayBuffer(P),nt=new Uint8Array(K);P--;)nt[P]=d.charCodeAt(P);return K},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return xt};var _t=a.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(d){return _t=V===B.ADVANCED?d/kt:d,this};var St,It=h.__private__.getFontSize=h.getFontSize=function(){return V===B.COMPAT?_t:_t*kt},Ot=a.R2L||!1;h.__private__.setR2L=h.setR2L=function(d){return Ot=d,this},h.__private__.getR2L=h.getR2L=function(){return Ot};var Tt,Ut=h.__private__.setZoomMode=function(d){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))St=d;else if(isNaN(d)){if(P.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');St=d}else St=parseInt(d,10)};h.__private__.getZoomMode=function(){return St};var Kt,ie=h.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');Tt=d};h.__private__.getPageMode=function(){return Tt};var $t=h.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');Kt=d};h.__private__.getLayoutMode=function(){return Kt},h.__private__.setDisplayMode=h.setDisplayMode=function(d,P,K){return Ut(d),$t(P),ie(K),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(d){if(Object.keys(zt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[d]},h.__private__.getDocumentProperties=function(){return zt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(d){for(var P in zt)zt.hasOwnProperty(P)&&d[P]&&(zt[P]=d[P]);return this},h.__private__.setDocumentProperty=function(d,P){if(Object.keys(zt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[d]=P};var Wt,kt,de,ee,Fe,se={},be={},Nn=[],ce={},Jn={},we={},vn={},We=null,he=0,Gt=[],ae=new $c(h),Kn=a.hotfixes||[],_e={},Ve={},$n=[],Yt=function d(P,K,nt,lt,gt,Nt){if(!(this instanceof d))return new d(P,K,nt,lt,gt,Nt);isNaN(P)&&(P=1),isNaN(K)&&(K=0),isNaN(nt)&&(nt=0),isNaN(lt)&&(lt=1),isNaN(gt)&&(gt=0),isNaN(Nt)&&(Nt=0),this._matrix=[P,K,nt,lt,gt,Nt]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(d)},Yt.prototype.multiply=function(d){var P=d.sx*this.sx+d.shy*this.shx,K=d.sx*this.shy+d.shy*this.sy,nt=d.shx*this.sx+d.sy*this.shx,lt=d.shx*this.shy+d.sy*this.sy,gt=d.tx*this.sx+d.ty*this.shx+this.tx,Nt=d.tx*this.shy+d.ty*this.sy+this.ty;return new Yt(P,K,nt,lt,gt,Nt)},Yt.prototype.decompose=function(){var d=this.sx,P=this.shy,K=this.shx,nt=this.sy,lt=this.tx,gt=this.ty,Nt=Math.sqrt(d*d+P*P),Mt=(d/=Nt)*K+(P/=Nt)*nt;K-=d*Mt,nt-=P*Mt;var Ht=Math.sqrt(K*K+nt*nt);return Mt/=Ht,d*(nt/=Ht)<P*(K/=Ht)&&(d=-d,P=-P,Mt=-Mt,Nt=-Nt),{scale:new Yt(Nt,0,0,Ht,0,0),translate:new Yt(1,0,0,1,lt,gt),rotate:new Yt(d,P,-P,d,0,0),skew:new Yt(1,0,Mt,1,0,0)}},Yt.prototype.toString=function(d){return this.join(" ")},Yt.prototype.inversed=function(){var d=this.sx,P=this.shy,K=this.shx,nt=this.sy,lt=this.tx,gt=this.ty,Nt=1/(d*nt-P*K),Mt=nt*Nt,Ht=-P*Nt,te=-K*Nt,re=d*Nt;return new Yt(Mt,Ht,te,re,-Mt*lt-te*gt,-Ht*lt-re*gt)},Yt.prototype.applyToPoint=function(d){var P=d.x*this.sx+d.y*this.shx+this.tx,K=d.x*this.shy+d.y*this.sy+this.ty;return new vi(P,K)},Yt.prototype.applyToRectangle=function(d){var P=this.applyToPoint(d),K=this.applyToPoint(new vi(d.x+d.w,d.y+d.h));return new Zi(P.x,P.y,K.x-P.x,K.y-P.y)},Yt.prototype.clone=function(){var d=this.sx,P=this.shy,K=this.shx,nt=this.sy,lt=this.tx,gt=this.ty;return new Yt(d,P,K,nt,lt,gt)},h.Matrix=Yt;var Cn=h.matrixMult=function(d,P){return P.multiply(d)},Qn=new Yt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Qn;var un=function(d,P){if(!Jn[d]){var K=(P instanceof ti?"Sh":"P")+(Object.keys(ce).length+1).toString(10);P.id=K,Jn[d]=K,ce[K]=P,ae.publish("addPattern",P)}};h.ShadingPattern=ti,h.TilingPattern=Bi,h.addShadingPattern=function(d,P){return A("addShadingPattern()"),un(d,P),this},h.beginTilingPattern=function(d){A("beginTilingPattern()"),Ha(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},h.endTilingPattern=function(d,P){A("endTilingPattern()"),P.stream=At[q].join(`
`),un(d,P),ae.publish("endTilingPattern",P),$n.pop().restore()};var ze=h.__private__.newObject=function(){var d=De();return bn(d,!0),d},De=h.__private__.newObjectDeferred=function(){return et++,st[et]=function(){return ut},et},bn=function(d,P){return P=typeof P=="boolean"&&P,st[d]=ut,P&&Q(d+" 0 obj"),d},ii=h.__private__.newAdditionalObject=function(){var d={objId:De(),content:""};return yt.push(d),d},hr=De(),En=De(),On=h.__private__.decodeColorString=function(d){var P=d.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var K=parseFloat(P[0]);P=[K,K,K,"r"]}for(var nt="#",lt=0;lt<3;lt++)nt+=("0"+Math.floor(255*parseFloat(P[lt])).toString(16)).slice(-2);return nt},jn=h.__private__.encodeColorString=function(d){var P;typeof d=="string"&&(d={ch1:d});var K=d.ch1,nt=d.ch2,lt=d.ch3,gt=d.ch4,Nt=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Mt=new Du(K);if(Mt.ok)K=Mt.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Ht=parseInt(K.substr(1),16);K=Ht>>16&255,nt=Ht>>8&255,lt=255&Ht}if(nt===void 0||gt===void 0&&K===nt&&nt===lt)if(typeof K=="string")P=K+" "+Nt[0];else switch(d.precision){case 2:P=H(K/255)+" "+Nt[0];break;case 3:default:P=L(K/255)+" "+Nt[0]}else if(gt===void 0||me(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return P=["1.","1.","1.",Nt[1]].join(" ");if(typeof K=="string")P=[K,nt,lt,Nt[1]].join(" ");else switch(d.precision){case 2:P=[H(K/255),H(nt/255),H(lt/255),Nt[1]].join(" ");break;default:case 3:P=[L(K/255),L(nt/255),L(lt/255),Nt[1]].join(" ")}}else if(typeof K=="string")P=[K,nt,lt,gt,Nt[2]].join(" ");else switch(d.precision){case 2:P=[H(K),H(nt),H(lt),H(gt),Nt[2]].join(" ");break;case 3:default:P=[L(K),L(nt),L(lt),L(gt),Nt[2]].join(" ")}return P},Zn=h.__private__.getFilters=function(){return s},_n=h.__private__.putStream=function(d){var P=(d=d||{}).data||"",K=d.filters||Zn(),nt=d.alreadyAppliedFilters||[],lt=d.addLength1||!1,gt=P.length,Nt=d.objectId,Mt=function(tn){return tn};if(f!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Mt=Ze.encryptor(Nt,0));var Ht={};K===!0&&(K=["FlateEncode"]);var te=d.additionalKeyValues||[],re=(Ht=Xt.API.processDataByFilters!==void 0?Xt.API.processDataByFilters(P,K):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(nt)?nt.join(" "):nt.toString());if(Ht.data.length!==0&&(te.push({key:"Length",value:Ht.data.length}),lt===!0&&te.push({key:"Length1",value:gt})),re.length!=0)if(re.split("/").length-1==1)te.push({key:"Filter",value:re});else{te.push({key:"Filter",value:"["+re+"]"});for(var ue=0;ue<te.length;ue+=1)if(te[ue].key==="DecodeParms"){for(var Pe=[],ke=0;ke<Ht.reverseChain.split("/").length-1;ke+=1)Pe.push("null");Pe.push(te[ue].value),te[ue].value="["+Pe.join(" ")+"]"}}Q("<<");for(var Re=0;Re<te.length;Re++)Q("/"+te[Re].key+" "+te[Re].value);Q(">>"),Ht.data.length!==0&&(Q("stream"),Q(Mt(Ht.data)),Q("endstream"))},tr=h.__private__.putPage=function(d){var P=d.number,K=d.data,nt=d.objId,lt=d.contentsObjId;bn(nt,!0),Q("<</Type /Page"),Q("/Parent "+d.rootDictionaryObjId+" 0 R"),Q("/Resources "+d.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(Y(d.mediaBox.bottomLeftX))+" "+parseFloat(Y(d.mediaBox.bottomLeftY))+" "+Y(d.mediaBox.topRightX)+" "+Y(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&Q("/CropBox ["+Y(d.cropBox.bottomLeftX)+" "+Y(d.cropBox.bottomLeftY)+" "+Y(d.cropBox.topRightX)+" "+Y(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&Q("/BleedBox ["+Y(d.bleedBox.bottomLeftX)+" "+Y(d.bleedBox.bottomLeftY)+" "+Y(d.bleedBox.topRightX)+" "+Y(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&Q("/TrimBox ["+Y(d.trimBox.bottomLeftX)+" "+Y(d.trimBox.bottomLeftY)+" "+Y(d.trimBox.topRightX)+" "+Y(d.trimBox.topRightY)+"]"),d.artBox!==null&&Q("/ArtBox ["+Y(d.artBox.bottomLeftX)+" "+Y(d.artBox.bottomLeftY)+" "+Y(d.artBox.topRightX)+" "+Y(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&Q("/UserUnit "+d.userUnit),ae.publish("putPage",{objId:nt,pageContext:Gt[P],pageNumber:P,page:K}),Q("/Contents "+lt+" 0 R"),Q(">>"),Q("endobj");var gt=K.join(`
`);return V===B.ADVANCED&&(gt+=`
Q`),bn(lt,!0),_n({data:gt,filters:Zn(),objectId:lt}),Q("endobj"),nt},Vr=h.__private__.putPages=function(){var d,P,K=[];for(d=1;d<=he;d++)Gt[d].objId=De(),Gt[d].contentsObjId=De();for(d=1;d<=he;d++)K.push(tr({number:d,data:At[d],objId:Gt[d].objId,contentsObjId:Gt[d].contentsObjId,mediaBox:Gt[d].mediaBox,cropBox:Gt[d].cropBox,bleedBox:Gt[d].bleedBox,trimBox:Gt[d].trimBox,artBox:Gt[d].artBox,userUnit:Gt[d].userUnit,rootDictionaryObjId:hr,resourceDictionaryObjId:En}));bn(hr,!0),Q("<</Type /Pages");var nt="/Kids [";for(P=0;P<he;P++)nt+=K[P]+" 0 R ";Q(nt+"]"),Q("/Count "+he),Q(">>"),Q("endobj"),ae.publish("postPutPages")},ai=function(d){ae.publish("putFont",{font:d,out:Q,newObject:ze,putStream:_n}),d.isAlreadyPutted!==!0&&(d.objectNumber=ze(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Mi(d.postScriptName)),Q("/Subtype /Type1"),typeof d.encoding=="string"&&Q("/Encoding /"+d.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},oi=function(){for(var d in se)se.hasOwnProperty(d)&&(p===!1||p===!0&&g.hasOwnProperty(d))&&ai(se[d])},si=function(d){d.objectNumber=ze();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[Y(d.x),Y(d.y),Y(d.x+d.width),Y(d.y+d.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var K=d.pages[1].join(`
`);_n({data:K,additionalKeyValues:P,objectId:d.objectNumber}),Q("endobj")},ci=function(){for(var d in _e)_e.hasOwnProperty(d)&&si(_e[d])},_a=function(d,P){var K,nt=[],lt=1/(P-1);for(K=0;K<1;K+=lt)nt.push(K);if(nt.push(1),d[0].offset!=0){var gt={offset:0,color:d[0].color};d.unshift(gt)}if(d[d.length-1].offset!=1){var Nt={offset:1,color:d[d.length-1].color};d.push(Nt)}for(var Mt="",Ht=0,te=0;te<nt.length;te++){for(K=nt[te];K>d[Ht+1].offset;)Ht++;var re=d[Ht].offset,ue=(K-re)/(d[Ht+1].offset-re),Pe=d[Ht].color,ke=d[Ht+1].color;Mt+=U(Math.round((1-ue)*Pe[0]+ue*ke[0]).toString(16))+U(Math.round((1-ue)*Pe[1]+ue*ke[1]).toString(16))+U(Math.round((1-ue)*Pe[2]+ue*ke[2]).toString(16))}return Mt.trim()},Mo=function(d,P){P||(P=21);var K=ze(),nt=_a(d.colors,P),lt=[];lt.push({key:"FunctionType",value:"0"}),lt.push({key:"Domain",value:"[0.0 1.0]"}),lt.push({key:"Size",value:"["+P+"]"}),lt.push({key:"BitsPerSample",value:"8"}),lt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_n({data:nt,additionalKeyValues:lt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),Q("endobj"),d.objectNumber=ze(),Q("<< /ShadingType "+d.type),Q("/ColorSpace /DeviceRGB");var gt="/Coords ["+Y(parseFloat(d.coords[0]))+" "+Y(parseFloat(d.coords[1]))+" ";d.type===2?gt+=Y(parseFloat(d.coords[2]))+" "+Y(parseFloat(d.coords[3])):gt+=Y(parseFloat(d.coords[2]))+" "+Y(parseFloat(d.coords[3]))+" "+Y(parseFloat(d.coords[4]))+" "+Y(parseFloat(d.coords[5])),Q(gt+="]"),d.matrix&&Q("/Matrix ["+d.matrix.toString()+"]"),Q("/Function "+K+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},To=function(d,P){var K=De(),nt=ze();P.push({resourcesOid:K,objectOid:nt}),d.objectNumber=nt;var lt=[];lt.push({key:"Type",value:"/Pattern"}),lt.push({key:"PatternType",value:"1"}),lt.push({key:"PaintType",value:"1"}),lt.push({key:"TilingType",value:"1"}),lt.push({key:"BBox",value:"["+d.boundingBox.map(Y).join(" ")+"]"}),lt.push({key:"XStep",value:Y(d.xStep)}),lt.push({key:"YStep",value:Y(d.yStep)}),lt.push({key:"Resources",value:K+" 0 R"}),d.matrix&&lt.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),_n({data:d.stream,additionalKeyValues:lt,objectId:d.objectNumber}),Q("endobj")},ui=function(d){var P;for(P in ce)ce.hasOwnProperty(P)&&(ce[P]instanceof ti?Mo(ce[P]):ce[P]instanceof Bi&&To(ce[P],d))},Sa=function(d){for(var P in d.objectNumber=ze(),Q("<<"),d)switch(P){case"opacity":Q("/ca "+H(d[P]));break;case"stroke-opacity":Q("/CA "+H(d[P]))}Q(">>"),Q("endobj")},Bo=function(){var d;for(d in we)we.hasOwnProperty(d)&&Sa(we[d])},Hi=function(){for(var d in Q("/XObject <<"),_e)_e.hasOwnProperty(d)&&_e[d].objectNumber>=0&&Q("/"+d+" "+_e[d].objectNumber+" 0 R");ae.publish("putXobjectDict"),Q(">>")},Do=function(){Ze.oid=ze(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Ze.v),Q("/R "+Ze.r),Q("/U <"+Ze.toHexString(Ze.U)+">"),Q("/O <"+Ze.toHexString(Ze.O)+">"),Q("/P "+Ze.P),Q(">>"),Q("endobj")},Pa=function(){for(var d in Q("/Font <<"),se)se.hasOwnProperty(d)&&(p===!1||p===!0&&g.hasOwnProperty(d))&&Q("/"+d+" "+se[d].objectNumber+" 0 R");Q(">>")},Ro=function(){if(Object.keys(ce).length>0){for(var d in Q("/Shading <<"),ce)ce.hasOwnProperty(d)&&ce[d]instanceof ti&&ce[d].objectNumber>=0&&Q("/"+d+" "+ce[d].objectNumber+" 0 R");ae.publish("putShadingPatternDict"),Q(">>")}},li=function(d){if(Object.keys(ce).length>0){for(var P in Q("/Pattern <<"),ce)ce.hasOwnProperty(P)&&ce[P]instanceof h.TilingPattern&&ce[P].objectNumber>=0&&ce[P].objectNumber<d&&Q("/"+P+" "+ce[P].objectNumber+" 0 R");ae.publish("putTilingPatternDict"),Q(">>")}},qo=function(){if(Object.keys(we).length>0){var d;for(d in Q("/ExtGState <<"),we)we.hasOwnProperty(d)&&we[d].objectNumber>=0&&Q("/"+d+" "+we[d].objectNumber+" 0 R");ae.publish("putGStateDict"),Q(">>")}},Oe=function(d){bn(d.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pa(),Ro(),li(d.objectOid),qo(),Hi(),Q(">>"),Q("endobj")},Ia=function(){var d=[];oi(),Bo(),ci(),ui(d),ae.publish("putResources"),d.forEach(Oe),Oe({resourcesOid:En,objectOid:Number.MAX_SAFE_INTEGER}),ae.publish("postPutResources")},Fa=function(){ae.publish("putAdditionalObjects");for(var d=0;d<yt.length;d++){var P=yt[d];bn(P.objId,!0),Q(P.content),Q("endobj")}ae.publish("postPutAdditionalObjects")},ka=function(d){be[d.fontName]=be[d.fontName]||{},be[d.fontName][d.fontStyle]=d.id},Wi=function(d,P,K,nt,lt){var gt={id:"F"+(Object.keys(se).length+1).toString(10),postScriptName:d,fontName:P,fontStyle:K,encoding:nt,isStandardFont:lt||!1,metadata:{}};return ae.publish("addFont",{font:gt,instance:this}),se[gt.id]=gt,ka(gt),gt.id},Uo=function(d){for(var P=0,K=xt.length;P<K;P++){var nt=Wi.call(this,d[P][0],d[P][1],d[P][2],xt[P][3],!0);p===!1&&(g[nt]=!0);var lt=d[P][0].split("-");ka({id:nt,fontName:lt[0],fontStyle:lt[1]||""})}ae.publish("addFonts",{fonts:se,dictionary:be})},Mn=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(nt){var P=nt.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var K="Error in function "+P.split(`
`)[0].split("<")[0]+": "+nt.message;if(!Jt.console)throw new Error(K);Jt.console.error(K,nt),Jt.alert&&alert(K)}},d.foo.bar=d,d.foo},hi=function(d,P){var K,nt,lt,gt,Nt,Mt,Ht,te,re;if(lt=(P=P||{}).sourceEncoding||"Unicode",Nt=P.outputEncoding,(P.autoencode||Nt)&&se[Wt].metadata&&se[Wt].metadata[lt]&&se[Wt].metadata[lt].encoding&&(gt=se[Wt].metadata[lt].encoding,!Nt&&se[Wt].encoding&&(Nt=se[Wt].encoding),!Nt&&gt.codePages&&(Nt=gt.codePages[0]),typeof Nt=="string"&&(Nt=gt[Nt]),Nt)){for(Ht=!1,Mt=[],K=0,nt=d.length;K<nt;K++)(te=Nt[d.charCodeAt(K)])?Mt.push(String.fromCharCode(te)):Mt.push(d[K]),Mt[K].charCodeAt(0)>>8&&(Ht=!0);d=Mt.join("")}for(K=d.length;Ht===void 0&&K!==0;)d.charCodeAt(K-1)>>8&&(Ht=!0),K--;if(!Ht)return d;for(Mt=P.noBOM?[]:[254,255],K=0,nt=d.length;K<nt;K++){if((re=(te=d.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(re),Mt.push(te-(re<<8))}return String.fromCharCode.apply(void 0,Mt)},ln=h.__private__.pdfEscape=h.pdfEscape=function(d,P){return hi(d,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vi=h.__private__.beginPage=function(d){At[++he]=[],Gt[he]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},Ea(he),dt(At[q])},Ca=function(d,P){var K,nt,lt;switch(e=P||e,typeof d=="string"&&(K=y(d.toLowerCase()),Array.isArray(K)&&(nt=K[0],lt=K[1])),Array.isArray(d)&&(nt=d[0]*kt,lt=d[1]*kt),isNaN(nt)&&(nt=n[0],lt=n[1]),(nt>14400||lt>14400)&&(xe.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),nt=Math.min(14400,nt),lt=Math.min(14400,lt)),n=[nt,lt],e.substr(0,1)){case"l":lt>nt&&(n=[lt,nt]);break;case"p":nt>lt&&(n=[lt,nt])}Vi(n),Da(Ji),Q(Tn),$i!==0&&Q($i+" J"),Qi!==0&&Q(Qi+" j"),ae.publish("addPage",{pageNumber:he})},zo=function(d){d>0&&d<=he&&(At.splice(d,1),Gt.splice(d,1),he--,q>he&&(q=he),this.setPage(q))},Ea=function(d){d>0&&d<=he&&(q=d)},Ho=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return At.length-1},Oa=function(d,P,K){var nt,lt=void 0;return K=K||{},d=d!==void 0?d:se[Wt].fontName,P=P!==void 0?P:se[Wt].fontStyle,nt=d.toLowerCase(),be[nt]!==void 0&&be[nt][P]!==void 0?lt=be[nt][P]:be[d]!==void 0&&be[d][P]!==void 0?lt=be[d][P]:K.disableWarning===!1&&xe.warn("Unable to look up font label for font '"+d+"', '"+P+"'. Refer to getFontList() for available fonts."),lt||K.noFallback||(lt=be.times[P])==null&&(lt=be.times.normal),lt},Wo=h.__private__.putInfo=function(){var d=ze(),P=function(nt){return nt};for(var K in f!==null&&(P=Ze.encryptor(d,0)),Q("<<"),Q("/Producer ("+ln(P("jsPDF "+Xt.version))+")"),zt)zt.hasOwnProperty(K)&&zt[K]&&Q("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+ln(P(zt[K]))+")");Q("/CreationDate ("+ln(P(G))+")"),Q(">>"),Q("endobj")},Gi=h.__private__.putCatalog=function(d){var P=(d=d||{}).rootDictionaryObjId||hr;switch(ze(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+P+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+St;K.substr(K.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+H(St)+"]")}switch(Kt||(Kt="continuous"),Kt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}Tt&&Q("/PageMode /"+Tt),ae.publish("putCatalog"),Q(">>"),Q("endobj")},Vo=h.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(et+1)),Q("/Root "+et+" 0 R"),Q("/Info "+(et-1)+" 0 R"),f!==null&&Q("/Encrypt "+Ze.oid+" 0 R"),Q("/ID [ <"+k+"> <"+k+"> ]"),Q(">>")},Go=h.__private__.putHeader=function(){Q("%PDF-"+w),Q("%")},Yo=h.__private__.putXRef=function(){var d="0000000000";Q("xref"),Q("0 "+(et+1)),Q("0000000000 65535 f ");for(var P=1;P<=et;P++)typeof st[P]=="function"?Q((d+st[P]()).slice(-10)+" 00000 n "):st[P]!==void 0?Q((d+st[P]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},fr=h.__private__.buildDocument=function(){qt(),dt(ct),ae.publish("buildDocument"),Go(),Vr(),Fa(),Ia(),f!==null&&Do(),Wo(),Gi();var d=ut;return Yo(),Vo(),Q("startxref"),Q(""+d),Q("%%EOF"),dt(At[q]),ct.join(`
`)},fi=h.__private__.getBlob=function(d){return new Blob([Ft(d)],{type:"application/pdf"})},di=h.output=h.__private__.output=Mn(function(d,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",d){case void 0:return fr();case"save":h.save(P.filename);break;case"arraybuffer":return Ft(fr());case"blob":return fi(fr());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(fi(fr()))||void 0;xe.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",nt=fr();try{K=Vs(nt)}catch{K=Vs(unescape(encodeURIComponent(nt)))}return"data:application/pdf;filename="+P.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var lt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(lt=P.pdfObjectUrl,gt="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+lt+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Mt=Jt.open();return Mt!==null&&Mt.document.write(Nt),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',te=Jt.open();if(te!==null){te.document.write(Ht);var re=this;te.document.documentElement.querySelector("#pdfViewer").onload=function(){te.document.title=P.filename,te.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(re.output("bloburl"))}}return te}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',Pe=Jt.open();if(Pe!==null&&(Pe.document.write(ue),Pe.document.title=P.filename),Pe||typeof safari>"u")return Pe;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",P);default:return null}}),ja=function(d){return Array.isArray(Kn)===!0&&Kn.indexOf(d)>-1};switch(i){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);kt=i}var Ze=null;mt(),$();var Xo=function(d){return f!==null?Ze.encryptor(d,0):function(P){return P}},Ma=h.__private__.getPageInfo=h.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Gt[d].objId,pageNumber:d,pageContext:Gt[d]}},Qt=h.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Gt)if(Gt[P].objId===d)break;return Ma(P)},Jo=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Gt[q].objId,pageNumber:q,pageContext:Gt[q]}};h.addPage=function(){return Ca.apply(this,arguments),this},h.setPage=function(){return Ea.apply(this,arguments),dt.call(this,At[q]),this},h.insertPage=function(d){return this.addPage(),this.movePage(q,d),this},h.movePage=function(d,P){var K,nt;if(d>P){K=At[d],nt=Gt[d];for(var lt=d;lt>P;lt--)At[lt]=At[lt-1],Gt[lt]=Gt[lt-1];At[P]=K,Gt[P]=nt,this.setPage(P)}else if(d<P){K=At[d],nt=Gt[d];for(var gt=d;gt<P;gt++)At[gt]=At[gt+1],Gt[gt]=Gt[gt+1];At[P]=K,Gt[P]=nt,this.setPage(P)}return this},h.deletePage=function(){return zo.apply(this,arguments),this},h.__private__.text=h.text=function(d,P,K,nt,lt){var gt,Nt,Mt,Ht,te,re,ue,Pe,ke,Re=(nt=nt||{}).scope||this;if(typeof d=="number"&&typeof P=="number"&&(typeof K=="string"||Array.isArray(K))){var tn=K;K=P,P=d,d=tn}if(arguments[3]instanceof Yt?(A("The transform parameter of text() with a Matrix value"),ke=lt):(Mt=arguments[4],Ht=arguments[5],me(ue=arguments[3])==="object"&&ue!==null||(typeof Mt=="string"&&(Ht=Mt,Mt=null),typeof ue=="string"&&(Ht=ue,ue=null),typeof ue=="number"&&(Mt=ue,ue=null),nt={flags:ue,angle:Mt,align:Ht})),isNaN(P)||isNaN(K)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return Re;var Ge="",Bn=!1,wn=typeof nt.lineHeightFactor=="number"?nt.lineHeightFactor:Yr,pr=Re.internal.scaleFactor;function Wa(Le){return Le=Le.split("	").join(Array(nt.TabLen||9).join(" ")),ln(Le,ue)}function ra(Le){for(var Ne,je=Le.concat(),He=[],br=je.length;br--;)typeof(Ne=je.shift())=="string"?He.push(Ne):Array.isArray(Le)&&(Ne.length===1||Ne[1]===void 0&&Ne[2]===void 0)?He.push(Ne[0]):He.push([Ne[0],Ne[1],Ne[2]]);return He}function ia(Le,Ne){var je;if(typeof Le=="string")je=Ne(Le)[0];else if(Array.isArray(Le)){for(var He,br,Er=Le.concat(),Pi=[],Ga=Er.length;Ga--;)typeof(He=Er.shift())=="string"?Pi.push(Ne(He)[0]):Array.isArray(He)&&typeof He[0]=="string"&&(br=Ne(He[0],He[1],He[2]),Pi.push([br[0],br[1],br[2]]));je=Pi}return je}var wi=!1,aa=!0;if(typeof d=="string")wi=!0;else if(Array.isArray(d)){var oa=d.concat();Nt=[];for(var yi,hn=oa.length;hn--;)(typeof(yi=oa.shift())!="string"||Array.isArray(yi)&&typeof yi[0]!="string")&&(aa=!1);wi=aa}if(wi===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var Ai=_t/Re.internal.scaleFactor,xi=Ai*(wn-1);switch(nt.baseline){case"bottom":K-=xi;break;case"top":K+=Ai-xi;break;case"hanging":K+=Ai-2*xi;break;case"middle":K+=Ai/2-xi}if((re=nt.maxWidth||0)>0&&(typeof d=="string"?d=Re.splitTextToSize(d,re):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Le,Ne){return Le.concat(Re.splitTextToSize(Ne,re))},[]))),gt={text:d,x:P,y:K,options:nt,mutex:{pdfEscape:ln,activeFontKey:Wt,fonts:se,activeFontSize:_t}},ae.publish("preProcessText",gt),d=gt.text,Mt=(nt=gt.options).angle,!(ke instanceof Yt)&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,nt.rotationDirection===0&&(Mt=-Mt),V===B.ADVANCED&&(Mt=-Mt);var Li=Math.cos(Mt),sa=Math.sin(Mt);ke=new Yt(Li,sa,-sa,Li,0,0)}else Mt&&Mt instanceof Yt&&(ke=Mt);V!==B.ADVANCED||ke||(ke=Qn),(te=nt.charSpace||mi)!==void 0&&(Ge+=Y(x(te))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pe=nt.horizontalScale)!==void 0&&(Ge+=Y(100*Pe)+` Tz
`),nt.lang;var fn=-1,as=nt.renderingMode!==void 0?nt.renderingMode:nt.stroke,ca=Re.internal.getCurrentPageInfo().pageContext;switch(as){case 0:case!1:case"fill":fn=0;break;case 1:case!0:case"stroke":fn=1;break;case 2:case"fillThenStroke":fn=2;break;case 3:case"invisible":fn=3;break;case 4:case"fillAndAddForClipping":fn=4;break;case 5:case"strokeAndAddPathForClipping":fn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fn=6;break;case 7:case"addToPathForClipping":fn=7}var Va=ca.usedRenderingMode!==void 0?ca.usedRenderingMode:-1;fn!==-1?Ge+=fn+` Tr
`:Va!==-1&&(Ge+=`0 Tr
`),fn!==-1&&(ca.usedRenderingMode=fn),Ht=nt.align||"left";var Dn,ua=_t*wn,os=Re.internal.pageSize.getWidth(),ss=se[Wt];te=nt.charSpace||mi,re=nt.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},nt.flags);var Ir=[];if(Object.prototype.toString.call(d)==="[object Array]"){var Sn;Nt=ra(d),Ht!=="left"&&(Dn=Nt.map(function(Le){return Re.getStringUnitWidth(Le,{font:ss,charSpace:te,fontSize:_t,doKerning:!1})*_t/pr}));var Rn,Fr=0;if(Ht==="right"){P-=Dn[0],d=[],hn=Nt.length;for(var nr=0;nr<hn;nr++)nr===0?(Rn=dr(P),Sn=_r(K)):(Rn=x(Fr-Dn[nr]),Sn=-ua),d.push([Nt[nr],Rn,Sn]),Fr=Dn[nr]}else if(Ht==="center"){P-=Dn[0]/2,d=[],hn=Nt.length;for(var gr=0;gr<hn;gr++)gr===0?(Rn=dr(P),Sn=_r(K)):(Rn=x((Fr-Dn[gr])/2),Sn=-ua),d.push([Nt[gr],Rn,Sn]),Fr=Dn[gr]}else if(Ht==="left"){d=[],hn=Nt.length;for(var Ni=0;Ni<hn;Ni++)d.push(Nt[Ni])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');d=[],hn=Nt.length,re=re!==0?re:os;for(var qn=0;qn<hn;qn++)Sn=qn===0?_r(K):-ua,Rn=qn===0?dr(P):0,qn<hn-1?Ir.push(Y(x((re-Dn[qn])/(Nt[qn].split(" ").length-1)))):Ir.push(0),d.push([Nt[qn],Rn,Sn])}}var _i=typeof nt.R2L=="boolean"?nt.R2L:Ot;_i===!0&&(d=ia(d,function(Le,Ne,je){return[Le.split("").reverse().join(""),Ne,je]})),gt={text:d,x:P,y:K,options:nt,mutex:{pdfEscape:ln,activeFontKey:Wt,fonts:se,activeFontSize:_t}},ae.publish("postProcessText",gt),d=gt.text,Bn=gt.mutex.isHex||!1;var la=se[Wt].encoding;la!=="WinAnsiEncoding"&&la!=="StandardEncoding"||(d=ia(d,function(Le,Ne,je){return[Wa(Le),Ne,je]})),Nt=ra(d),d=[];for(var kr,Un,mr,Kr=0,Si=1,$r=Array.isArray(Nt[0])?Si:Kr,Cr="",ha=function(Le,Ne,je){var He="";return je instanceof Yt?(je=typeof nt.angle=="number"?Cn(je,new Yt(1,0,0,1,Le,Ne)):Cn(new Yt(1,0,0,1,Le,Ne),je),V===B.ADVANCED&&(je=Cn(new Yt(1,0,0,-1,0,0),je)),He=je.join(" ")+` Tm
`):He=Y(Le)+" "+Y(Ne)+` Td
`,He},Pn=0;Pn<Nt.length;Pn++){switch(Cr="",$r){case Si:mr=(Bn?"<":"(")+Nt[Pn][0]+(Bn?">":")"),kr=parseFloat(Nt[Pn][1]),Un=parseFloat(Nt[Pn][2]);break;case Kr:mr=(Bn?"<":"(")+Nt[Pn]+(Bn?">":")"),kr=dr(P),Un=_r(K)}Ir!==void 0&&Ir[Pn]!==void 0&&(Cr=Ir[Pn]+` Tw
`),Pn===0?d.push(Cr+ha(kr,Un,ke)+mr):$r===Kr?d.push(Cr+mr):$r===Si&&d.push(Cr+ha(kr,Un,ke)+mr)}d=$r===Kr?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var vr=`BT
/`;return vr+=Wt+" "+_t+` Tf
`,vr+=Y(_t*wn)+` TL
`,vr+=Xr+`
`,vr+=Ge,vr+=d,Q(vr+="ET"),g[Wt]=!0,Re};var Ko=h.__private__.clip=h.clip=function(d){return Q(d==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ko("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Q("n"),this};var er=h.__private__.isValidStyle=function(d){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(P=!0),P};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(d){return er(d)&&(v=d),this};var Ta=h.__private__.getStyle=h.getStyle=function(d){var P=v;switch(d){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=d}return P},Ba=h.close=function(){return Q("h"),this};h.stroke=function(){return Q("S"),this},h.fill=function(d){return pi("f",d),this},h.fillEvenOdd=function(d){return pi("f*",d),this},h.fillStroke=function(d){return pi("B",d),this},h.fillStrokeEvenOdd=function(d){return pi("B*",d),this};var pi=function(d,P){me(P)==="object"?Qo(P,d):Q(d)},Yi=function(d){d===null||V===B.ADVANCED&&d===void 0||(d=Ta(d),Q(d))};function $o(d,P,K,nt,lt){var gt=new Bi(P||this.boundingBox,K||this.xStep,nt||this.yStep,this.gState,lt||this.matrix);gt.stream=this.stream;var Nt=d+"$$"+this.cloneIndex+++"$$";return un(Nt,gt),gt}var Qo=function(d,P){var K=Jn[d.key],nt=ce[K];if(nt instanceof ti)Q("q"),Q(Zo(P)),nt.gState&&h.setGState(nt.gState),Q(d.matrix.toString()+" cm"),Q("/"+K+" sh"),Q("Q");else if(nt instanceof Bi){var lt=new Yt(1,0,0,-1,0,Pr());d.matrix&&(lt=lt.multiply(d.matrix||Qn),K=$o.call(nt,d.key,d.boundingBox,d.xStep,d.yStep,lt).id),Q("q"),Q("/Pattern cs"),Q("/"+K+" scn"),nt.gState&&h.setGState(nt.gState),Q(P),Q("Q")}},Zo=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xi=h.moveTo=function(d,P){return Q(Y(x(d))+" "+Y(F(P))+" m"),this},Gr=h.lineTo=function(d,P){return Q(Y(x(d))+" "+Y(F(P))+" l"),this},Nr=h.curveTo=function(d,P,K,nt,lt,gt){return Q([Y(x(d)),Y(F(P)),Y(x(K)),Y(F(nt)),Y(x(lt)),Y(F(gt)),"c"].join(" ")),this};h.__private__.line=h.line=function(d,P,K,nt,lt){if(isNaN(d)||isNaN(P)||isNaN(K)||isNaN(nt)||!er(lt))throw new Error("Invalid arguments passed to jsPDF.line");return V===B.COMPAT?this.lines([[K-d,nt-P]],d,P,[1,1],lt||"S"):this.lines([[K-d,nt-P]],d,P,[1,1]).stroke()},h.__private__.lines=h.lines=function(d,P,K,nt,lt,gt){var Nt,Mt,Ht,te,re,ue,Pe,ke,Re,tn,Ge,Bn;if(typeof d=="number"&&(Bn=K,K=P,P=d,d=Bn),nt=nt||[1,1],gt=gt||!1,isNaN(P)||isNaN(K)||!Array.isArray(d)||!Array.isArray(nt)||!er(lt)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xi(P,K),Nt=nt[0],Mt=nt[1],te=d.length,tn=P,Ge=K,Ht=0;Ht<te;Ht++)(re=d[Ht]).length===2?(tn=re[0]*Nt+tn,Ge=re[1]*Mt+Ge,Gr(tn,Ge)):(ue=re[0]*Nt+tn,Pe=re[1]*Mt+Ge,ke=re[2]*Nt+tn,Re=re[3]*Mt+Ge,tn=re[4]*Nt+tn,Ge=re[5]*Mt+Ge,Nr(ue,Pe,ke,Re,tn,Ge));return gt&&Ba(),Yi(lt),this},h.path=function(d){for(var P=0;P<d.length;P++){var K=d[P],nt=K.c;switch(K.op){case"m":Xi(nt[0],nt[1]);break;case"l":Gr(nt[0],nt[1]);break;case"c":Nr.apply(this,nt);break;case"h":Ba()}}return this},h.__private__.rect=h.rect=function(d,P,K,nt,lt){if(isNaN(d)||isNaN(P)||isNaN(K)||isNaN(nt)||!er(lt))throw new Error("Invalid arguments passed to jsPDF.rect");return V===B.COMPAT&&(nt=-nt),Q([Y(x(d)),Y(F(P)),Y(x(K)),Y(x(nt)),"re"].join(" ")),Yi(lt),this},h.__private__.triangle=h.triangle=function(d,P,K,nt,lt,gt,Nt){if(isNaN(d)||isNaN(P)||isNaN(K)||isNaN(nt)||isNaN(lt)||isNaN(gt)||!er(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-d,nt-P],[lt-K,gt-nt],[d-lt,P-gt]],d,P,[1,1],Nt,!0),this},h.__private__.roundedRect=h.roundedRect=function(d,P,K,nt,lt,gt,Nt){if(isNaN(d)||isNaN(P)||isNaN(K)||isNaN(nt)||isNaN(lt)||isNaN(gt)||!er(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return lt=Math.min(lt,.5*K),gt=Math.min(gt,.5*nt),this.lines([[K-2*lt,0],[lt*Mt,0,lt,gt-gt*Mt,lt,gt],[0,nt-2*gt],[0,gt*Mt,-lt*Mt,gt,-lt,gt],[2*lt-K,0],[-lt*Mt,0,-lt,-gt*Mt,-lt,-gt],[0,2*gt-nt],[0,-gt*Mt,lt*Mt,-gt,lt,-gt]],d+lt,P,[1,1],Nt,!0),this},h.__private__.ellipse=h.ellipse=function(d,P,K,nt,lt){if(isNaN(d)||isNaN(P)||isNaN(K)||isNaN(nt)||!er(lt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*K,Nt=4/3*(Math.SQRT2-1)*nt;return Xi(d+K,P),Nr(d+K,P-Nt,d+gt,P-nt,d,P-nt),Nr(d-gt,P-nt,d-K,P-Nt,d-K,P),Nr(d-K,P+Nt,d-gt,P+nt,d,P+nt),Nr(d+gt,P+nt,d+K,P+Nt,d+K,P),Yi(lt),this},h.__private__.circle=h.circle=function(d,P,K,nt){if(isNaN(d)||isNaN(P)||isNaN(K)||!er(nt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,P,K,K,nt)},h.setFont=function(d,P,K){return K&&(P=z(P,K)),Wt=Oa(d,P,{disableWarning:!1}),this};var ts=h.__private__.getFont=h.getFont=function(){return se[Oa.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var d,P,K={};for(d in be)if(be.hasOwnProperty(d))for(P in K[d]=[],be[d])be[d].hasOwnProperty(P)&&K[d].push(P);return K},h.addFont=function(d,P,K,nt,lt){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?lt=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(K=z(K,nt)),lt=lt||"Identity-H",Wi.call(this,d,P,K,lt)};var Yr,Ji=a.lineWidth||.200025,gi=h.__private__.getLineWidth=h.getLineWidth=function(){return Ji},Da=h.__private__.setLineWidth=h.setLineWidth=function(d){return Ji=d,Q(Y(x(d))+" w"),this};h.__private__.setLineDash=Xt.API.setLineDash=Xt.API.setLineDashPattern=function(d,P){if(d=d||[],P=P||0,isNaN(P)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(K){return Y(x(K))}).join(" "),P=Y(x(P)),Q("["+d+"] "+P+" d"),this};var Ra=h.__private__.getLineHeight=h.getLineHeight=function(){return _t*Yr};h.__private__.getLineHeight=h.getLineHeight=function(){return _t*Yr};var qa=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Yr=d),this},Ua=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Yr};qa(a.lineHeight);var dr=h.__private__.getHorizontalCoordinate=function(d){return x(d)},_r=h.__private__.getVerticalCoordinate=function(d){return V===B.ADVANCED?d:Gt[q].mediaBox.topRightY-Gt[q].mediaBox.bottomLeftY-x(d)},es=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(d){return Y(dr(d))},Sr=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(d){return Y(_r(d))},Tn=a.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return On(Tn)},h.__private__.setStrokeColor=h.setDrawColor=function(d,P,K,nt){return Tn=jn({ch1:d,ch2:P,ch3:K,ch4:nt,pdfColorType:"draw",precision:2}),Q(Tn),this};var Ki=a.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return On(Ki)},h.__private__.setFillColor=h.setFillColor=function(d,P,K,nt){return Ki=jn({ch1:d,ch2:P,ch3:K,ch4:nt,pdfColorType:"fill",precision:2}),Q(Ki),this};var Xr=a.textColor||"0 g",ns=h.__private__.getTextColor=h.getTextColor=function(){return On(Xr)};h.__private__.setTextColor=h.setTextColor=function(d,P,K,nt){return Xr=jn({ch1:d,ch2:P,ch3:K,ch4:nt,pdfColorType:"text",precision:3}),this};var mi=a.charSpace,rs=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(mi||0)};h.__private__.setCharSpace=h.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mi=d,this};var $i=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(d){var P=h.CapJoinStyles[d];if(P===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $i=P,Q(P+" J"),this};var Qi=0;h.__private__.setLineJoin=h.setLineJoin=function(d){var P=h.CapJoinStyles[d];if(P===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qi=P,Q(P+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(Y(x(d))+" M"),this},h.GState=Io,h.setGState=function(d){(d=typeof d=="string"?we[vn[d]]:za(null,d)).equals(We)||(Q("/"+d.id+" gs"),We=d)};var za=function(d,P){if(!d||!vn[d]){var K=!1;for(var nt in we)if(we.hasOwnProperty(nt)&&we[nt].equals(P)){K=!0;break}if(K)P=we[nt];else{var lt="GS"+(Object.keys(we).length+1).toString(10);we[lt]=P,P.id=lt}return d&&(vn[d]=P.id),ae.publish("addGState",P),P}};h.addGState=function(d,P){return za(d,P),this},h.saveGraphicsState=function(){return Q("q"),Nn.push({key:Wt,size:_t,color:Xr}),this},h.restoreGraphicsState=function(){Q("Q");var d=Nn.pop();return Wt=d.key,_t=d.size,Xr=d.color,We=null,this},h.setCurrentTransformationMatrix=function(d){return Q(d.toString()+" cm"),this},h.comment=function(d){return Q("#"+d),this};var vi=function(d,P){var K=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(gt){isNaN(gt)||(K=parseFloat(gt))}});var nt=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return nt},set:function(gt){isNaN(gt)||(nt=parseFloat(gt))}});var lt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return lt},set:function(gt){lt=gt.toString()}}),this},Zi=function(d,P,K,nt){vi.call(this,d,P),this.type="rect";var lt=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return lt},set:function(Nt){isNaN(Nt)||(lt=parseFloat(Nt))}});var gt=nt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(Nt){isNaN(Nt)||(gt=parseFloat(Nt))}}),this},ta=function(){this.page=he,this.currentPage=q,this.pages=At.slice(0),this.pagesContext=Gt.slice(0),this.x=de,this.y=ee,this.matrix=Fe,this.width=Jr(q),this.height=Pr(q),this.outputDestination=Et,this.id="",this.objectNumber=-1};ta.prototype.restore=function(){he=this.page,q=this.currentPage,Gt=this.pagesContext,At=this.pages,de=this.x,ee=this.y,Fe=this.matrix,ea(q,this.width),na(q,this.height),Et=this.outputDestination};var Ha=function(d,P,K,nt,lt){$n.push(new ta),he=q=0,At=[],de=d,ee=P,Fe=lt,Vi([K,nt])},is=function(d){if(Ve[d])$n.pop().restore();else{var P=new ta,K="Xo"+(Object.keys(_e).length+1).toString(10);P.id=K,Ve[d]=K,_e[K]=P,ae.publish("addFormObject",P),$n.pop().restore()}};for(var bi in h.beginFormObject=function(d,P,K,nt,lt){return Ha(d,P,K,nt,lt),this},h.endFormObject=function(d){return is(d),this},h.doFormObject=function(d,P){var K=_e[Ve[d]];return Q("q"),Q(P.toString()+" cm"),Q("/"+K.id+" Do"),Q("Q"),this},h.getFormObject=function(d){var P=_e[Ve[d]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},h.save=function(d,P){return d=d||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Zr(fi(fr()),d),typeof Zr.unload=="function"&&Jt.setTimeout&&setTimeout(Zr.unload,911),this):new Promise(function(K,nt){try{var lt=Zr(fi(fr()),d);typeof Zr.unload=="function"&&Jt.setTimeout&&setTimeout(Zr.unload,911),K(lt)}catch(gt){nt(gt.message)}})},Xt.API)Xt.API.hasOwnProperty(bi)&&(bi==="events"&&Xt.API.events.length?function(d,P){var K,nt,lt;for(lt=P.length-1;lt!==-1;lt--)K=P[lt][0],nt=P[lt][1],d.subscribe.apply(d,[K].concat(typeof nt=="function"?[nt]:nt))}(ae,Xt.API.events):h[bi]=Xt.API[bi]);var Jr=h.getPageWidth=function(d){return(Gt[d=d||q].mediaBox.topRightX-Gt[d].mediaBox.bottomLeftX)/kt},ea=h.setPageWidth=function(d,P){Gt[d].mediaBox.topRightX=P*kt+Gt[d].mediaBox.bottomLeftX},Pr=h.getPageHeight=function(d){return(Gt[d=d||q].mediaBox.topRightY-Gt[d].mediaBox.bottomLeftY)/kt},na=h.setPageHeight=function(d,P){Gt[d].mediaBox.topRightY=P*kt+Gt[d].mediaBox.bottomLeftY};return h.internal={pdfEscape:ln,getStyle:Ta,getFont:ts,getFontSize:It,getCharSpace:rs,getTextColor:ns,getLineHeight:Ra,getLineHeightFactor:Ua,getLineWidth:gi,write:Dt,getHorizontalCoordinate:dr,getVerticalCoordinate:_r,getCoordinateString:es,getVerticalCoordinateString:Sr,collections:{},newObject:ze,newAdditionalObject:ii,newObjectDeferred:De,newObjectDeferredBegin:bn,getFilters:Zn,putStream:_n,events:ae,scaleFactor:kt,pageSize:{getWidth:function(){return Jr(q)},setWidth:function(d){ea(q,d)},getHeight:function(){return Pr(q)},setHeight:function(d){na(q,d)}},encryptionOptions:f,encryption:Ze,getEncryptor:Xo,output:di,getNumberOfPages:Ho,pages:At,out:Q,f2:H,f3:L,getPageInfo:Ma,getPageInfoByObjId:Qt,getCurrentPageInfo:Jo,getPDFVersion:_,Point:vi,Rectangle:Zi,Matrix:Yt,hasHotfix:ja},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Jr(q)},set:function(d){ea(q,d)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Pr(q)},set:function(d){na(q,d)},enumerable:!0,configurable:!0}),Uo.call(h,xt),Wt="F1",Ca(n,e),ae.publish("initialized"),h}ji.prototype.lsbFirstWord=function(a){return String.fromCharCode(a>>0&255,a>>8&255,a>>16&255,a>>24&255)},ji.prototype.toHexString=function(a){return a.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ji.prototype.hexToBytes=function(a){for(var t=[],e=0;e<a.length;e+=2)t.push(String.fromCharCode(parseInt(a.substr(e,2),16)));return t.join("")},ji.prototype.processOwnerPassword=function(a,t){return Ys(Gs(t).substr(0,5),a)},ji.prototype.encryptor=function(a,t){var e=Gs(this.encryptionKey+String.fromCharCode(255&a,a>>8&255,a>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return Ys(e,i)}},Io.prototype.equals=function(a){var t,e="id,objectNumber,equals";if(!a||me(a)!==me(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!a.hasOwnProperty(t)||this[t]!==a[t])return!1;i++}for(t in a)a.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Xt.API={events:[]},Xt.version="2.5.1";var Ee=Xt.API,nc=1,ri=function(a){return a.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ei=function(a){return a.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(a){return a.toFixed(2)},Ur=function(a){return a.toFixed(5)};Ee.__acroform__={};var mn=function(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a},Qc=function(a){return a*nc},ir=function(a){var t=new zu,e=Rt.internal.getHeight(a)||0,i=Rt.internal.getWidth(a)||0;return t.BBox=[0,0,Number(Zt(i)),Number(Zt(e))],t},lh=Ee.__acroform__.setBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return a|=1<<t},hh=Ee.__acroform__.clearBit=function(a,t){if(a=a||0,t=t||0,isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return a&=~(1<<t)},fh=Ee.__acroform__.getBit=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return a&1<<t?1:0},Me=Ee.__acroform__.getBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fh(a,t-1)},Te=Ee.__acroform__.setBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lh(a,t-1)},Be=Ee.__acroform__.clearBitForPdf=function(a,t){if(isNaN(a)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hh(a,t-1)},dh=Ee.__acroform__.calculateCoordinates=function(a,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,n=a[0],r=a[1],s=a[2],u=a[3],l={};return l.lowerLeft_X=e(n)||0,l.lowerLeft_Y=i(r+u)||0,l.upperRight_X=e(n+s)||0,l.upperRight_Y=i(r)||0,[Number(Zt(l.lowerLeft_X)),Number(Zt(l.lowerLeft_Y)),Number(Zt(l.upperRight_X)),Number(Zt(l.upperRight_Y))]},ph=function(a){if(a.appearanceStreamContent)return a.appearanceStreamContent;if(a.V||a.DV){var t=[],e=a._V||a.DV,i=Xs(a,e),n=a.scope.internal.getFont(a.fontName,a.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(a.scope.__private__.encodeColorString(a.color)),t.push("/"+n+" "+Zt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=ir(a);return r.scope=a.scope,r.stream=t.join(`
`),r}},Xs=function(a,t){var e=a.fontSize===0?a.maxFontSize:a.fontSize,i={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=a.multiline?n.map(function(L){return L.split(`
`)}):n.map(function(L){return[L]});var r=e,s=Rt.internal.getHeight(a)||0;s=s<0?-s:s;var u=Rt.internal.getWidth(a)||0;u=u<0?-u:u;var l=function(L,x,M){if(L+1<n.length){var F=x+" "+n[L+1][0];return po(F,a,M).width<=u-4}return!1};r++;t:for(;r>0;){t="",r--;var v,f,p=po("3",a,r).height,g=a.multiline?s-r:(s-p)/2,h=g+=2,w=0,_=0,j=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+po(t,a,r=12).width+", FieldWidth:"+u+`
`;break}for(var y="",B=0,V=0;V<n.length;V++)if(n.hasOwnProperty(V)){var J=!1;if(n[V].length!==1&&j!==n[V].length-1){if((p+2)*(B+2)+2>s)continue t;y+=n[V][j],J=!0,_=V,V--}else{y=(y+=n[V][j]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var Z=parseInt(V),z=l(Z,y,r),Y=V>=n.length-1;if(z&&!Y){y+=" ",j=0;continue}if(z||Y){if(Y)_=Z;else if(a.multiline&&(p+2)*(B+2)+2>s)continue t}else{if(!a.multiline||(p+2)*(B+2)+2>s)continue t;_=Z}}for(var A="",O=w;O<=_;O++){var H=n[O];if(a.multiline){if(O===_){A+=H[j]+" ",j=(j+1)%H.length;continue}if(O===w){A+=H[H.length-1]+" ";continue}}A+=H[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,f=po(A,a,r).width,a.textAlign){case"right":v=u-f-2;break;case"center":v=(u-f)/2;break;case"left":default:v=2}t+=Zt(v)+" "+Zt(h)+` Td
`,t+="("+ri(A)+`) Tj
`,t+=-Zt(v)+` 0 Td
`,h=-(r+2),f=0,w=J?_:_+1,B++,y=""}break}return i.text=t,i.fontSize=r,i},po=function(a,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(a,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},gh={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mh=function(a,t){var e={type:"reference",object:a};t.internal.getPageInfo(a.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(a.page).pageContext.annotations.push(e)},vh=function(a,t){for(var e in a)if(a.hasOwnProperty(e)){var i=e,n=a[e];t.internal.newObjectDeferredBegin(n.objId,!0),me(n)==="object"&&typeof n.putStream=="function"&&n.putStream(),delete a[i]}},bh=function(a,t){if(t.scope=a,a.internal!==void 0&&(a.internal.acroformPlugin===void 0||a.internal.acroformPlugin.isInitialized===!1)){if(Yn.FieldNum=0,a.internal.acroformPlugin=JSON.parse(JSON.stringify(gh)),a.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nc=a.internal.scaleFactor,a.internal.acroformPlugin.acroFormDictionaryRoot=new Hu,a.internal.acroformPlugin.acroFormDictionaryRoot.scope=a,a.internal.acroformPlugin.acroFormDictionaryRoot._eventID=a.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(a)}),a.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];r.objId=void 0,r.hasAnnotation&&mh(r,e)}})(a)}),a.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(a)}),a.internal.events.subscribe("postPutPages",function(e){(function(i,n){var r=!i;for(var s in i||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var u=i[s],l=[],v=u.Rect;if(u.Rect&&(u.Rect=dh(u.Rect,n)),n.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Rt.createDefaultAppearanceStream(u),me(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(l=u.getKeyValueListForStream()),u.Rect=v,u.hasAppearanceStream&&!u.appearanceStreamContent){var f=ph(u);l.push({key:"AP",value:"<</N "+f+">>"}),n.internal.acroformPlugin.xForms.push(f)}if(u.appearanceStreamContent){var p="";for(var g in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(g)){var h=u.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var w=h[s];typeof w=="function"&&(w=w.call(n,u)),p+="/"+s+" "+w+" ",n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w)}}else typeof(w=h)=="function"&&(w=w.call(n,u)),p+="/"+s+" "+w,n.internal.acroformPlugin.xForms.indexOf(w)>=0||n.internal.acroformPlugin.xForms.push(w);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:u.objId}),n.internal.out("endobj")}r&&vh(n.internal.acroformPlugin.xForms,n)})(e,a)}),a.internal.acroformPlugin.isInitialized=!0}},Uu=Ee.__acroform__.arrayToPdfArray=function(a,t,e){var i=function(s){return s};if(Array.isArray(a)){for(var n="[",r=0;r<a.length;r++)switch(r!==0&&(n+=" "),me(a[r])){case"boolean":case"number":case"object":n+=a[r].toString();break;case"string":a[r].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),n+="("+ri(i(a[r].toString()))+")"):n+=a[r].toString()}return n+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Os=function(a,t,e){var i=function(n){return n};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(a=a||"").toString(),a="("+ri(i(a))+")"},or=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(a){this._objId=a}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};or.prototype.toString=function(){return this.objId+" 0 R"},or.prototype.putStream=function(){var a=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:a,objectId:this.objId}),this.scope.internal.out("endobj")},or.prototype.getKeyValueListForStream=function(){var a=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],n=this[i];n&&(Array.isArray(n)?a.push({key:i,value:Uu(n,this.objId,this.scope)}):n instanceof or?(n.scope=this.scope,a.push({key:i,value:n.objId+" 0 R"})):typeof n!="function"&&a.push({key:i,value:n}))}return a};var zu=function(){or.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var a,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){a=e.trim()},get:function(){return a||null}})};mn(zu,or);var Hu=function(){or.call(this);var a,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(a){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+ri(e(a))+")"}},set:function(e){a=e}})};mn(Hu,or);var Yn=function a(){or.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Me(t,3)},set:function(y){y?this.F=Te(t,3):this.F=Be(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');e=y}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(y){i=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(y){i[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(y){i[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(y){i[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(y){i[3]=y}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Fo)return;r="FieldObject"+a.FieldNum++}var y=function(B){return B};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ri(y(r))+")"},set:function(y){r=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(y){r=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/nc:v},set:function(y){v=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Fo||this instanceof ni))return Os(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Je?g:Os(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof Je?y:y.substr(0,1)==="("?Ei(y.substr(1,y.length-2)):Ei(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Je?Ei(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof Je?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Je?h:Os(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Je?y:y.substr(0,1)==="("?Ei(y.substr(1,y.length-2)):Ei(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Je?Ei(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Je?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(y){y=!!y,_=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(y){w=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,1)},set:function(y){y?this.Ff=Te(this.Ff,1):this.Ff=Be(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,2)},set:function(y){y?this.Ff=Te(this.Ff,2):this.Ff=Be(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,3)},set:function(y){y?this.Ff=Te(this.Ff,3):this.Ff=Be(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');j=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(j){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};mn(Yn,or);var Di=function(){Yn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var a=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Uu(t,this.objId,this.scope)},set:function(e){var i,n;n=[],typeof(i=e)=="string"&&(n=function(r,s,u){u||(u=1);for(var l,v=[];l=s.exec(r);)v.push(l[u]);return v}(i,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,18)},set:function(e){e?this.Ff=Te(this.Ff,18):this.Ff=Be(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Te(this.Ff,19):this.Ff=Be(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,20)},set:function(e){e?(this.Ff=Te(this.Ff,20),t.sort()):this.Ff=Be(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,22)},set:function(e){e?this.Ff=Te(this.Ff,22):this.Ff=Be(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,23)},set:function(e){e?this.Ff=Te(this.Ff,23):this.Ff=Be(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,27)},set:function(e){e?this.Ff=Te(this.Ff,27):this.Ff=Be(this.Ff,27)}}),this.hasAppearanceStream=!1};mn(Di,Yn);var Ri=function(){Di.call(this),this.fontName="helvetica",this.combo=!1};mn(Ri,Di);var qi=function(){Ri.call(this),this.combo=!0};mn(qi,Ri);var yo=function(){qi.call(this),this.edit=!0};mn(yo,qi);var Je=function(){Yn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,15)},set:function(e){e?this.Ff=Te(this.Ff,15):this.Ff=Be(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,16)},set:function(e){e?this.Ff=Te(this.Ff,16):this.Ff=Be(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,17)},set:function(e){e?this.Ff=Te(this.Ff,17):this.Ff=Be(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,26)},set:function(e){e?this.Ff=Te(this.Ff,26):this.Ff=Be(this.Ff,26)}});var a,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(r){return r};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,n=[];for(i in n.push("<<"),t)n.push("/"+i+" ("+ri(e(t[i]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){me(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return a.substr(1,a.length-1)},set:function(e){a="/"+e}})};mn(Je,Yn);var Ao=function(){Je.call(this),this.pushButton=!0};mn(Ao,Je);var Ui=function(){Je.call(this),this.radio=!0,this.pushButton=!1;var a=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t!==void 0?t:[]}})};mn(Ui,Je);var Fo=function(){var a,t;Yn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return a},set:function(n){a=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(u){return u};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var r,s=[];for(r in s.push("<<"),i)s.push("/"+r+" ("+ri(n(i[r]))+")");return s.push(">>"),s.join(`
`)},set:function(n){me(n)==="object"&&(i=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(n){typeof n=="string"&&(i.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};mn(Fo,Yn),Ui.prototype.setAppearance=function(a){if(!("createAppearanceStream"in a)||!("getCA"in a))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=a.createAppearanceStream(e.optionName),e.caption=a.getCA()}},Ui.prototype.createOption=function(a){var t=new Fo;return t.Parent=this,t.optionName=a,this.Kids.push(t),wh.call(this.scope,t),t};var xo=function(){Je.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};mn(xo,Je);var ni=function(){Yn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,13)},set:function(t){t?this.Ff=Te(this.Ff,13):this.Ff=Be(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,21)},set:function(t){t?this.Ff=Te(this.Ff,21):this.Ff=Be(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,23)},set:function(t){t?this.Ff=Te(this.Ff,23):this.Ff=Be(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,24)},set:function(t){t?this.Ff=Te(this.Ff,24):this.Ff=Be(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,25)},set:function(t){t?this.Ff=Te(this.Ff,25):this.Ff=Be(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,26)},set:function(t){t?this.Ff=Te(this.Ff,26):this.Ff=Be(this.Ff,26)}});var a=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return a},set:function(t){a=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){Number.isInteger(t)&&(a=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};mn(ni,Yn);var Lo=function(){ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Me(this.Ff,14)},set:function(a){a?this.Ff=Te(this.Ff,14):this.Ff=Be(this.Ff,14)}}),this.password=!0};mn(Lo,ni);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=[],i=a.scope.internal.getFont(a.fontName,a.fontStyle).id,n=a.scope.__private__.encodeColorString(a.color),r=Xs(a,a.caption);return e.push("0.749023 g"),e.push("0 0 "+Zt(Rt.internal.getWidth(a))+" "+Zt(Rt.internal.getHeight(a))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+Zt(r.fontSize)+" Tf "+n),e.push("BT"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(a){var t=ir(a);t.scope=a.scope;var e=a.scope.internal.getFont(a.fontName,a.fontStyle).id,i=a.scope.__private__.encodeColorString(a.color),n=[],r=Rt.internal.getHeight(a),s=Rt.internal.getWidth(a),u=Xs(a,a.caption);return n.push("1 g"),n.push("0 0 "+Zt(s)+" "+Zt(r)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+Zt(s-1)+" "+Zt(r-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+Zt(u.fontSize)+" Tf "+i),n.push(u.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Zt(Rt.internal.getWidth(a))+" "+Zt(Rt.internal.getHeight(a))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(a){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[a]=Rt.RadioButton.Circle.YesNormal,t.D[a]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(a){var t=ir(a);t.scope=a.scope;var e=[],i=Rt.internal.getWidth(a)<=Rt.internal.getHeight(a)?Rt.internal.getWidth(a)/4:Rt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var n=Rt.internal.Bezier_C,r=Number((i*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ur(Rt.internal.getWidth(a)/2)+" "+Ur(Rt.internal.getHeight(a)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),e.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),e.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),e.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=[],i=Rt.internal.getWidth(a)<=Rt.internal.getHeight(a)?Rt.internal.getWidth(a)/4:Rt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),r=Number((n*Rt.internal.Bezier_C).toFixed(5)),s=Number((i*Rt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ur(Rt.internal.getWidth(a)/2)+" "+Ur(Rt.internal.getHeight(a)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),e.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),e.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),e.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ur(Rt.internal.getWidth(a)/2)+" "+Ur(Rt.internal.getHeight(a)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=[],i=Rt.internal.getWidth(a)<=Rt.internal.getHeight(a)?Rt.internal.getWidth(a)/4:Rt.internal.getHeight(a)/4;i=Number((.9*i).toFixed(5));var n=Number((2*i).toFixed(5)),r=Number((n*Rt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ur(Rt.internal.getWidth(a)/2)+" "+Ur(Rt.internal.getHeight(a)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),e.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),e.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),e.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(a){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[a]=Rt.RadioButton.Cross.YesNormal,t.D[a]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(a){var t=ir(a);t.scope=a.scope;var e=[],i=Rt.internal.calculateCross(a);return e.push("q"),e.push("1 1 "+Zt(Rt.internal.getWidth(a)-2)+" "+Zt(Rt.internal.getHeight(a)-2)+" re"),e.push("W"),e.push("n"),e.push(Zt(i.x1.x)+" "+Zt(i.x1.y)+" m"),e.push(Zt(i.x2.x)+" "+Zt(i.x2.y)+" l"),e.push(Zt(i.x4.x)+" "+Zt(i.x4.y)+" m"),e.push(Zt(i.x3.x)+" "+Zt(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=Rt.internal.calculateCross(a),i=[];return i.push("0.749023 g"),i.push("0 0 "+Zt(Rt.internal.getWidth(a))+" "+Zt(Rt.internal.getHeight(a))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Zt(Rt.internal.getWidth(a)-2)+" "+Zt(Rt.internal.getHeight(a)-2)+" re"),i.push("W"),i.push("n"),i.push(Zt(e.x1.x)+" "+Zt(e.x1.y)+" m"),i.push(Zt(e.x2.x)+" "+Zt(e.x2.y)+" l"),i.push(Zt(e.x4.x)+" "+Zt(e.x4.y)+" m"),i.push(Zt(e.x3.x)+" "+Zt(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(a){var t=ir(a);t.scope=a.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Zt(Rt.internal.getWidth(a))+" "+Zt(Rt.internal.getHeight(a))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(a){var t=a.scope.internal.getFont(a.fontName,a.fontStyle).id,e=a.scope.__private__.encodeColorString(a.color);return"/"+t+" "+a.fontSize+" Tf "+e}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(a){var t=Rt.internal.getWidth(a),e=Rt.internal.getHeight(a),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},Rt.internal.getWidth=function(a){var t=0;return me(a)==="object"&&(t=Qc(a.Rect[2])),t},Rt.internal.getHeight=function(a){var t=0;return me(a)==="object"&&(t=Qc(a.Rect[3])),t};var wh=Ee.addField=function(a){if(bh(this,a),!(a instanceof Yn))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=a).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),a.page=a.scope.internal.getCurrentPageInfo().pageNumber,this};Ee.AcroFormChoiceField=Di,Ee.AcroFormListBox=Ri,Ee.AcroFormComboBox=qi,Ee.AcroFormEditBox=yo,Ee.AcroFormButton=Je,Ee.AcroFormPushButton=Ao,Ee.AcroFormRadioButton=Ui,Ee.AcroFormCheckBox=xo,Ee.AcroFormTextField=ni,Ee.AcroFormPasswordField=Lo,Ee.AcroFormAppearance=Rt,Ee.AcroForm={ChoiceField:Di,ListBox:Ri,ComboBox:qi,EditBox:yo,Button:Je,PushButton:Ao,RadioButton:Ui,CheckBox:xo,TextField:ni,PasswordField:Lo,Appearance:Rt},Xt.AcroForm={ChoiceField:Di,ListBox:Ri,ComboBox:qi,EditBox:yo,Button:Je,PushButton:Ao,RadioButton:Ui,CheckBox:xo,TextField:ni,PasswordField:Lo,Appearance:Rt};function Wu(a){return a.reduce(function(t,e,i){return t[e]=i,t},{})}(function(a){a.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=a.__addimage__.getImageFileTypeByImageData=function(L,x){var M,F,G,k,I,$=t;if((x=x||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(z(L))for(I in e)for(G=e[I],M=0;M<G.length;M+=1){for(k=!0,F=0;F<G[M].length;F+=1)if(G[M][F]!==void 0&&G[M][F]!==L[F]){k=!1;break}if(k===!0){$=I;break}}else for(I in e)for(G=e[I],M=0;M<G.length;M+=1){for(k=!0,F=0;F<G[M].length;F+=1)if(G[M][F]!==void 0&&G[M][F]!==L.charCodeAt(F)){k=!1;break}if(k===!0){$=I;break}}return $===t&&x!==t&&($=x),$},n=function L(x){for(var M=this.internal.write,F=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:x.width}),k.push({key:"Height",value:x.height}),x.colorSpace===j.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&x.sMask!==void 0?x.objectId+2:x.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===j.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&x.decodeParameters!==void 0&&k.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)){for(var I="",$=0,X=x.transparency.length;$<X;$++)I+=x.transparency[$]+" "+x.transparency[$]+" ";k.push({key:"Mask",value:"["+I+"]"})}x.sMask!==void 0&&k.push({key:"SMask",value:x.objectId+1+" 0 R"});var tt=x.filter!==void 0?["/"+x.filter]:void 0;if(F({data:x.data,additionalKeyValues:k,alreadyAppliedFilters:tt,objectId:x.objectId}),M("endobj"),"sMask"in x&&x.sMask!==void 0){var mt="/Predictor "+x.predictor+" /Colors 1 /BitsPerComponent "+x.bitsPerComponent+" /Columns "+x.width,N={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:x.bitsPerComponent,decodeParameters:mt,data:x.sMask};"filter"in x&&(N.filter=x.filter),L.call(this,N)}if(x.colorSpace===j.INDEXED){var q=this.internal.newObject();F({data:A(new Uint8Array(x.palette)),objectId:q}),M("endobj")}},r=function(){var L=this.internal.collections.addImage_images;for(var x in L)n.call(this,L[x])},s=function(){var L,x=this.internal.collections.addImage_images,M=this.internal.write;for(var F in x)M("/I"+(L=x[F]).index,L.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var L=this.internal.collections.addImage_images;return u.call(this),L},v=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(L){return typeof a["process"+L.toUpperCase()]=="function"},p=function(L){return me(L)==="object"&&L.nodeType===1},g=function(L,x){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var M=""+L.getAttribute("src");if(M.indexOf("data:image/")===0)return xa(unescape(M).split("base64,").pop());var F=a.loadFile(M,!0);if(F!==void 0)return F}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var G;switch(x){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return xa(L.toDataURL(G,1).split("base64,").pop())}},h=function(L){var x=this.internal.collections.addImage_images;if(x){for(var M in x)if(L===x[M].alias)return x[M]}},w=function(L,x,M){return L||x||(L=-96,x=-96),L<0&&(L=-1*M.width*72/L/this.internal.scaleFactor),x<0&&(x=-1*M.height*72/x/this.internal.scaleFactor),L===0&&(L=x*M.width/M.height),x===0&&(x=L*M.height/M.width),[L,x]},_=function(L,x,M,F,G,k){var I=w.call(this,M,F,G),$=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,tt=l.call(this);if(M=I[0],F=I[1],tt[G.index]=G,k){k*=Math.PI/180;var mt=Math.cos(k),N=Math.sin(k),q=function(U){return U.toFixed(4)},R=[q(mt),q(N),q(-1*N),q(mt),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,$(L),X(x+F),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([$(M),"0","0",$(F),"0","0","cm"].join(" "))):this.internal.write([$(M),"0","0",$(F),$(L),X(x+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},j=a.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};a.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=a.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=a.__addimage__.sHashCode=function(L){var x,M,F=0;if(typeof L=="string")for(M=L.length,x=0;x<M;x++)F=(F<<5)-F+L.charCodeAt(x),F|=0;else if(z(L))for(M=L.byteLength/2,x=0;x<M;x++)F=(F<<5)-F+L[x],F|=0;return F},V=a.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var x=!0;return L.length===0&&(x=!1),L.length%4!=0&&(x=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(x=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(x=!1),x},J=a.__addimage__.extractImageFromDataUrl=function(L){var x=(L=L||"").split("base64,"),M=null;if(x.length===2){var F=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(x[0]);Array.isArray(F)&&(M={mimeType:F[1],charset:F[2],data:x[1]})}return M},Z=a.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};a.__addimage__.isArrayBuffer=function(L){return Z()&&L instanceof ArrayBuffer};var z=a.__addimage__.isArrayBufferView=function(L){return Z()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},Y=a.__addimage__.binaryStringToUint8Array=function(L){for(var x=L.length,M=new Uint8Array(x),F=0;F<x;F++)M[F]=L.charCodeAt(F);return M},A=a.__addimage__.arrayBufferToBinaryString=function(L){for(var x="",M=z(L)?L:new Uint8Array(L),F=0;F<M.length;F+=8192)x+=String.fromCharCode.apply(null,M.subarray(F,F+8192));return x};a.addImage=function(){var L,x,M,F,G,k,I,$,X;if(typeof arguments[1]=="number"?(x=t,M=arguments[1],F=arguments[2],G=arguments[3],k=arguments[4],I=arguments[5],$=arguments[6],X=arguments[7]):(x=arguments[1],M=arguments[2],F=arguments[3],G=arguments[4],k=arguments[5],I=arguments[6],$=arguments[7],X=arguments[8]),me(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var tt=L;L=tt.imageData,x=tt.format||x||t,M=tt.x||M||0,F=tt.y||F||0,G=tt.w||tt.width||G,k=tt.h||tt.height||k,I=tt.alias||I,$=tt.compression||$,X=tt.rotation||tt.angle||X}var mt=this.internal.getFilters();if($===void 0&&mt.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(M)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=O.call(this,L,x,I,$);return _.call(this,M,F,G,k,N,X),this};var O=function(L,x,M,F){var G,k,I;if(typeof L=="string"&&i(L)===t){L=unescape(L);var $=H(L,!1);($!==""||($=a.loadFile(L,!0))!==void 0)&&(L=$)}if(p(L)&&(L=g(L,x)),x=i(L,x),!f(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(((I=M)==null||I.length===0)&&(M=function(X){return typeof X=="string"||z(X)?B(X):z(X.data)?B(X.data):null}(L)),(G=h.call(this,M))||(Z()&&(L instanceof Uint8Array||x==="RGBA"||(k=L,L=Y(L))),G=this["process"+x.toUpperCase()](L,v.call(this),M,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in a.image_compression?X:y.NONE}(F),k)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},H=a.__addimage__.convertBase64ToBinaryString=function(L,x){var M;x=typeof x!="boolean"||x;var F,G="";if(typeof L=="string"){F=(M=J(L))!==null?M.data:L;try{G=xa(F)}catch(k){if(x)throw V(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};a.getImageProperties=function(L){var x,M,F="";if(p(L)&&(L=g(L)),typeof L=="string"&&i(L)===t&&((F=H(L,!1))===""&&(F=a.loadFile(L)||""),L=F),M=i(L),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!Z()||L instanceof Uint8Array||(L=Y(L)),!(x=this["process"+M.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=M,x}})(Xt.API),function(a){var t=function(e){if(e!==void 0&&e!="")return!0};Xt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(e){for(var i,n,r,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),v=e.pageContext.annotations,f=!1,p=0;p<v.length&&!f;p++)switch((i=v[p]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<v.length;g++){i=v[g];var h=this.internal.pdfEscape,w=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(_.objId),B=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+s(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+h(y(i.contents))+")",r+=" /Popup "+j.objId+" 0 R",r+=" /P "+l.objId+" 0 R",r+=" /T ("+h(y(B))+") >>",_.content=r;var V=_.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+s(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+V,i.open&&(r+=" /Open true"),r+=" >>",j.content=r,this.internal.write(_.objId,"0 R",j.objId,"0 R");break;case"freetext":n="/Rect ["+s(i.bounds.x)+" "+u(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var J=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(w(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+J+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var Z=this.annotations._nameMap[i.options.name];i.options.pageNumber=Z.page,i.options.top=Z.y}else i.options.top||(i.options.top=0);if(n="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var z=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+z+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),a.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},a.link=function(e,i,n,r,s){var u=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:l(e),y:v(i),w:l(e+n),h:v(i+r)},options:s,type:"link"})},a.textWithLink=function(e,i,n,r){var s,u,l=this.getTextWidth(e),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){u=r.maxWidth;var f=this.splitTextToSize(e,u).length;s=Math.ceil(v*f)}else u=l,s=v;return this.text(e,i,n,r),n+=.2*v,r.align==="center"&&(i-=l/2),r.align==="right"&&(i-=l),this.link(i,n-v,u,s,r),l},a.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Xt.API),function(a){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];a.__arabicParser__={};var r=a.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},s=a.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},u=a.__arabicParser__.isArabicEndLetter=function(_){return s(_)&&r(_)&&t[_.charCodeAt(0)].length<=2},l=a.__arabicParser__.isArabicAlfLetter=function(_){return s(_)&&n.indexOf(_.charCodeAt(0))>=0};a.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return s(_)&&r(_)&&t[_.charCodeAt(0)].length>=1};var v=a.__arabicParser__.arabicLetterHasFinalForm=function(_){return s(_)&&r(_)&&t[_.charCodeAt(0)].length>=2};a.__arabicParser__.arabicLetterHasInitialForm=function(_){return s(_)&&r(_)&&t[_.charCodeAt(0)].length>=3};var f=a.__arabicParser__.arabicLetterHasMedialForm=function(_){return s(_)&&r(_)&&t[_.charCodeAt(0)].length==4},p=a.__arabicParser__.resolveLigatures=function(_){var j=0,y=e,B="",V=0;for(j=0;j<_.length;j+=1)y[_.charCodeAt(j)]!==void 0?(V++,typeof(y=y[_.charCodeAt(j)])=="number"&&(B+=String.fromCharCode(y),y=e,V=0),j===_.length-1&&(y=e,B+=_.charAt(j-(V-1)),j-=V-1,V=0)):(y=e,B+=_.charAt(j-V),j-=V,V=0);return B};a.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&i[_.charCodeAt(0)]!==void 0};var g=a.__arabicParser__.getCorrectForm=function(_,j,y){return s(_)?r(_)===!1?-1:!v(_)||!s(j)&&!s(y)||!s(y)&&u(j)||u(_)&&!s(j)||u(_)&&l(j)||u(_)&&u(j)?0:f(_)&&s(j)&&!u(j)&&s(y)&&v(y)?3:u(_)||!s(y)?1:2:-1},h=function(_){var j=0,y=0,B=0,V="",J="",Z="",z=(_=_||"").split("\\s+"),Y=[];for(j=0;j<z.length;j+=1){for(Y.push(""),y=0;y<z[j].length;y+=1)V=z[j][y],J=z[j][y-1],Z=z[j][y+1],s(V)?(B=g(V,J,Z),Y[j]+=B!==-1?String.fromCharCode(t[V.charCodeAt(0)][B]):V):Y[j]+=V;Y[j]=p(Y[j])}return Y.join(" ")},w=a.__arabicParser__.processArabic=a.processArabic=function(){var _,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(j)){var B=0;for(y=[],B=0;B<j.length;B+=1)Array.isArray(j[B])?y.push([h(j[B][0]),j[B][1],j[B][2]]):y.push([h(j[B])]);_=y}else _=h(j);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};a.events.push(["preProcessText",w])}(Xt.API),Xt.API.autoPrint=function(a){var t;switch((a=a||{}).variant=a.variant||"non-conform",a.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(a){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(u){r=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var n;if((e=e||"2d")!=="2d")return null;for(n in i)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=i[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},a.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xt.API),function(a){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(_){w=_}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},a.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},a.getTextDimensions=function(l,v){i.call(this);var f=(v=v||{}).fontSize||this.getFontSize(),p=v.font||this.getFont(),g=v.scaleFactor||this.internal.scaleFactor,h=0,w=0,_=0,j=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=v.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(V,J){return V.concat(j.splitTextToSize(J,y))},[])):l=Array.isArray(l)?l:[l];for(var B=0;B<l.length;B++)h<(_=this.getStringUnitWidth(l[B],{font:p})*f)&&(h=_);return h!==0&&(w=l.length),{w:h/=g,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},a.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=a.cell=function(){var l;l=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var v=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===l.lineNumber?(l.x=(v.x||0)+(v.width||0),l.y=v.y||0):v.y+v.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=v.y+v.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};a.table=function(l,v,f,p,g){if(i.call(this),!f)throw new Error("No data for PDF table.");var h,w,_,j,y=[],B=[],V=[],J={},Z={},z=[],Y=[],A=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},t),x=typeof g.padding=="number"?g.padding:3,M=g.headerBackgroundColor||"#c8c8c8",F=g.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=F,this.setFontSize(H),p==null)B=y=Object.keys(f[0]),V=y.map(function(){return"left"});else if(Array.isArray(p)&&me(p[0])==="object")for(y=p.map(function(tt){return tt.name}),B=p.map(function(tt){return tt.prompt||tt.name||""}),V=p.map(function(tt){return tt.align||"left"}),h=0;h<p.length;h+=1)Z[p[h].name]=p[h].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(B=y=p,V=y.map(function(){return"left"}));if(A||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<y.length;h+=1){for(J[j=y[h]]=f.map(function(tt){return tt[j]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(B[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=J[j],this.setFont(void 0,"normal"),_=0;_<w.length;_+=1)z.push(this.getTextDimensions(w[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Z[j]=Math.max.apply(null,z)+x+x,z=[]}if(O){var G={};for(h=0;h<y.length;h+=1)G[y[h]]={},G[y[h]].text=B[h],G[y[h]].align=V[h];var k=u.call(this,G,Z);Y=y.map(function(tt){return new r(l,v,Z[tt],k,G[tt].text,void 0,G[tt].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var I=p.reduce(function(tt,mt){return tt[mt.name]=mt.align,tt},{});for(h=0;h<f.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:f[h]},this);var $=u.call(this,f[h],Z);for(_=0;_<y.length;_+=1){var X=f[h][y[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:_,data:X},this),s.call(this,new r(l,v,Z[y[_]],$,X,h+2,I[y[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=v,this};var u=function(l,v){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var w=l[h];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,v[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/g+f+f},this).reduce(function(h,w){return Math.max(h,w)},0)};a.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},a.printHeaderRow=function(l,v){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),v&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),e=!1}}(Xt.API);var Vu={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gu=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Js=Wu(Gu),Yu=[100,200,300,400,500,600,700,800,900],yh=Wu(Yu);function Ks(a){var t=a.family.replace(/"|'/g,"").toLowerCase(),e=function(r){return Vu[r=r||"normal"]?r:"normal"}(a.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(a.weight),n=function(r){return typeof Js[r=r||"normal"]=="number"?r:"normal"}(a.stretch);return{family:t,style:e,weight:i,stretch:n,src:a.src||[],ref:a.ref||{name:t,style:[n,e,i].join(" ")}}}function Zc(a,t,e,i){var n;for(n=e;n>=0&&n<t.length;n+=i)if(a[t[n]])return a[t[n]];for(n=e;n>=0&&n<t.length;n-=i)if(a[t[n]])return a[t[n]]}var Ah={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function eu(a){return[a.stretch,a.style,a.weight,a.family].join(" ")}function xh(a,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",n=Object.assign({},Ah,e.genericFontFamilies||{}),r=null,s=null,u=0;u<t.length;++u)if(n[(r=Ks(t[u])).family]&&(r.family=n[r.family]),a.hasOwnProperty(r.family)){s=a[r.family];break}if(!(s=s||a[i]))throw new Error("Could not find a font-family for the rule '"+eu(r)+"' and default family '"+i+"'.");if(s=function(l,v){if(v[l])return v[l];var f=Js[l],p=f<=Js.normal?-1:1,g=Zc(v,Gu,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(r.stretch,s),s=function(l,v){if(v[l])return v[l];for(var f=Vu[l],p=0;p<f.length;++p)if(v[f[p]])return v[f[p]];throw new Error("Could not find a matching font-style for "+l)}(r.style,s),!(s=function(l,v){if(v[l])return v[l];if(l===400&&v[500])return v[500];if(l===500&&v[400])return v[400];var f=yh[l],p=Zc(v,Yu,f,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(r.weight,s)))throw new Error("Failed to resolve a font for the rule '"+eu(r)+"'.");return s}function nu(a){return a.trimLeft()}function Lh(a,t){for(var e=0;e<a.length;){if(a.charAt(e)===t)return[a.substring(0,e),a.substring(e+1)];e+=1}return null}function Nh(a){var t=a.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],a.substring(t[0].length)]}var go,ru,iu,js=["times"];(function(a){var t,e,i,n,r,s,u,l,v,f=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};a.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,l=this.internal.Matrix,v=new f}]);var p=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=N;Object.defineProperty(this,"pdf",{get:function(){return q}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(dt){R=!!dt}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(dt){U=!!dt}});var et=0;Object.defineProperty(this,"posX",{get:function(){return et},set:function(dt){isNaN(dt)||(et=dt)}});var st=0;Object.defineProperty(this,"posY",{get:function(){return st},set:function(dt){isNaN(dt)||(st=dt)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(dt){var Q;typeof dt=="number"?Q=[dt,dt,dt,dt]:((Q=new Array(4))[0]=dt[0],Q[1]=dt.length>=2?dt[1]:Q[0],Q[2]=dt.length>=3?dt[2]:Q[0],Q[3]=dt.length>=4?dt[3]:Q[1]),v.margin=Q}});var ct=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ct},set:function(dt){ct=dt}});var ut=0;Object.defineProperty(this,"lastBreak",{get:function(){return ut},set:function(dt){ut=dt}});var yt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return yt},set:function(dt){yt=dt}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(dt){dt instanceof f&&(v=dt)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(dt){v.path=dt}});var At=[];Object.defineProperty(this,"ctxStack",{get:function(){return At},set:function(dt){At=dt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(dt){var Q;Q=g(dt),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(dt){var Q=g(dt);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(dt){["butt","round","square"].indexOf(dt)!==-1&&(this.ctx.lineCap=dt,this.pdf.setLineCap(dt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(dt){isNaN(dt)||(this.ctx.lineWidth=dt,this.pdf.setLineWidth(dt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(dt){["bevel","round","miter"].indexOf(dt)!==-1&&(this.ctx.lineJoin=dt,this.pdf.setLineJoin(dt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(dt){isNaN(dt)||(this.ctx.miterLimit=dt,this.pdf.setMiterLimit(dt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(dt){this.ctx.textBaseline=dt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(dt){["right","end","center","left","start"].indexOf(dt)!==-1&&(this.ctx.textAlign=dt)}});var Pt=null;function Et(dt,Q){if(Pt===null){var Dt=function(Ft){var xt=[];return Object.keys(Ft).forEach(function(_t){Ft[_t].forEach(function(St){var It=null;switch(St){case"bold":It={family:_t,weight:"bold"};break;case"italic":It={family:_t,style:"italic"};break;case"bolditalic":It={family:_t,weight:"bold",style:"italic"};break;case"":case"normal":It={family:_t}}It!==null&&(It.ref={name:_t,style:St},xt.push(It))})}),xt}(dt.getFontList());Pt=function(Ft){for(var xt={},_t=0;_t<Ft.length;++_t){var St=Ks(Ft[_t]),It=St.family,Ot=St.stretch,Tt=St.style,Ut=St.weight;xt[It]=xt[It]||{},xt[It][Ot]=xt[It][Ot]||{},xt[It][Ot][Tt]=xt[It][Ot][Tt]||{},xt[It][Ot][Tt][Ut]=St}return xt}(Dt.concat(Q))}return Pt}var qt=null;Object.defineProperty(this,"fontFaces",{get:function(){return qt},set:function(dt){Pt=null,qt=dt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(dt){var Q;if(this.ctx.font=dt,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(dt))!==null){var Dt=Q[1],Ft=(Q[2],Q[3]),xt=Q[4],_t=(Q[5],Q[6]),St=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(St==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:St==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var It=function(zt){var Wt,kt,de=[],ee=zt.trim();if(ee==="")return js;if(ee in tu)return[tu[ee]];for(;ee!=="";){switch(kt=null,Wt=(ee=nu(ee)).charAt(0)){case'"':case"'":kt=Lh(ee.substring(1),Wt);break;default:kt=Nh(ee)}if(kt===null||(de.push(kt[0]),(ee=nu(kt[1]))!==""&&ee.charAt(0)!==","))return js;ee=ee.replace(/^,/,"")}return de}(_t);if(this.fontFaces){var Ot=xh(Et(this.pdf,this.fontFaces),It.map(function(zt){return{family:zt,stretch:"normal",weight:Ft,style:Dt}}));this.pdf.setFont(Ot.ref.name,Ot.ref.style)}else{var Tt="";(Ft==="bold"||parseInt(Ft,10)>=700||Dt==="bold")&&(Tt="bold"),Dt==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var Ut="",Kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ie=0;ie<It.length;ie++){if(this.pdf.internal.getFont(It[ie],Tt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=It[ie];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(It[ie],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=It[ie],Tt="bold";else if(this.pdf.internal.getFont(It[ie],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=It[ie],Tt="normal";break}}if(Ut===""){for(var $t=0;$t<It.length;$t++)if(Kt[It[$t]]){Ut=Kt[It[$t]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(dt){this.ctx.globalCompositeOperation=dt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(dt){this.ctx.globalAlpha=dt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(dt){this.ctx.lineDashOffset=dt,mt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(dt){this.ctx.lineDash=dt,mt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(dt){this.ctx.ignoreClearRect=!!dt}})};p.prototype.setLineDash=function(N){this.lineDash=N},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){J.call(this,"fill",!1)},p.prototype.stroke=function(){J.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(N,q){if(isNaN(N)||isNaN(q))throw xe.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new s(N,q));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(N,q)},p.prototype.closePath=function(){var N=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&me(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){N=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},p.prototype.lineTo=function(N,q){if(isNaN(N)||isNaN(q))throw xe.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new s(N,q));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new s(R.x,R.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),J.call(this,null,!0)},p.prototype.quadraticCurveTo=function(N,q,R,U){if(isNaN(R)||isNaN(U)||isNaN(N)||isNaN(q))throw xe.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var et=this.ctx.transform.applyToPoint(new s(R,U)),st=this.ctx.transform.applyToPoint(new s(N,q));this.path.push({type:"qct",x1:st.x,y1:st.y,x:et.x,y:et.y}),this.ctx.lastPoint=new s(et.x,et.y)},p.prototype.bezierCurveTo=function(N,q,R,U,et,st){if(isNaN(et)||isNaN(st)||isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U))throw xe.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ct=this.ctx.transform.applyToPoint(new s(et,st)),ut=this.ctx.transform.applyToPoint(new s(N,q)),yt=this.ctx.transform.applyToPoint(new s(R,U));this.path.push({type:"bct",x1:ut.x,y1:ut.y,x2:yt.x,y2:yt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new s(ct.x,ct.y)},p.prototype.arc=function(N,q,R,U,et,st){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U)||isNaN(et))throw xe.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(st=!!st,!this.ctx.transform.isIdentity){var ct=this.ctx.transform.applyToPoint(new s(N,q));N=ct.x,q=ct.y;var ut=this.ctx.transform.applyToPoint(new s(0,R)),yt=this.ctx.transform.applyToPoint(new s(0,0));R=Math.sqrt(Math.pow(ut.x-yt.x,2)+Math.pow(ut.y-yt.y,2))}Math.abs(et-U)>=2*Math.PI&&(U=0,et=2*Math.PI),this.path.push({type:"arc",x:N,y:q,radius:R,startAngle:U,endAngle:et,counterclockwise:st})},p.prototype.arcTo=function(N,q,R,U,et){throw new Error("arcTo not implemented.")},p.prototype.rect=function(N,q,R,U){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U))throw xe.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,q),this.lineTo(N+R,q),this.lineTo(N+R,q+U),this.lineTo(N,q+U),this.lineTo(N,q),this.lineTo(N+R,q),this.lineTo(N,q)},p.prototype.fillRect=function(N,q,R,U){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U))throw xe.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var et={};this.lineCap!=="butt"&&(et.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(et.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,q,R,U),this.fill(),et.hasOwnProperty("lineCap")&&(this.lineCap=et.lineCap),et.hasOwnProperty("lineJoin")&&(this.lineJoin=et.lineJoin)}},p.prototype.strokeRect=function(N,q,R,U){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U))throw xe.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(N,q,R,U),this.stroke())},p.prototype.clearRect=function(N,q,R,U){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U))throw xe.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,q,R,U))},p.prototype.save=function(N){N=typeof N!="boolean"||N;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},p.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(q),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(N){var q,R,U,et;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))q=0,R=0,U=0,et=0;else{var st=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(st!==null)q=parseInt(st[1]),R=parseInt(st[2]),U=parseInt(st[3]),et=1;else if((st=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)q=parseInt(st[1]),R=parseInt(st[2]),U=parseInt(st[3]),et=parseFloat(st[4]);else{if(et=1,typeof N=="string"&&N.charAt(0)!=="#"){var ct=new Du(N);N=ct.ok?ct.toHex():"#000000"}N.length===4?(q=N.substring(1,2),q+=q,R=N.substring(2,3),R+=R,U=N.substring(3,4),U+=U):(q=N.substring(1,3),R=N.substring(3,5),U=N.substring(5,7)),q=parseInt(q,16),R=parseInt(R,16),U=parseInt(U,16)}}return{r:q,g:R,b:U,a:et,style:N}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(N,q,R,U){if(isNaN(q)||isNaN(R)||typeof N!="string")throw xe.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!h.call(this)){var et=$(this.ctx.transform.rotation),st=this.ctx.transform.scaleX;x.call(this,{text:N,x:q,y:R,scale:st,angle:et,align:this.textAlign,maxWidth:U})}},p.prototype.strokeText=function(N,q,R,U){if(isNaN(q)||isNaN(R)||typeof N!="string")throw xe.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){U=isNaN(U)?void 0:U;var et=$(this.ctx.transform.rotation),st=this.ctx.transform.scaleX;x.call(this,{text:N,x:q,y:R,scale:st,renderingMode:"stroke",angle:et,align:this.textAlign,maxWidth:U})}},p.prototype.measureText=function(N){if(typeof N!="string")throw xe.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,R=this.pdf.internal.scaleFactor,U=q.internal.getFontSize(),et=q.getStringUnitWidth(N)*U/q.internal.scaleFactor,st=function(ct){var ut=(ct=ct||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ut}}),this};return new st({width:et*=Math.round(96*R/72*1e4)/1e4})},p.prototype.scale=function(N,q){if(isNaN(N)||isNaN(q))throw xe.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new l(N,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.rotate=function(N){if(isNaN(N))throw xe.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(N,q){if(isNaN(N)||isNaN(q))throw xe.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new l(1,0,0,1,N,q);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.transform=function(N,q,R,U,et,st){if(isNaN(N)||isNaN(q)||isNaN(R)||isNaN(U)||isNaN(et)||isNaN(st))throw xe.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ct=new l(N,q,R,U,et,st);this.ctx.transform=this.ctx.transform.multiply(ct)},p.prototype.setTransform=function(N,q,R,U,et,st){N=isNaN(N)?1:N,q=isNaN(q)?0:q,R=isNaN(R)?0:R,U=isNaN(U)?1:U,et=isNaN(et)?0:et,st=isNaN(st)?0:st,this.ctx.transform=new l(N,q,R,U,et,st)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(N,q,R,U,et,st,ct,ut,yt){var At=this.pdf.getImageProperties(N),Pt=1,Et=1,qt=1,dt=1;U!==void 0&&ut!==void 0&&(qt=ut/U,dt=yt/et,Pt=At.width/U*ut/U,Et=At.height/et*yt/et),st===void 0&&(st=q,ct=R,q=0,R=0),U!==void 0&&ut===void 0&&(ut=U,yt=et),U===void 0&&ut===void 0&&(ut=At.width,yt=At.height);for(var Q,Dt=this.ctx.transform.decompose(),Ft=$(Dt.rotate.shx),xt=new l,_t=(xt=(xt=(xt=xt.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new u(st-q*qt,ct-R*dt,U*Pt,et*Et)),St=j.call(this,_t),It=[],Ot=0;Ot<St.length;Ot+=1)It.indexOf(St[Ot])===-1&&It.push(St[Ot]);if(V(It),this.autoPaging)for(var Tt=It[0],Ut=It[It.length-1],Kt=Tt;Kt<Ut+1;Kt++){this.pdf.setPage(Kt);var ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=Kt===1?this.posY+this.margin[0]:this.margin[0],zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Kt===1?0:zt+(Kt-2)*Wt;if(this.ctx.clip_path.length!==0){var de=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Q,this.posX+this.margin[3],-kt+$t+this.ctx.prevPageLastElemOffset),Z.call(this,"fill",!0),this.path=de}var ee=JSON.parse(JSON.stringify(_t));ee=B([ee],this.posX+this.margin[3],-kt+$t+this.ctx.prevPageLastElemOffset)[0];var Fe=(Kt>Tt||Kt<Ut)&&_.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ie,Wt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",ee.x,ee.y,ee.w,ee.h,null,null,Ft),Fe&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,Ft)};var j=function(N,q,R){var U=[];q=q||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var et=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":U.push(Math.floor((N.y+et)/R)+1);break;case"arc":U.push(Math.floor((N.y+et-N.radius)/R)+1),U.push(Math.floor((N.y+et+N.radius)/R)+1);break;case"qct":var st=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);U.push(Math.floor((st.y+et)/R)+1),U.push(Math.floor((st.y+st.h+et)/R)+1);break;case"bct":var ct=tt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);U.push(Math.floor((ct.y+et)/R)+1),U.push(Math.floor((ct.y+ct.h+et)/R)+1);break;case"rect":U.push(Math.floor((N.y+et)/R)+1),U.push(Math.floor((N.y+N.h+et)/R)+1)}for(var ut=0;ut<U.length;ut+=1)for(;this.pdf.internal.getNumberOfPages()<U[ut];)y.call(this);return U},y=function(){var N=this.fillStyle,q=this.strokeStyle,R=this.font,U=this.lineCap,et=this.lineWidth,st=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=q,this.font=R,this.lineCap=U,this.lineWidth=et,this.lineJoin=st},B=function(N,q,R){for(var U=0;U<N.length;U++)switch(N[U].type){case"bct":N[U].x2+=q,N[U].y2+=R;case"qct":N[U].x1+=q,N[U].y1+=R;case"mt":case"lt":case"arc":default:N[U].x+=q,N[U].y+=R}return N},V=function(N){return N.sort(function(q,R){return q-R})},J=function(N,q){for(var R,U,et=this.fillStyle,st=this.strokeStyle,ct=this.lineCap,ut=this.lineWidth,yt=Math.abs(ut*this.ctx.transform.scaleX),At=this.lineJoin,Pt=JSON.parse(JSON.stringify(this.path)),Et=JSON.parse(JSON.stringify(this.path)),qt=[],dt=0;dt<Et.length;dt++)if(Et[dt].x!==void 0)for(var Q=j.call(this,Et[dt]),Dt=0;Dt<Q.length;Dt+=1)qt.indexOf(Q[Dt])===-1&&qt.push(Q[Dt]);for(var Ft=0;Ft<qt.length;Ft++)for(;this.pdf.internal.getNumberOfPages()<qt[Ft];)y.call(this);if(V(qt),this.autoPaging)for(var xt=qt[0],_t=qt[qt.length-1],St=xt;St<_t+1;St++){this.pdf.setPage(St),this.fillStyle=et,this.strokeStyle=st,this.lineCap=ct,this.lineWidth=yt,this.lineJoin=At;var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=St===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=St===1?0:Tt+(St-2)*Ut;if(this.ctx.clip_path.length!==0){var ie=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(R,this.posX+this.margin[3],-Kt+Ot+this.ctx.prevPageLastElemOffset),Z.call(this,N,!0),this.path=ie}if(U=JSON.parse(JSON.stringify(Pt)),this.path=B(U,this.posX+this.margin[3],-Kt+Ot+this.ctx.prevPageLastElemOffset),q===!1||St===0){var $t=(St>xt||St<_t)&&_.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Ut,null).clip().discardPath()),Z.call(this,N,q),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=ut}else this.lineWidth=yt,Z.call(this,N,q),this.lineWidth=ut;this.path=Pt},Z=function(N,q){if((N!=="stroke"||q||!w.call(this))&&(N==="stroke"||q||!h.call(this))){for(var R,U,et=[],st=this.path,ct=0;ct<st.length;ct++){var ut=st[ct];switch(ut.type){case"begin":et.push({begin:!0});break;case"close":et.push({close:!0});break;case"mt":et.push({start:ut,deltas:[],abs:[]});break;case"lt":var yt=et.length;if(st[ct-1]&&!isNaN(st[ct-1].x)&&(R=[ut.x-st[ct-1].x,ut.y-st[ct-1].y],yt>0)){for(;yt>=0;yt--)if(et[yt-1].close!==!0&&et[yt-1].begin!==!0){et[yt-1].deltas.push(R),et[yt-1].abs.push(ut);break}}break;case"bct":R=[ut.x1-st[ct-1].x,ut.y1-st[ct-1].y,ut.x2-st[ct-1].x,ut.y2-st[ct-1].y,ut.x-st[ct-1].x,ut.y-st[ct-1].y],et[et.length-1].deltas.push(R);break;case"qct":var At=st[ct-1].x+2/3*(ut.x1-st[ct-1].x),Pt=st[ct-1].y+2/3*(ut.y1-st[ct-1].y),Et=ut.x+2/3*(ut.x1-ut.x),qt=ut.y+2/3*(ut.y1-ut.y),dt=ut.x,Q=ut.y;R=[At-st[ct-1].x,Pt-st[ct-1].y,Et-st[ct-1].x,qt-st[ct-1].y,dt-st[ct-1].x,Q-st[ct-1].y],et[et.length-1].deltas.push(R);break;case"arc":et.push({deltas:[],abs:[],arc:!0}),Array.isArray(et[et.length-1].abs)&&et[et.length-1].abs.push(ut)}}U=q?null:N==="stroke"?"stroke":"fill";for(var Dt=!1,Ft=0;Ft<et.length;Ft++)if(et[Ft].arc)for(var xt=et[Ft].abs,_t=0;_t<xt.length;_t++){var St=xt[_t];St.type==="arc"?A.call(this,St.x,St.y,St.radius,St.startAngle,St.endAngle,St.counterclockwise,void 0,q,!Dt):M.call(this,St.x,St.y),Dt=!0}else if(et[Ft].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(et[Ft].begin!==!0){var It=et[Ft].start.x,Ot=et[Ft].start.y;F.call(this,et[Ft].deltas,It,Ot),Dt=!0}U&&O.call(this,U),q&&H.call(this)}},z=function(N){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-R;case"top":return N+q-R;case"hanging":return N+q-2*R;case"middle":return N+q/2-R;case"ideographic":return N;case"alphabetic":default:return N}},Y=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(q,R){this.colorStops.push([q,R])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(N,q,R,U,et,st,ct,ut,yt){for(var At=k.call(this,R,U,et,st),Pt=0;Pt<At.length;Pt++){var Et=At[Pt];Pt===0&&(yt?L.call(this,Et.x1+N,Et.y1+q):M.call(this,Et.x1+N,Et.y1+q)),G.call(this,N,q,Et.x2,Et.y2,Et.x3,Et.y3,Et.x4,Et.y4)}ut?H.call(this):O.call(this,ct)},O=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(N,q){this.pdf.internal.out(e(N)+" "+i(q)+" m")},x=function(N){var q;switch(N.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var R=this.pdf.getTextDimensions(N.text),U=z.call(this,N.y),et=Y.call(this,U)-R.h,st=this.ctx.transform.applyToPoint(new s(N.x,U)),ct=this.ctx.transform.decompose(),ut=new l;ut=(ut=(ut=ut.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale);for(var yt,At,Pt,Et=this.ctx.transform.applyToRectangle(new u(N.x,U,R.w,R.h)),qt=ut.applyToRectangle(new u(N.x,et,R.w,R.h)),dt=j.call(this,qt),Q=[],Dt=0;Dt<dt.length;Dt+=1)Q.indexOf(dt[Dt])===-1&&Q.push(dt[Dt]);if(V(Q),this.autoPaging)for(var Ft=Q[0],xt=Q[Q.length-1],_t=Ft;_t<xt+1;_t++){this.pdf.setPage(_t);var St=_t===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[2],Tt=Ot-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],Kt=Ut-this.margin[3],ie=_t===1?0:It+(_t-2)*Tt;if(this.ctx.clip_path.length!==0){var $t=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(yt,this.posX+this.margin[3],-1*ie+St),Z.call(this,"fill",!0),this.path=$t}var zt=B([JSON.parse(JSON.stringify(qt))],this.posX+this.margin[3],-ie+St+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*N.scale),Pt=this.lineWidth,this.lineWidth=Pt*N.scale);var Wt=this.autoPaging!=="text";if(Wt||zt.y+zt.h<=Ot){if(Wt||zt.y>=St&&zt.x<=Ut){var kt=Wt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Ut-zt.x)[0],de=B([JSON.parse(JSON.stringify(Et))],this.posX+this.margin[3],-ie+St+this.ctx.prevPageLastElemOffset)[0],ee=Wt&&(_t>Ft||_t<xt)&&_.call(this);ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Tt,null).clip().discardPath()),this.pdf.text(kt,de.x,de.y,{angle:N.angle,align:q,renderingMode:N.renderingMode}),ee&&this.pdf.restoreGraphicsState()}}else zt.y<Ot&&(this.ctx.prevPageLastElemOffset+=Ot-zt.y);N.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=Pt)}else N.scale>=.01&&(At=this.pdf.internal.getFontSize(),this.pdf.setFontSize(At*N.scale),Pt=this.lineWidth,this.lineWidth=Pt*N.scale),this.pdf.text(N.text,st.x+this.posX,st.y+this.posY,{angle:N.angle,align:q,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(At),this.lineWidth=Pt)},M=function(N,q,R,U){R=R||0,U=U||0,this.pdf.internal.out(e(N+R)+" "+i(q+U)+" l")},F=function(N,q,R){return this.pdf.lines(N,q,R,null,null)},G=function(N,q,R,U,et,st,ct,ut){this.pdf.internal.out([t(n(R+N)),t(r(U+q)),t(n(et+N)),t(r(st+q)),t(n(ct+N)),t(r(ut+q)),"c"].join(" "))},k=function(N,q,R,U){for(var et=2*Math.PI,st=Math.PI/2;q>R;)q-=et;var ct=Math.abs(R-q);ct<et&&U&&(ct=et-ct);for(var ut=[],yt=U?-1:1,At=q;ct>1e-5;){var Pt=At+yt*Math.min(ct,st);ut.push(I.call(this,N,At,Pt)),ct-=Math.abs(Pt-At),At=Pt}return ut},I=function(N,q,R){var U=(R-q)/2,et=N*Math.cos(U),st=N*Math.sin(U),ct=et,ut=-st,yt=ct*ct+ut*ut,At=yt+ct*et+ut*st,Pt=4/3*(Math.sqrt(2*yt*At)-At)/(ct*st-ut*et),Et=ct-Pt*ut,qt=ut+Pt*ct,dt=Et,Q=-qt,Dt=U+q,Ft=Math.cos(Dt),xt=Math.sin(Dt);return{x1:N*Math.cos(q),y1:N*Math.sin(q),x2:Et*Ft-qt*xt,y2:Et*xt+qt*Ft,x3:dt*Ft-Q*xt,y3:dt*xt+Q*Ft,x4:N*Math.cos(R),y4:N*Math.sin(R)}},$=function(N){return 180*N/Math.PI},X=function(N,q,R,U,et,st){var ct=N+.5*(R-N),ut=q+.5*(U-q),yt=et+.5*(R-et),At=st+.5*(U-st),Pt=Math.min(N,et,ct,yt),Et=Math.max(N,et,ct,yt),qt=Math.min(q,st,ut,At),dt=Math.max(q,st,ut,At);return new u(Pt,qt,Et-Pt,dt-qt)},tt=function(N,q,R,U,et,st,ct,ut){var yt,At,Pt,Et,qt,dt,Q,Dt,Ft,xt,_t,St,It,Ot,Tt=R-N,Ut=U-q,Kt=et-R,ie=st-U,$t=ct-et,zt=ut-st;for(At=0;At<41;At++)Ft=(Q=(Pt=N+(yt=At/40)*Tt)+yt*((qt=R+yt*Kt)-Pt))+yt*(qt+yt*(et+yt*$t-qt)-Q),xt=(Dt=(Et=q+yt*Ut)+yt*((dt=U+yt*ie)-Et))+yt*(dt+yt*(st+yt*zt-dt)-Dt),At==0?(_t=Ft,St=xt,It=Ft,Ot=xt):(_t=Math.min(_t,Ft),St=Math.min(St,xt),It=Math.max(It,Ft),Ot=Math.max(Ot,xt));return new u(Math.round(_t),Math.round(St),Math.round(It-_t),Math.round(Ot-St))},mt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,q,R=(N=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:q}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(Xt.API),function(a){var t=function(r){var s,u,l,v,f,p,g,h,w,_;for(u=[],l=0,v=(r+=s="\0\0\0\0".slice(r.length%4||4)).length;v>l;l+=4)(f=(r.charCodeAt(l)<<24)+(r.charCodeAt(l+1)<<16)+(r.charCodeAt(l+2)<<8)+r.charCodeAt(l+3))!==0?(p=(f=((f=((f=((f=(f-(_=f%85))/85)-(w=f%85))/85)-(h=f%85))/85)-(g=f%85))/85)%85,u.push(p+33,g+33,h+33,w+33,_+33)):u.push(122);return function(j,y){for(var B=y;B>0;B--)j.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},e=function(r){var s,u,l,v,f,p=String,g="length",h=255,w="charCodeAt",_="slice",j="replace";for(r[_](-2),r=r[_](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),l=[],v=0,f=(r+=s="uuuuu"[_](r[g]%5||5))[g];f>v;v+=5)u=52200625*(r[w](v)-33)+614125*(r[w](v+1)-33)+7225*(r[w](v+2)-33)+85*(r[w](v+3)-33)+(r[w](v+4)-33),l.push(h&u>>24,h&u>>16,h&u>>8,h&u);return function(y,B){for(var V=B;V>0;V--)y.pop()}(l,s[g]),p.fromCharCode.apply(p,l)},i=function(r){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),s.test(r)===!1)return"";for(var u="",l=0;l<r.length;l+=2)u+=String.fromCharCode("0x"+(r[l]+r[l+1]));return u},n=function(r){for(var s=new Uint8Array(r.length),u=r.length;u--;)s[u]=r.charCodeAt(u);return r=(s=Ws(s)).reduce(function(l,v){return l+String.fromCharCode(v)},"")};a.processDataByFilters=function(r,s){var u=0,l=r||"",v=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=n(l),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:l,reverseChain:v.reverse().join(" ")}}}(Xt.API),function(a){a.loadFile=function(t,e,i){return function(n,r,s){r=r!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(l,v,f){var p=new XMLHttpRequest,g=0,h=function(w){var _=w.length,j=[],y=String.fromCharCode;for(g=0;g<_;g+=1)j.push(y(255&w.charCodeAt(g)));return j.join("")};if(p.open("GET",l,!v),p.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(p.onload=function(){p.status===200?f(h(this.responseText)):f(void 0)}),p.send(null),v&&p.status===200)return h(p.responseText)}(n,r,s)}catch{}return u}(t,e,i)},a.loadImageFile=a.loadFile}(Xt.API),function(a){function t(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Ds(()=>import("html2canvas"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Ds(()=>import("dompurify"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var u=me(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},n=function(s,u){var l=document.createElement(s);for(var v in u.className&&(l.className=u.className),u.innerHTML&&u.dompurify&&(l.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)l.style[v]=u.style[v];return l},r=function s(u){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),v=s.convert(Promise.resolve(),l);return v=(v=v.setProgress(1,s,1,[s])).set(u)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(s,u){return s.__proto__=u||r.prototype,s},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(l){switch(i(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(e).then(function(l){return this.set({src:n("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},r.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function l(v,f){for(var p=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),g=v.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,f));return v.nodeType===1&&(v.nodeName==="CANVAS"?(p.width=v.width,p.height=v.height,p.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(p.value=v.value),p.addEventListener("load",function(){p.scrollTop=v.scrollTop,p.scrollLeft=v.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,u(this.prop.container,l)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var l=this.opt.jsPDF,v=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=v,v)for(var g=0;g<v.length;++g){var h=v[g],w=h.src.find(function(_){return _.format==="truetype"});w&&l.addFont(w.url,h.ref.name,h.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),u(this.prop.container,p)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(s,u,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},r.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},r.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},r.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(s){if(i(s)!=="object")return this;var u=Object.keys(s||{}).map(function(l){if(l in r.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(u)})},r.prototype.get=function(s,u){return this.then(function(){var l=s in r.template.prop?this.prop[s]:this.opt[s];return u?u(l):l})},r.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},r.prototype.setPageSize=function(s){function u(l,v){return Math.floor(l*v/72*96)}return this.then(function(){(s=s||Xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},r.prototype.setProgress=function(s,u,l,v){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),l!=null&&(this.progress.n=l),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(s,u,l,v){return this.setProgress(s?this.progress.val+s:null,u||null,l?this.progress.n+l:null,v?this.progress.stack.concat(v):null)},r.prototype.then=function(s,u){var l=this;return this.thenCore(s,u,function(v,f){return l.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,v),p}).then(v,f).then(function(p){return l.updateProgress(1),p})})},r.prototype.thenCore=function(s,u,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),f=l.call(v,s,u);return r.convert(f,this.__proto__)},r.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},r.prototype.thenList=function(s){var u=this;return s.forEach(function(l){u=u.thenCore(l)}),u},r.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return r.convert(u,this)},r.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},r.prototype.error=function(s){return this.then(function(){throw new Error(s)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,Xt.getPageSize=function(s,u,l){if(me(s)==="object"){var v=s;s=v.orientation,u=v.unit||u,l=v.format||l}u=u||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var f,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+u}var h,w=0,_=0;if(g.hasOwnProperty(p))w=g[p][1]/f,_=g[p][0]/f;else try{w=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",_>w&&(h=_,_=w,w=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",w>_&&(h=_,_=w,w=h)}return{width:_,height:w,unit:u,k:f,orientation:s}},a.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Ks):null;var l=new r(u);return u.worker?l:l.from(s).doCallback()}}(Xt.API),Xt.API.addJS=function(a){return iu=a,this.internal.events.subscribe("postPutResources",function(){go=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(go+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ru=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){go!==void 0&&ru!==void 0&&this.internal.out("/Names <</JavaScript "+go+" 0 R>>")}),this},function(a){var t;a.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),r=0;r<n.length;r++){var s=n[r],u=i.exec(s);if(u!=null){var l=u[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,f=[];for(r=0;r<v;r++){var p=e.internal.newObject();f.push(p);var g=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<f.length;r++)e.internal.write("(page_"+(r+1)+")"+f[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),a.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),a.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,n,r){var s={title:n,options:r,children:[]};return i==null&&(i=this.root),i.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var n=0;n<i.children.length;n++)this.genIds_r(i.children[n])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var s=i.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var l=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var v=0;v<i.children.length;v++)this.renderItems(i.children[v])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,n){for(var r=0;r<n.children.length;r++)i.count++,this.count_r(i,n.children[r]);return i.count}}])}(Xt.API),function(a){var t=[192,193,194,195,196,197,198,199];a.processJPEG=function(e,i,n,r,s,u){var l,v=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(p){for(var g,h=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,_={width:0,height:0,numcomponents:1},j=4;j<w;j+=2){if(j+=h,t.indexOf(p.charCodeAt(j+1))!==-1){g=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),_={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:g,numcomponents:p.charCodeAt(j+9)};break}h=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return _}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}f={data:e,width:l.width,height:l.height,colorSpace:u,bitsPerComponent:8,filter:v,index:i,alias:n}}return f}}(Xt.API);var Oi,mo,au,ou,su,_h=function(){var a,t,e;function i(r){var s,u,l,v,f,p,g,h,w,_,j,y,B,V;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(s=this.readUInt32(),w=function(){var J,Z;for(Z=[],J=0;J<4;++J)Z.push(String.fromCharCode(this.data[this.pos++]));return Z}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),v=this.readUInt16()||100,p.delay=1e3*f/v,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,s-=4),r=(p!=null?p.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(B=0;0<=_?B<_:B>_;0<=_?++B:--B)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(j=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,j.slice(0,g)),this.text[h]=String.fromCharCode.apply(String,j.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(V=this.colorType)===4||V===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var s,u;for(u=[],s=0;0<=r?s<r:s>r;0<=r?++s:--s)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),l=0,v=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function f(p,g,h,w){var _,j,y,B,V,J,Z,z,Y,A,O,H,L,x,M,F,G,k,I,$,X,tt=Math.ceil((v.width-p)/h),mt=Math.ceil((v.height-g)/w),N=v.width==tt&&v.height==mt;for(x=s*tt,H=N?u:new Uint8Array(x*mt),J=r.length,L=0,j=0;L<mt&&l<J;){switch(r[l++]){case 0:for(B=G=0;G<x;B=G+=1)H[j++]=r[l++];break;case 1:for(B=k=0;k<x;B=k+=1)_=r[l++],V=B<s?0:H[j-s],H[j++]=(_+V)%256;break;case 2:for(B=I=0;I<x;B=I+=1)_=r[l++],y=(B-B%s)/s,M=L&&H[(L-1)*x+y*s+B%s],H[j++]=(M+_)%256;break;case 3:for(B=$=0;$<x;B=$+=1)_=r[l++],y=(B-B%s)/s,V=B<s?0:H[j-s],M=L&&H[(L-1)*x+y*s+B%s],H[j++]=(_+Math.floor((V+M)/2))%256;break;case 4:for(B=X=0;X<x;B=X+=1)_=r[l++],y=(B-B%s)/s,V=B<s?0:H[j-s],L===0?M=F=0:(M=H[(L-1)*x+y*s+B%s],F=y&&H[(L-1)*x+(y-1)*s+B%s]),Z=V+M-F,z=Math.abs(Z-V),A=Math.abs(Z-M),O=Math.abs(Z-F),Y=z<=A&&z<=O?V:A<=O?M:F,H[j++]=(_+Y)%256;break;default:throw new Error("Invalid filter algorithm: "+r[l-1])}if(!N){var q=((g+L*w)*v.width+p)*s,R=L*x;for(B=0;B<tt;B+=1){for(var U=0;U<s;U+=1)u[q++]=H[R++];q+=(h-1)*s}}L++}}return r=ah(r),v.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),u},i.prototype.decodePalette=function(){var r,s,u,l,v,f,p,g,h;for(u=this.palette,f=this.transparency.indexed||[],v=new Uint8Array((f.length||0)+u.length),l=0,r=0,s=p=0,g=u.length;p<g;s=p+=3)v[l++]=u[s],v[l++]=u[s+1],v[l++]=u[s+2],v[l++]=(h=f[r++])!=null?h:255;return v},i.prototype.copyToImageData=function(r,s){var u,l,v,f,p,g,h,w,_,j,y;if(l=this.colors,_=null,u=this.hasAlphaChannel,this.palette.length&&(_=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,u=!0),w=(v=r.data||r).length,p=_||s,f=g=0,l===1)for(;f<w;)h=_?4*s[f/4]:g,j=p[h++],v[f++]=j,v[f++]=j,v[f++]=j,v[f++]=u?p[h++]:255,g=h;else for(;f<w;)h=_?4*s[f/4]:g,v[f++]=p[h++],v[f++]=p[h++],v[f++]=p[h++],v[f++]=u?p[h++]:255,g=h},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var n=function(){if(Object.prototype.toString.call(Jt)==="[object Window]"){try{t=Jt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return n(),a=function(r){var s;if(n()===!0)return e.width=r.width,e.height=r.height,e.clearRect(0,0,r.width,r.height),e.putImageData(r,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var s,u,l,v,f,p,g,h;if(this.animation){for(h=[],u=f=0,p=(g=this.animation.frames).length;f<p;u=++f)s=g[u],l=r.createImageData(s.width,s.height),v=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,v),s.imageData=l,h.push(s.image=a(l));return h}},i.prototype.renderFrame=function(r,s){var u,l,v;return u=(l=this.animation.frames)[s],v=l[s-1],s===0&&r.clearRect(0,0,this.width,this.height),(v!=null?v.disposeOp:void 0)===1?r.clearRect(v.xOffset,v.yOffset,v.width,v.height):(v!=null?v.disposeOp:void 0)===2&&r.putImageData(v.imageData,v.xOffset,v.yOffset),u.blendOp===0&&r.clearRect(u.xOffset,u.yOffset,u.width,u.height),r.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(r){var s,u,l,v,f,p,g=this;return u=0,p=this.animation,v=p.numFrames,l=p.frames,f=p.numPlays,(s=function(){var h,w;if(h=u++%v,w=l[h],g.renderFrame(r,h),v>1&&u/v<f)return g.animation._timeout=setTimeout(s,w.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var s,u;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,s=r.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Sh(a){var t=0;if(a[t++]!==71||a[t++]!==73||a[t++]!==70||a[t++]!==56||(a[t++]+1&253)!=56||a[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=a[t++]|a[t++]<<8,i=a[t++]|a[t++]<<8,n=a[t++],r=n>>7,s=1<<(7&n)+1;a[t++],a[t++];var u=null,l=null;r&&(u=t,l=s,t+=3*s);var v=!0,f=[],p=0,g=null,h=0,w=null;for(this.width=e,this.height=i;v&&t<a.length;)switch(a[t++]){case 33:switch(a[t++]){case 255:if(a[t]!==11||a[t+1]==78&&a[t+2]==69&&a[t+3]==84&&a[t+4]==83&&a[t+5]==67&&a[t+6]==65&&a[t+7]==80&&a[t+8]==69&&a[t+9]==50&&a[t+10]==46&&a[t+11]==48&&a[t+12]==3&&a[t+13]==1&&a[t+16]==0)t+=14,w=a[t++]|a[t++]<<8,t++;else for(t+=12;;){if(!((L=a[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;case 249:if(a[t++]!==4||a[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=a[t++];p=a[t++]|a[t++]<<8,g=a[t++],!(1&_)&&(g=null),h=_>>2&7,t++;break;case 254:for(;;){if(!((L=a[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}break;default:throw new Error("Unknown graphic control label: 0x"+a[t-1].toString(16))}break;case 44:var j=a[t++]|a[t++]<<8,y=a[t++]|a[t++]<<8,B=a[t++]|a[t++]<<8,V=a[t++]|a[t++]<<8,J=a[t++],Z=J>>6&1,z=1<<(7&J)+1,Y=u,A=l,O=!1;J>>7&&(O=!0,Y=t,A=z,t+=3*z);var H=t;for(t++;;){var L;if(!((L=a[t++])>=0))throw Error("Invalid block size");if(L===0)break;t+=L}f.push({x:j,y,width:B,height:V,has_local_palette:O,palette_offset:Y,palette_size:A,data_offset:H,data_length:t-H,transparent_index:g,interlaced:!!Z,delay:p,disposal:h});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+a[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(x){if(x<0||x>=f.length)throw new Error("Frame index out of range.");return f[x]},this.decodeAndBlitFrameBGRA=function(x,M){var F=this.frameInfo(x),G=F.width*F.height,k=new Uint8Array(G);cu(a,F.data_offset,k,G);var I=F.palette_offset,$=F.transparent_index;$===null&&($=256);var X=F.width,tt=e-X,mt=X,N=4*(F.y*e+F.x),q=4*((F.y+F.height)*e+F.x),R=N,U=4*tt;F.interlaced===!0&&(U+=4*e*7);for(var et=8,st=0,ct=k.length;st<ct;++st){var ut=k[st];if(mt===0&&(mt=X,(R+=U)>=q&&(U=4*tt+4*e*(et-1),R=N+(X+tt)*(et<<1),et>>=1)),ut===$)R+=4;else{var yt=a[I+3*ut],At=a[I+3*ut+1],Pt=a[I+3*ut+2];M[R++]=Pt,M[R++]=At,M[R++]=yt,M[R++]=255}--mt}},this.decodeAndBlitFrameRGBA=function(x,M){var F=this.frameInfo(x),G=F.width*F.height,k=new Uint8Array(G);cu(a,F.data_offset,k,G);var I=F.palette_offset,$=F.transparent_index;$===null&&($=256);var X=F.width,tt=e-X,mt=X,N=4*(F.y*e+F.x),q=4*((F.y+F.height)*e+F.x),R=N,U=4*tt;F.interlaced===!0&&(U+=4*e*7);for(var et=8,st=0,ct=k.length;st<ct;++st){var ut=k[st];if(mt===0&&(mt=X,(R+=U)>=q&&(U=4*tt+4*e*(et-1),R=N+(X+tt)*(et<<1),et>>=1)),ut===$)R+=4;else{var yt=a[I+3*ut],At=a[I+3*ut+1],Pt=a[I+3*ut+2];M[R++]=yt,M[R++]=At,M[R++]=Pt,M[R++]=255}--mt}}}function cu(a,t,e,i){for(var n=a[t++],r=1<<n,s=r+1,u=s+1,l=n+1,v=(1<<l)-1,f=0,p=0,g=0,h=a[t++],w=new Int32Array(4096),_=null;;){for(;f<16&&h!==0;)p|=a[t++]<<f,f+=8,h===1?h=a[t++]:--h;if(f<l)break;var j=p&v;if(p>>=l,f-=l,j!==r){if(j===s)break;for(var y=j<u?j:_,B=0,V=y;V>r;)V=w[V]>>8,++B;var J=V;if(g+B+(y!==j?1:0)>i)return void xe.log("Warning, gif stream longer than expected.");e[g++]=J;var Z=g+=B;for(y!==j&&(e[g++]=J),V=y;B--;)V=w[V],e[--Z]=255&V,V>>=8;_!==null&&u<4096&&(w[u++]=_<<8|J,u>=v+1&&l<12&&(++l,v=v<<1|1)),_=j}else u=s+1,v=(1<<(l=n+1))-1,_=null}return g!==i&&xe.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ms(a){var t,e,i,n,r,s=Math.floor,u=new Array(64),l=new Array(64),v=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),h=new Array(64),w=new Array(64),_=[],j=0,y=7,B=new Array(64),V=new Array(64),J=new Array(64),Z=new Array(256),z=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(N,q){for(var R=0,U=0,et=new Array,st=1;st<=16;st++){for(var ct=1;ct<=N[st];ct++)et[q[U]]=[],et[q[U]][0]=R,et[q[U]][1]=st,U++,R++;R*=2}return et}function I(N){for(var q=N[0],R=N[1]-1;R>=0;)q&1<<R&&(j|=1<<y),R--,--y<0&&(j==255?($(255),$(0)):$(j),y=7,j=0)}function $(N){_.push(N)}function X(N){$(N>>8&255),$(255&N)}function tt(N,q,R,U,et){for(var st,ct=et[0],ut=et[240],yt=function(xt,_t){var St,It,Ot,Tt,Ut,Kt,ie,$t,zt,Wt,kt=0;for(zt=0;zt<8;++zt){St=xt[kt],It=xt[kt+1],Ot=xt[kt+2],Tt=xt[kt+3],Ut=xt[kt+4],Kt=xt[kt+5],ie=xt[kt+6];var de=St+($t=xt[kt+7]),ee=St-$t,Fe=It+ie,se=It-ie,be=Ot+Kt,Nn=Ot-Kt,ce=Tt+Ut,Jn=Tt-Ut,we=de+ce,vn=de-ce,We=Fe+be,he=Fe-be;xt[kt]=we+We,xt[kt+4]=we-We;var Gt=.707106781*(he+vn);xt[kt+2]=vn+Gt,xt[kt+6]=vn-Gt;var ae=.382683433*((we=Jn+Nn)-(he=se+ee)),Kn=.5411961*we+ae,_e=1.306562965*he+ae,Ve=.707106781*(We=Nn+se),$n=ee+Ve,Yt=ee-Ve;xt[kt+5]=Yt+Kn,xt[kt+3]=Yt-Kn,xt[kt+1]=$n+_e,xt[kt+7]=$n-_e,kt+=8}for(kt=0,zt=0;zt<8;++zt){St=xt[kt],It=xt[kt+8],Ot=xt[kt+16],Tt=xt[kt+24],Ut=xt[kt+32],Kt=xt[kt+40],ie=xt[kt+48];var Cn=St+($t=xt[kt+56]),Qn=St-$t,un=It+ie,ze=It-ie,De=Ot+Kt,bn=Ot-Kt,ii=Tt+Ut,hr=Tt-Ut,En=Cn+ii,On=Cn-ii,jn=un+De,Zn=un-De;xt[kt]=En+jn,xt[kt+32]=En-jn;var _n=.707106781*(Zn+On);xt[kt+16]=On+_n,xt[kt+48]=On-_n;var tr=.382683433*((En=hr+bn)-(Zn=ze+Qn)),Vr=.5411961*En+tr,ai=1.306562965*Zn+tr,oi=.707106781*(jn=bn+ze),si=Qn+oi,ci=Qn-oi;xt[kt+40]=ci+Vr,xt[kt+24]=ci-Vr,xt[kt+8]=si+ai,xt[kt+56]=si-ai,kt++}for(zt=0;zt<64;++zt)Wt=xt[zt]*_t[zt],h[zt]=Wt>0?Wt+.5|0:Wt-.5|0;return h}(N,q),At=0;At<64;++At)w[Y[At]]=yt[At];var Pt=w[0]-R;R=w[0],Pt==0?I(U[0]):(I(U[g[st=32767+Pt]]),I(p[st]));for(var Et=63;Et>0&&w[Et]==0;)Et--;if(Et==0)return I(ct),R;for(var qt,dt=1;dt<=Et;){for(var Q=dt;w[dt]==0&&dt<=Et;)++dt;var Dt=dt-Q;if(Dt>=16){qt=Dt>>4;for(var Ft=1;Ft<=qt;++Ft)I(ut);Dt&=15}st=32767+w[dt],I(et[(Dt<<4)+g[st]]),I(p[st]),dt++}return Et!=63&&I(ct),R}function mt(N){N=Math.min(Math.max(N,1),100),r!=N&&(function(q){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var et=s((R[U]*q+50)/100);et=Math.min(Math.max(et,1),255),u[Y[U]]=et}for(var st=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ct=0;ct<64;ct++){var ut=s((st[ct]*q+50)/100);ut=Math.min(Math.max(ut,1),255),l[Y[ct]]=ut}for(var yt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],At=0,Pt=0;Pt<8;Pt++)for(var Et=0;Et<8;Et++)v[At]=1/(u[Y[At]]*yt[Pt]*yt[Et]*8),f[At]=1/(l[Y[At]]*yt[Pt]*yt[Et]*8),At++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),r=N)}this.encode=function(N,q){q&&mt(q),_=new Array,j=0,y=7,X(65496),X(65504),X(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),X(1),X(1),$(0),$(0),function(){X(65499),X(132),$(0);for(var It=0;It<64;It++)$(u[It]);$(1);for(var Ot=0;Ot<64;Ot++)$(l[Ot])}(),function(It,Ot){X(65472),X(17),$(8),X(Ot),X(It),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(N.width,N.height),function(){X(65476),X(418),$(0);for(var It=0;It<16;It++)$(A[It+1]);for(var Ot=0;Ot<=11;Ot++)$(O[Ot]);$(16);for(var Tt=0;Tt<16;Tt++)$(H[Tt+1]);for(var Ut=0;Ut<=161;Ut++)$(L[Ut]);$(1);for(var Kt=0;Kt<16;Kt++)$(x[Kt+1]);for(var ie=0;ie<=11;ie++)$(M[ie]);$(17);for(var $t=0;$t<16;$t++)$(F[$t+1]);for(var zt=0;zt<=161;zt++)$(G[zt])}(),X(65498),X(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var R=0,U=0,et=0;j=0,y=7,this.encode.displayName="_encode_";for(var st,ct,ut,yt,At,Pt,Et,qt,dt,Q=N.data,Dt=N.width,Ft=N.height,xt=4*Dt,_t=0;_t<Ft;){for(st=0;st<xt;){for(At=xt*_t+st,Et=-1,qt=0,dt=0;dt<64;dt++)Pt=At+(qt=dt>>3)*xt+(Et=4*(7&dt)),_t+qt>=Ft&&(Pt-=xt*(_t+1+qt-Ft)),st+Et>=xt&&(Pt-=st+Et-xt+4),ct=Q[Pt++],ut=Q[Pt++],yt=Q[Pt++],B[dt]=(z[ct]+z[ut+256>>0]+z[yt+512>>0]>>16)-128,V[dt]=(z[ct+768>>0]+z[ut+1024>>0]+z[yt+1280>>0]>>16)-128,J[dt]=(z[ct+1280>>0]+z[ut+1536>>0]+z[yt+1792>>0]>>16)-128;R=tt(B,v,R,t,i),U=tt(V,f,U,e,n),et=tt(J,f,et,e,n),st+=32}_t+=8}if(y>=0){var St=[];St[1]=y+1,St[0]=(1<<y+1)-1,I(St)}return X(65497),new Uint8Array(_)},a=a||50,function(){for(var N=String.fromCharCode,q=0;q<256;q++)Z[q]=N(q)}(),t=k(A,O),e=k(x,M),i=k(H,L),n=k(F,G),function(){for(var N=1,q=2,R=1;R<=15;R++){for(var U=N;U<q;U++)g[32767+U]=R,p[32767+U]=[],p[32767+U][1]=R,p[32767+U][0]=U;for(var et=-(q-1);et<=-N;et++)g[32767+et]=R,p[32767+et]=[],p[32767+et][1]=R,p[32767+et][0]=q-1+et;N<<=1,q<<=1}}(),function(){for(var N=0;N<256;N++)z[N]=19595*N,z[N+256>>0]=38470*N,z[N+512>>0]=7471*N+32768,z[N+768>>0]=-11059*N,z[N+1024>>0]=-21709*N,z[N+1280>>0]=32768*N+8421375,z[N+1536>>0]=-27439*N,z[N+1792>>0]=-5329*N}(),mt(a)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vn(a,t){if(this.pos=0,this.buffer=a,this.datav=new DataView(a.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uu(a){function t(A){if(!A)throw Error("assert :P")}function e(A,O,H){for(var L=0;4>L;L++)if(A[O+L]!=H.charCodeAt(L))return!0;return!1}function i(A,O,H,L,x){for(var M=0;M<x;M++)A[O+M]=H[L+M]}function n(A,O,H,L){for(var x=0;x<L;x++)A[O+x]=H}function r(A){return new Int32Array(A)}function s(A,O){for(var H=[],L=0;L<A;L++)H.push(new O);return H}function u(A,O){var H=[];return function L(x,M,F){for(var G=F[M],k=0;k<G&&(x.push(F.length>M+1?[]:new O),!(F.length<M+1));k++)L(x[k],M+1,F)}(H,0,A),H}var l=function(){var A=this;function O(o,c){for(var m=1<<c-1>>>0;o&m;)m>>>=1;return m?(o&m-1)+m:o}function H(o,c,m,b,S){t(!(b%m));do o[c+(b-=m)]=S;while(0<b)}function L(o,c,m,b,S){if(t(2328>=S),512>=S)var C=r(512);else if((C=r(S))==null)return 0;return function(E,T,D,W,rt,ht){var ft,ot,wt=T,pt=1<<D,it=r(16),at=r(16);for(t(rt!=0),t(W!=null),t(E!=null),t(0<D),ot=0;ot<rt;++ot){if(15<W[ot])return 0;++it[W[ot]]}if(it[0]==rt)return 0;for(at[1]=0,ft=1;15>ft;++ft){if(it[ft]>1<<ft)return 0;at[ft+1]=at[ft]+it[ft]}for(ot=0;ot<rt;++ot)ft=W[ot],0<W[ot]&&(ht[at[ft]++]=ot);if(at[15]==1)return(W=new x).g=0,W.value=ht[0],H(E,wt,1,pt,W),pt;var vt,Lt=-1,bt=pt-1,Bt=0,Ct=1,Vt=1,jt=1<<D;for(ot=0,ft=1,rt=2;ft<=D;++ft,rt<<=1){if(Ct+=Vt<<=1,0>(Vt-=it[ft]))return 0;for(;0<it[ft];--it[ft])(W=new x).g=ft,W.value=ht[ot++],H(E,wt+Bt,rt,jt,W),Bt=O(Bt,ft)}for(ft=D+1,rt=2;15>=ft;++ft,rt<<=1){if(Ct+=Vt<<=1,0>(Vt-=it[ft]))return 0;for(;0<it[ft];--it[ft]){if(W=new x,(Bt&bt)!=Lt){for(wt+=jt,vt=1<<(Lt=ft)-D;15>Lt&&!(0>=(vt-=it[Lt]));)++Lt,vt<<=1;pt+=jt=1<<(vt=Lt-D),E[T+(Lt=Bt&bt)].g=vt+D,E[T+Lt].value=wt-T-Lt}W.g=ft-D,W.value=ht[ot++],H(E,wt+(Bt>>D),rt,jt,W),Bt=O(Bt,ft)}}return Ct!=2*at[15]-1?0:pt}(o,c,m,b,S,C)}function x(){this.value=this.g=0}function M(){this.value=this.g=0}function F(){this.G=s(5,x),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(hn,M)}function G(o,c,m,b){t(o!=null),t(c!=null),t(2147483648>b),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=c,o.pa=m,o.Jd=c,o.Yc=m+b,o.Zc=4<=b?m+b-4+1:m,st(o)}function k(o,c){for(var m=0;0<c--;)m|=ut(o,128)<<c;return m}function I(o,c){var m=k(o,c);return ct(o)?-m:m}function $(o,c,m,b){var S,C=0;for(t(o!=null),t(c!=null),t(4294967288>b),o.Sb=b,o.Ra=0,o.u=0,o.h=0,4<b&&(b=4),S=0;S<b;++S)C+=c[m+S]<<8*S;o.Ra=C,o.bb=b,o.oa=c,o.pa=m}function X(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Li-8>>>0,++o.bb,o.u-=8;R(o)&&(o.h=1,o.u=0)}function tt(o,c){if(t(0<=c),!o.h&&c<=xi){var m=q(o)&Ai[c];return o.u+=c,X(o),m}return o.h=1,o.u=0}function mt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(o){return o.Ra>>>(o.u&Li-1)>>>0}function R(o){return t(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Li}function U(o,c){o.u=c,o.h=R(o)}function et(o){o.u>=sa&&(t(o.u>=sa),X(o))}function st(o){t(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(t(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function ct(o){return k(o,1)}function ut(o,c){var m=o.Ca;0>o.b&&st(o);var b=o.b,S=m*c>>>8,C=(o.I>>>b>S)+0;for(C?(m-=S,o.I-=S+1<<b>>>0):m=S+1,b=m,S=0;256<=b;)S+=8,b>>=8;return b=7^S+fn[b],o.b-=b,o.Ca=(m<<b)-1,C}function yt(o,c,m){o[c+0]=m>>24&255,o[c+1]=m>>16&255,o[c+2]=m>>8&255,o[c+3]=m>>0&255}function At(o,c){return o[c+0]<<0|o[c+1]<<8}function Pt(o,c){return At(o,c)|o[c+2]<<16}function Et(o,c){return At(o,c)|At(o,c+2)<<16}function qt(o,c){var m=1<<c;return t(o!=null),t(0<c),o.X=r(m),o.X==null?0:(o.Mb=32-c,o.Xa=c,1)}function dt(o,c){t(o!=null),t(c!=null),t(o.Xa==c.Xa),i(c.X,0,o.X,0,1<<c.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function Dt(o,c,m,b){t(m!=null),t(b!=null);var S=m[0],C=b[0];return S==0&&(S=(o*C+c/2)/c),C==0&&(C=(c*S+o/2)/o),0>=S||0>=C?0:(m[0]=S,b[0]=C,1)}function Ft(o,c){return o+(1<<c)-1>>>c}function xt(o,c){return((4278255360&o)+(4278255360&c)>>>0&4278255360)+((16711935&o)+(16711935&c)>>>0&16711935)>>>0}function _t(o,c){A[c]=function(m,b,S,C,E,T,D){var W;for(W=0;W<E;++W){var rt=A[o](T[D+W-1],S,C+W);T[D+W]=xt(m[b+W],rt)}}}function St(){this.ud=this.hd=this.jd=0}function It(o,c){return((4278124286&(o^c))>>>1)+(o&c)>>>0}function Ot(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function Tt(o,c){return Ot(o+(o-c+.5>>1))}function Ut(o,c,m){return Math.abs(c-m)-Math.abs(o-m)}function Kt(o,c,m,b,S,C,E){for(b=C[E-1],m=0;m<S;++m)C[E+m]=b=xt(o[c+m],b)}function ie(o,c,m,b,S){var C;for(C=0;C<m;++C){var E=o[c+C],T=E>>8&255,D=16711935&(D=(D=16711935&E)+((T<<16)+T));b[S+C]=(4278255360&E)+D>>>0}}function $t(o,c){c.jd=o>>0&255,c.hd=o>>8&255,c.ud=o>>16&255}function zt(o,c,m,b,S,C){var E;for(E=0;E<b;++E){var T=c[m+E],D=T>>>8,W=T,rt=255&(rt=(rt=T>>>16)+((o.jd<<24>>24)*(D<<24>>24)>>>5));W=255&(W=(W=W+((o.hd<<24>>24)*(D<<24>>24)>>>5))+((o.ud<<24>>24)*(rt<<24>>24)>>>5)),S[C+E]=(4278255360&T)+(rt<<16)+W}}function Wt(o,c,m,b,S){A[c]=function(C,E,T,D,W,rt,ht,ft,ot){for(D=ht;D<ft;++D)for(ht=0;ht<ot;++ht)W[rt++]=S(T[b(C[E++])])},A[o]=function(C,E,T,D,W,rt,ht){var ft=8>>C.b,ot=C.Ea,wt=C.K[0],pt=C.w;if(8>ft)for(C=(1<<C.b)-1,pt=(1<<ft)-1;E<T;++E){var it,at=0;for(it=0;it<ot;++it)it&C||(at=b(D[W++])),rt[ht++]=S(wt[at&pt]),at>>=ft}else A["VP8LMapColor"+m](D,W,wt,pt,rt,ht,E,T,ot)}}function kt(o,c,m,b,S){for(m=c+m;c<m;){var C=o[c++];b[S++]=C>>16&255,b[S++]=C>>8&255,b[S++]=C>>0&255}}function de(o,c,m,b,S){for(m=c+m;c<m;){var C=o[c++];b[S++]=C>>16&255,b[S++]=C>>8&255,b[S++]=C>>0&255,b[S++]=C>>24&255}}function ee(o,c,m,b,S){for(m=c+m;c<m;){var C=(E=o[c++])>>16&240|E>>12&15,E=E>>0&240|E>>28&15;b[S++]=C,b[S++]=E}}function Fe(o,c,m,b,S){for(m=c+m;c<m;){var C=(E=o[c++])>>16&248|E>>13&7,E=E>>5&224|E>>3&31;b[S++]=C,b[S++]=E}}function se(o,c,m,b,S){for(m=c+m;c<m;){var C=o[c++];b[S++]=C>>0&255,b[S++]=C>>8&255,b[S++]=C>>16&255}}function be(o,c,m,b,S,C){if(C==0)for(m=c+m;c<m;)yt(b,((C=o[c++])[0]>>24|C[1]>>8&65280|C[2]<<8&16711680|C[3]<<24)>>>0),S+=32;else i(b,S,o,c,m)}function Nn(o,c){A[c][0]=A[o+"0"],A[c][1]=A[o+"1"],A[c][2]=A[o+"2"],A[c][3]=A[o+"3"],A[c][4]=A[o+"4"],A[c][5]=A[o+"5"],A[c][6]=A[o+"6"],A[c][7]=A[o+"7"],A[c][8]=A[o+"8"],A[c][9]=A[o+"9"],A[c][10]=A[o+"10"],A[c][11]=A[o+"11"],A[c][12]=A[o+"12"],A[c][13]=A[o+"13"],A[c][14]=A[o+"0"],A[c][15]=A[o+"0"]}function ce(o){return o==ls||o==hs||o==Qa||o==fs}function Jn(){this.eb=[],this.size=this.A=this.fb=0}function we(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jn,this.f.kb=new we,this.sd=null}function We(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function he(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Gt(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function ae(o,c){var m=o.T,b=c.ba.f.RGBA,S=b.eb,C=b.fb+o.ka*b.A,E=Fn[c.ba.S],T=o.y,D=o.O,W=o.f,rt=o.N,ht=o.ea,ft=o.W,ot=c.cc,wt=c.dc,pt=c.Mc,it=c.Nc,at=o.ka,vt=o.ka+o.T,Lt=o.U,bt=Lt+1>>1;for(at==0?E(T,D,null,null,W,rt,ht,ft,W,rt,ht,ft,S,C,null,null,Lt):(E(c.ec,c.fc,T,D,ot,wt,pt,it,W,rt,ht,ft,S,C-b.A,S,C,Lt),++m);at+2<vt;at+=2)ot=W,wt=rt,pt=ht,it=ft,rt+=o.Rc,ft+=o.Rc,C+=2*b.A,E(T,(D+=2*o.fa)-o.fa,T,D,ot,wt,pt,it,W,rt,ht,ft,S,C-b.A,S,C,Lt);return D+=o.fa,o.j+vt<o.o?(i(c.ec,c.fc,T,D,Lt),i(c.cc,c.dc,W,rt,bt),i(c.Mc,c.Nc,ht,ft,bt),m--):1&vt||E(T,D,null,null,W,rt,ht,ft,W,rt,ht,ft,S,C+b.A,null,null,Lt),m}function Kn(o,c,m){var b=o.F,S=[o.J];if(b!=null){var C=o.U,E=c.ba.S,T=E==$a||E==Qa;c=c.ba.f.RGBA;var D=[0],W=o.ka;D[0]=o.T,o.Kb&&(W==0?--D[0]:(--W,S[0]-=o.width),o.j+o.ka+o.T==o.o&&(D[0]=o.o-o.j-W));var rt=c.eb;W=c.fb+W*c.A,o=Ga(b,S[0],o.width,C,D,rt,W+(T?0:3),c.A),t(m==D),o&&ce(E)&&Er(rt,W,T,C,D,c.A)}return 0}function _e(o){var c=o.ma,m=c.ba.S,b=11>m,S=m==Ja||m==Ka||m==$a||m==us||m==12||ce(m);if(c.memory=null,c.Ib=null,c.Jb=null,c.Nd=null,!aa(c.Oa,o,S?11:12))return 0;if(S&&ce(m)&&Nt(),o.da)alert("todo:use_scaling");else{if(b){if(c.Ib=Gt,o.Kb){if(m=o.U+1>>1,c.memory=r(o.U+2*m),c.memory==null)return 0;c.ec=c.memory,c.fc=0,c.cc=c.ec,c.dc=c.fc+o.U,c.Mc=c.cc,c.Nc=c.dc+m,c.Ib=ae,Nt()}}else alert("todo:EmitYUV");S&&(c.Jb=Kn,b&&lt())}if(b&&!wc){for(o=0;256>o;++o)p1[o]=89858*(o-128)+to>>Za,v1[o]=-22014*(o-128)+to,m1[o]=-45773*(o-128),g1[o]=113618*(o-128)+to>>Za;for(o=da;o<gs;++o)c=76283*(o-16)+to>>Za,b1[o-da]=wn(c,255),w1[o-da]=wn(c+8>>4,15);wc=1}return 1}function Ve(o){var c=o.ma,m=o.U,b=o.T;return t(!(1&o.ka)),0>=m||0>=b?0:(m=c.Ib(o,c),c.Jb!=null&&c.Jb(o,c,m),c.Dc+=m,1)}function $n(o){o.ma.memory=null}function Yt(o,c,m,b){return tt(o,8)!=47?0:(c[0]=tt(o,14)+1,m[0]=tt(o,14)+1,b[0]=tt(o,1),tt(o,3)!=0?0:!o.h)}function Cn(o,c){if(4>o)return o+1;var m=o-2>>1;return(2+(1&o)<<m)+tt(c,m)+1}function Qn(o,c){return 120<c?c-120:1<=(m=((m=t1[c-1])>>4)*o+(8-(15&m)))?m:1;var m}function un(o,c,m){var b=q(m),S=o[c+=255&b].g-8;return 0<S&&(U(m,m.u+8),b=q(m),c+=o[c].value,c+=b&(1<<S)-1),U(m,m.u+o[c].g),o[c].value}function ze(o,c,m){return m.g+=o.g,m.value+=o.value<<c>>>0,t(8>=m.g),o.g}function De(o,c,m){var b=o.xc;return t((c=b==0?0:o.vc[o.md*(m>>b)+(c>>b)])<o.Wb),o.Ya[c]}function bn(o,c,m,b){var S=o.ab,C=o.c*c,E=o.C;c=E+c;var T=m,D=b;for(b=o.Ta,m=o.Ua;0<S--;){var W=o.gc[S],rt=E,ht=c,ft=T,ot=D,wt=(D=b,T=m,W.Ea);switch(t(rt<ht),t(ht<=W.nc),W.hc){case 2:Va(ft,ot,(ht-rt)*wt,D,T);break;case 0:var pt=rt,it=ht,at=D,vt=T,Lt=(jt=W).Ea;pt==0&&(as(ft,ot,null,null,1,at,vt),Kt(ft,ot+1,0,0,Lt-1,at,vt+1),ot+=Lt,vt+=Lt,++pt);for(var bt=1<<jt.b,Bt=bt-1,Ct=Ft(Lt,jt.b),Vt=jt.K,jt=jt.w+(pt>>jt.b)*Ct;pt<it;){var fe=Vt,pe=jt,le=1;for(ca(ft,ot,at,vt-Lt,1,at,vt);le<Lt;){var oe=(le&~Bt)+bt;oe>Lt&&(oe=Lt),(0,Ir[fe[pe++]>>8&15])(ft,ot+ +le,at,vt+le-Lt,oe-le,at,vt+le),le=oe}ot+=Lt,vt+=Lt,++pt&Bt||(jt+=Ct)}ht!=W.nc&&i(D,T-wt,D,T+(ht-rt-1)*wt,wt);break;case 1:for(wt=ft,it=ot,Lt=(ft=W.Ea)-(vt=ft&~(at=(ot=1<<W.b)-1)),pt=Ft(ft,W.b),bt=W.K,W=W.w+(rt>>W.b)*pt;rt<ht;){for(Bt=bt,Ct=W,Vt=new St,jt=it+vt,fe=it+ft;it<jt;)$t(Bt[Ct++],Vt),Sn(Vt,wt,it,ot,D,T),it+=ot,T+=ot;it<fe&&($t(Bt[Ct++],Vt),Sn(Vt,wt,it,Lt,D,T),it+=Lt,T+=Lt),++rt&at||(W+=pt)}break;case 3:if(ft==D&&ot==T&&0<W.b){for(it=D,ft=wt=T+(ht-rt)*wt-(vt=(ht-rt)*Ft(W.Ea,W.b)),ot=D,at=T,pt=[],vt=(Lt=vt)-1;0<=vt;--vt)pt[vt]=ot[at+vt];for(vt=Lt-1;0<=vt;--vt)it[ft+vt]=pt[vt];Dn(W,rt,ht,D,wt,D,T)}else Dn(W,rt,ht,ft,ot,D,T)}T=b,D=m}D!=m&&i(b,m,T,D,C)}function ii(o,c){var m=o.V,b=o.Ba+o.c*o.C,S=c-o.C;if(t(c<=o.l.o),t(16>=S),0<S){var C=o.l,E=o.Ta,T=o.Ua,D=C.width;if(bn(o,S,m,b),S=T=[T],t((m=o.C)<(b=c)),t(C.v<C.va),b>C.o&&(b=C.o),m<C.j){var W=C.j-m;m=C.j,S[0]+=W*D}if(m>=b?m=0:(S[0]+=4*C.v,C.ka=m-C.j,C.U=C.va-C.v,C.T=b-m,m=1),m){if(T=T[0],11>(m=o.ca).S){var rt=m.f.RGBA,ht=(b=m.S,S=C.U,C=C.T,W=rt.eb,rt.A),ft=C;for(rt=rt.fb+o.Ma*rt.A;0<ft--;){var ot=E,wt=T,pt=S,it=W,at=rt;switch(b){case Xa:Rn(ot,wt,pt,it,at);break;case Ja:Fr(ot,wt,pt,it,at);break;case ls:Fr(ot,wt,pt,it,at),Er(it,at,0,pt,1,0);break;case uc:Ni(ot,wt,pt,it,at);break;case Ka:be(ot,wt,pt,it,at,1);break;case hs:be(ot,wt,pt,it,at,1),Er(it,at,0,pt,1,0);break;case $a:be(ot,wt,pt,it,at,0);break;case Qa:be(ot,wt,pt,it,at,0),Er(it,at,1,pt,1,0);break;case us:nr(ot,wt,pt,it,at);break;case fs:nr(ot,wt,pt,it,at),Pi(it,at,pt,1,0);break;case lc:gr(ot,wt,pt,it,at);break;default:t(0)}T+=D,rt+=ht}o.Ma+=C}else alert("todo:EmitRescaledRowsYUVA");t(o.Ma<=m.height)}}o.C=c,t(o.C<=o.i)}function hr(o){var c;if(0<o.ua)return 0;for(c=0;c<o.Wb;++c){var m=o.Ya[c].G,b=o.Ya[c].H;if(0<m[1][b[1]+0].g||0<m[2][b[2]+0].g||0<m[3][b[3]+0].g)return 0}return 1}function En(o,c,m,b,S,C){if(o.Z!=0){var E=o.qd,T=o.rd;for(t(jr[o.Z]!=null);c<m;++c)jr[o.Z](E,T,b,S,b,S,C),E=b,T=S,S+=C;o.qd=E,o.rd=T}}function On(o,c){var m=o.l.ma,b=m.Z==0||m.Z==1?o.l.j:o.C;if(b=o.C<b?b:o.C,t(c<=o.l.o),c>b){var S=o.l.width,C=m.ca,E=m.tb+S*b,T=o.V,D=o.Ba+o.c*b,W=o.gc;t(o.ab==1),t(W[0].hc==3),os(W[0],b,c,T,D,C,E),En(m,b,c,C,E,S)}o.C=o.Ma=c}function jn(o,c,m,b,S,C,E){var T=o.$/b,D=o.$%b,W=o.m,rt=o.s,ht=m+o.$,ft=ht;S=m+b*S;var ot=m+b*C,wt=280+rt.ua,pt=o.Pb?T:16777216,it=0<rt.ua?rt.Wa:null,at=rt.wc,vt=ht<ot?De(rt,D,T):null;t(o.C<C),t(ot<=S);var Lt=!1;t:for(;;){for(;Lt||ht<ot;){var bt=0;if(T>=pt){var Bt=ht-m;t((pt=o).Pb),pt.wd=pt.m,pt.xd=Bt,0<pt.s.ua&&dt(pt.s.Wa,pt.s.vb),pt=T+n1}if(D&at||(vt=De(rt,D,T)),t(vt!=null),vt.Qb&&(c[ht]=vt.qb,Lt=!0),!Lt)if(et(W),vt.jc){bt=W,Bt=c;var Ct=ht,Vt=vt.pd[q(bt)&hn-1];t(vt.jc),256>Vt.g?(U(bt,bt.u+Vt.g),Bt[Ct]=Vt.value,bt=0):(U(bt,bt.u+Vt.g-256),t(256<=Vt.value),bt=Vt.value),bt==0&&(Lt=!0)}else bt=un(vt.G[0],vt.H[0],W);if(W.h)break;if(Lt||256>bt){if(!Lt)if(vt.nd)c[ht]=(vt.qb|bt<<8)>>>0;else{if(et(W),Lt=un(vt.G[1],vt.H[1],W),et(W),Bt=un(vt.G[2],vt.H[2],W),Ct=un(vt.G[3],vt.H[3],W),W.h)break;c[ht]=(Ct<<24|Lt<<16|bt<<8|Bt)>>>0}if(Lt=!1,++ht,++D>=b&&(D=0,++T,E!=null&&T<=C&&!(T%16)&&E(o,T),it!=null))for(;ft<ht;)bt=c[ft++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt}else if(280>bt){if(bt=Cn(bt-256,W),Bt=un(vt.G[4],vt.H[4],W),et(W),Bt=Qn(b,Bt=Cn(Bt,W)),W.h)break;if(ht-m<Bt||S-ht<bt)break t;for(Ct=0;Ct<bt;++Ct)c[ht+Ct]=c[ht+Ct-Bt];for(ht+=bt,D+=bt;D>=b;)D-=b,++T,E!=null&&T<=C&&!(T%16)&&E(o,T);if(t(ht<=S),D&at&&(vt=De(rt,D,T)),it!=null)for(;ft<ht;)bt=c[ft++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt}else{if(!(bt<wt))break t;for(Lt=bt-280,t(it!=null);ft<ht;)bt=c[ft++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt;bt=ht,t(!(Lt>>>(Bt=it).Xa)),c[bt]=Bt.X[Lt],Lt=!0}Lt||t(W.h==R(W))}if(o.Pb&&W.h&&ht<S)t(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&dt(o.s.vb,o.s.Wa);else{if(W.h)break t;E!=null&&E(o,T>C?C:T),o.a=0,o.$=ht-m}return 1}return o.a=3,0}function Zn(o){t(o!=null),o.vc=null,o.yc=null,o.Ya=null;var c=o.Wa;c!=null&&(c.X=null),o.vb=null,t(o!=null)}function _n(){var o=new is;return o==null?null:(o.a=0,o.xb=dc,Nn("Predictor","VP8LPredictors"),Nn("Predictor","VP8LPredictors_C"),Nn("PredictorAdd","VP8LPredictorsAdd"),Nn("PredictorAdd","VP8LPredictorsAdd_C"),Va=ie,Sn=zt,Rn=kt,Fr=de,nr=ee,gr=Fe,Ni=se,A.VP8LMapColor32b=ua,A.VP8LMapColor8b=ss,o)}function tr(o,c,m,b,S){var C=1,E=[o],T=[c],D=b.m,W=b.s,rt=null,ht=0;t:for(;;){if(m)for(;C&&tt(D,1);){var ft=E,ot=T,wt=b,pt=1,it=wt.m,at=wt.gc[wt.ab],vt=tt(it,2);if(wt.Oc&1<<vt)C=0;else{switch(wt.Oc|=1<<vt,at.hc=vt,at.Ea=ft[0],at.nc=ot[0],at.K=[null],++wt.ab,t(4>=wt.ab),vt){case 0:case 1:at.b=tt(it,3)+2,pt=tr(Ft(at.Ea,at.b),Ft(at.nc,at.b),0,wt,at.K),at.K=at.K[0];break;case 3:var Lt,bt=tt(it,8)+1,Bt=16<bt?0:4<bt?1:2<bt?2:3;if(ft[0]=Ft(at.Ea,Bt),at.b=Bt,Lt=pt=tr(bt,1,0,wt,at.K)){var Ct,Vt=bt,jt=at,fe=1<<(8>>jt.b),pe=r(fe);if(pe==null)Lt=0;else{var le=jt.K[0],oe=jt.w;for(pe[0]=jt.K[0][0],Ct=1;Ct<1*Vt;++Ct)pe[Ct]=xt(le[oe+Ct],pe[Ct-1]);for(;Ct<4*fe;++Ct)pe[Ct]=0;jt.K[0]=null,jt.K[0]=pe,Lt=1}}pt=Lt;break;case 2:break;default:t(0)}C=pt}}if(E=E[0],T=T[0],C&&tt(D,1)&&!(C=1<=(ht=tt(D,4))&&11>=ht)){b.a=3;break t}var Ae;if(Ae=C)e:{var ye,ne,qe,dn=b,Ue=E,pn=T,ge=ht,An=m,xn=dn.m,Ye=dn.s,Ke=[null],on=1,kn=0,rr=e1[ge];n:for(;;){if(An&&tt(xn,1)){var Xe=tt(xn,3)+2,yr=Ft(Ue,Xe),Qr=Ft(pn,Xe),Ii=yr*Qr;if(!tr(yr,Qr,0,dn,Ke))break n;for(Ke=Ke[0],Ye.xc=Xe,ye=0;ye<Ii;++ye){var Mr=Ke[ye]>>8&65535;Ke[ye]=Mr,Mr>=on&&(on=Mr+1)}}if(xn.h)break n;for(ne=0;5>ne;++ne){var Ce=hc[ne];!ne&&0<ge&&(Ce+=1<<ge),kn<Ce&&(kn=Ce)}var ms=s(on*rr,x),xc=on,Lc=s(xc,F);if(Lc==null)var no=null;else t(65536>=xc),no=Lc;var pa=r(kn);if(no==null||pa==null||ms==null){dn.a=1;break n}var ro=ms;for(ye=qe=0;ye<on;++ye){var Hn=no[ye],Fi=Hn.G,ki=Hn.H,Nc=0,io=1,_c=0;for(ne=0;5>ne;++ne){Ce=hc[ne],Fi[ne]=ro,ki[ne]=qe,!ne&&0<ge&&(Ce+=1<<ge);i:{var ao,vs=Ce,oo=dn,ga=pa,x1=ro,L1=qe,bs=0,Tr=oo.m,N1=tt(Tr,1);if(n(ga,0,0,vs),N1){var _1=tt(Tr,1)+1,S1=tt(Tr,1),Sc=tt(Tr,S1==0?1:8);ga[Sc]=1,_1==2&&(ga[Sc=tt(Tr,8)]=1);var so=1}else{var Pc=r(19),Ic=tt(Tr,4)+4;if(19<Ic){oo.a=3;var co=0;break i}for(ao=0;ao<Ic;++ao)Pc[Zu[ao]]=tt(Tr,3);var ws=void 0,ma=void 0,Fc=oo,P1=Pc,uo=vs,kc=ga,ys=0,Br=Fc.m,Cc=8,Ec=s(128,x);r:for(;L(Ec,0,7,P1,19);){if(tt(Br,1)){var I1=2+2*tt(Br,3);if((ws=2+tt(Br,I1))>uo)break r}else ws=uo;for(ma=0;ma<uo&&ws--;){et(Br);var Oc=Ec[0+(127&q(Br))];U(Br,Br.u+Oc.g);var Ci=Oc.value;if(16>Ci)kc[ma++]=Ci,Ci!=0&&(Cc=Ci);else{var F1=Ci==16,jc=Ci-16,k1=$u[jc],Mc=tt(Br,Ku[jc])+k1;if(ma+Mc>uo)break r;for(var C1=F1?Cc:0;0<Mc--;)kc[ma++]=C1}}ys=1;break r}ys||(Fc.a=3),so=ys}(so=so&&!Tr.h)&&(bs=L(x1,L1,8,ga,vs)),so&&bs!=0?co=bs:(oo.a=3,co=0)}if(co==0)break n;if(io&&Qu[ne]==1&&(io=ro[qe].g==0),Nc+=ro[qe].g,qe+=co,3>=ne){var va,As=pa[0];for(va=1;va<Ce;++va)pa[va]>As&&(As=pa[va]);_c+=As}}if(Hn.nd=io,Hn.Qb=0,io&&(Hn.qb=(Fi[3][ki[3]+0].value<<24|Fi[1][ki[1]+0].value<<16|Fi[2][ki[2]+0].value)>>>0,Nc==0&&256>Fi[0][ki[0]+0].value&&(Hn.Qb=1,Hn.qb+=Fi[0][ki[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>_c,Hn.jc){var lo,Ar=Hn;for(lo=0;lo<hn;++lo){var Dr=lo,Rr=Ar.pd[Dr],ho=Ar.G[0][Ar.H[0]+Dr];256<=ho.value?(Rr.g=ho.g+256,Rr.value=ho.value):(Rr.g=0,Rr.value=0,Dr>>=ze(ho,8,Rr),Dr>>=ze(Ar.G[1][Ar.H[1]+Dr],16,Rr),Dr>>=ze(Ar.G[2][Ar.H[2]+Dr],0,Rr),ze(Ar.G[3][Ar.H[3]+Dr],24,Rr))}}}Ye.vc=Ke,Ye.Wb=on,Ye.Ya=no,Ye.yc=ms,Ae=1;break e}Ae=0}if(!(C=Ae)){b.a=3;break t}if(0<ht){if(W.ua=1<<ht,!qt(W.Wa,ht)){b.a=1,C=0;break t}}else W.ua=0;var xs=b,Tc=E,E1=T,Ls=xs.s,Ns=Ls.xc;if(xs.c=Tc,xs.i=E1,Ls.md=Ft(Tc,Ns),Ls.wc=Ns==0?-1:(1<<Ns)-1,m){b.xb=u1;break t}if((rt=r(E*T))==null){b.a=1,C=0;break t}C=(C=jn(b,rt,0,E,T,T,null))&&!D.h;break t}return C?(S!=null?S[0]=rt:(t(rt==null),t(m)),b.$=0,m||Zn(W)):Zn(W),C}function Vr(o,c){var m=o.c*o.i,b=m+c+16*c;return t(o.c<=c),o.V=r(b),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+m+c,1)}function ai(o,c){var m=o.C,b=c-m,S=o.V,C=o.Ba+o.c*m;for(t(c<=o.l.o);0<b;){var E=16<b?16:b,T=o.l.ma,D=o.l.width,W=D*E,rt=T.ca,ht=T.tb+D*m,ft=o.Ta,ot=o.Ua;bn(o,E,S,C),rc(ft,ot,rt,ht,W),En(T,m,m+E,rt,ht,D),b-=E,S+=E*o.c,m+=E}t(m==c),o.C=o.Ma=c}function oi(){this.ub=this.yd=this.td=this.Rb=0}function si(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ci(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function _a(){this.Yb=function(){var o=[];return function c(m,b,S){for(var C=S[b],E=0;E<C&&(m.push(S.length>b+1?[]:0),!(S.length<b+1));E++)c(m[E],b+1,S)}(o,0,[3,11]),o}()}function Mo(){this.jb=r(3),this.Wc=u([4,8],_a),this.Xc=u([4,17],_a)}function To(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function ui(){this.ld=this.La=this.dd=this.tc=0}function Sa(){this.Na=this.la=0}function Bo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hi(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Do(){this.uc=this.M=this.Nb=0,this.wa=Array(new ui),this.Y=0,this.ya=Array(new Hi),this.aa=0,this.l=new li}function Pa(){this.y=r(16),this.f=r(8),this.ea=r(8)}function Ro(){this.cb=this.a=0,this.sc="",this.m=new mt,this.Od=new oi,this.Kc=new si,this.ed=new To,this.Qa=new ci,this.Ic=this.$c=this.Aa=0,this.D=new Do,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,mt),this.ia=0,this.pb=s(4,Bo),this.Pa=new Mo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pa),this.Hd=0,this.rb=Array(new Sa),this.sb=0,this.wa=Array(new ui),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hi),this.L=this.aa=0,this.gd=u([4,2],ui),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function li(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qo(){var o=new Ro;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,fa||(fa=ka)),o}function Oe(o,c,m){return o.a==0&&(o.a=c,o.sc=m,o.cb=0),0}function Ia(o,c,m){return 3<=m&&o[c+0]==157&&o[c+1]==1&&o[c+2]==42}function Fa(o,c){if(o==null)return 0;if(o.a=0,o.sc="OK",c==null)return Oe(o,2,"null VP8Io passed to VP8GetHeaders()");var m=c.data,b=c.w,S=c.ha;if(4>S)return Oe(o,7,"Truncated header.");var C=m[b+0]|m[b+1]<<8|m[b+2]<<16,E=o.Od;if(E.Rb=!(1&C),E.td=C>>1&7,E.yd=C>>4&1,E.ub=C>>5,3<E.td)return Oe(o,3,"Incorrect keyframe parameters.");if(!E.yd)return Oe(o,4,"Frame not displayable.");b+=3,S-=3;var T=o.Kc;if(E.Rb){if(7>S)return Oe(o,7,"cannot parse picture header");if(!Ia(m,b,S))return Oe(o,3,"Bad code word");T.c=16383&(m[b+4]<<8|m[b+3]),T.Td=m[b+4]>>6,T.i=16383&(m[b+6]<<8|m[b+5]),T.Ud=m[b+6]>>6,b+=7,S-=7,o.za=T.c+15>>4,o.Ub=T.i+15>>4,c.width=T.c,c.height=T.i,c.Da=0,c.j=0,c.v=0,c.va=c.width,c.o=c.height,c.da=0,c.ib=c.width,c.hb=c.height,c.U=c.width,c.T=c.height,n((C=o.Pa).jb,0,255,C.jb.length),t((C=o.Qa)!=null),C.Cb=0,C.Bb=0,C.Fb=1,n(C.Zb,0,0,C.Zb.length),n(C.Lb,0,0,C.Lb)}if(E.ub>S)return Oe(o,7,"bad partition length");G(C=o.m,m,b,E.ub),b+=E.ub,S-=E.ub,E.Rb&&(T.Ld=ct(C),T.Kd=ct(C)),T=o.Qa;var D,W=o.Pa;if(t(C!=null),t(T!=null),T.Cb=ct(C),T.Cb){if(T.Bb=ct(C),ct(C)){for(T.Fb=ct(C),D=0;4>D;++D)T.Zb[D]=ct(C)?I(C,7):0;for(D=0;4>D;++D)T.Lb[D]=ct(C)?I(C,6):0}if(T.Bb)for(D=0;3>D;++D)W.jb[D]=ct(C)?k(C,8):255}else T.Bb=0;if(C.Ka)return Oe(o,3,"cannot parse segment header");if((T=o.ed).zd=ct(C),T.Tb=k(C,6),T.wb=k(C,3),T.Pc=ct(C),T.Pc&&ct(C)){for(W=0;4>W;++W)ct(C)&&(T.vd[W]=I(C,6));for(W=0;4>W;++W)ct(C)&&(T.od[W]=I(C,6))}if(o.L=T.Tb==0?0:T.zd?1:2,C.Ka)return Oe(o,3,"cannot parse filter header");var rt=S;if(S=D=b,b=D+rt,T=rt,o.Xb=(1<<k(o.m,2))-1,rt<3*(W=o.Xb))m=7;else{for(D+=3*W,T-=3*W,rt=0;rt<W;++rt){var ht=m[S+0]|m[S+1]<<8|m[S+2]<<16;ht>T&&(ht=T),G(o.Jc[+rt],m,D,ht),D+=ht,T-=ht,S+=3}G(o.Jc[+W],m,D,T),m=D<b?0:5}if(m!=0)return Oe(o,m,"cannot parse partitions");for(m=k(D=o.m,7),S=ct(D)?I(D,4):0,b=ct(D)?I(D,4):0,T=ct(D)?I(D,4):0,W=ct(D)?I(D,4):0,D=ct(D)?I(D,4):0,rt=o.Qa,ht=0;4>ht;++ht){if(rt.Cb){var ft=rt.Zb[ht];rt.Fb||(ft+=m)}else{if(0<ht){o.pb[ht]=o.pb[0];continue}ft=m}var ot=o.pb[ht];ot.Sc[0]=ds[wn(ft+S,127)],ot.Sc[1]=ps[wn(ft+0,127)],ot.Eb[0]=2*ds[wn(ft+b,127)],ot.Eb[1]=101581*ps[wn(ft+T,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=ds[wn(ft+W,117)],ot.Qc[1]=ps[wn(ft+D,127)],ot.lc=ft+D}if(!E.Rb)return Oe(o,4,"Not a key frame.");for(ct(C),E=o.Pa,m=0;4>m;++m){for(S=0;8>S;++S)for(b=0;3>b;++b)for(T=0;11>T;++T)W=ut(C,s1[m][S][b][T])?k(C,8):a1[m][S][b][T],E.Wc[m][S].Yb[b][T]=W;for(S=0;17>S;++S)E.Xc[m][S]=E.Wc[m][c1[S]]}return o.kc=ct(C),o.kc&&(o.Bd=k(C,8)),o.cb=1}function ka(o,c,m,b,S,C,E){var T=c[S].Yb[m];for(m=0;16>S;++S){if(!ut(o,T[m+0]))return S;for(;!ut(o,T[m+1]);)if(T=c[++S].Yb[0],m=0,S==16)return 16;var D=c[S+1].Yb;if(ut(o,T[m+2])){var W=o,rt=0;if(ut(W,(ft=T)[(ht=m)+3]))if(ut(W,ft[ht+6])){for(T=0,ht=2*(rt=ut(W,ft[ht+8]))+(ft=ut(W,ft[ht+9+rt])),rt=0,ft=r1[ht];ft[T];++T)rt+=rt+ut(W,ft[T]);rt+=3+(8<<ht)}else ut(W,ft[ht+7])?(rt=7+2*ut(W,165),rt+=ut(W,145)):rt=5+ut(W,159);else rt=ut(W,ft[ht+4])?3+ut(W,ft[ht+5]):2;T=D[2]}else rt=1,T=D[1];D=E+i1[S],0>(W=o).b&&st(W);var ht,ft=W.b,ot=(ht=W.Ca>>1)-(W.I>>ft)>>31;--W.b,W.Ca+=ot,W.Ca|=1,W.I-=(ht+1&ot)<<ft,C[D]=((rt^ot)-ot)*b[(0<S)+0]}return 16}function Wi(o){var c=o.rb[o.sb-1];c.la=0,c.Na=0,n(o.zc,0,0,o.zc.length),o.ja=0}function Uo(o,c){if(o==null)return 0;if(c==null)return Oe(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!Fa(o,c))return 0;if(t(o.cb),c.ac==null||c.ac(c)){c.ob&&(o.L=0);var m=eo[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=c.v-m>>4,o.zb=c.j-m>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=c.o+15+m>>4,o.Hb=c.va+15+m>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var b=o.ed;for(m=0;4>m;++m){var S;if(o.Qa.Cb){var C=o.Qa.Lb[m];o.Qa.Fb||(C+=b.Tb)}else C=b.Tb;for(S=0;1>=S;++S){var E=o.gd[m][S],T=C;if(b.Pc&&(T+=b.vd[0],S&&(T+=b.od[0])),0<(T=0>T?0:63<T?63:T)){var D=T;0<b.wb&&(D=4<b.wb?D>>2:D>>1)>9-b.wb&&(D=9-b.wb),1>D&&(D=1),E.dd=D,E.tc=2*T+D,E.ld=40<=T?2:15<=T?1:0}else E.tc=0;E.La=S}}}m=0}else Oe(o,6,"Frame setup failed"),m=o.a;if(m=m==0){if(m){o.$c=0,0<o.Aa||(o.Ic=A1);t:{m=o.Ic,b=4*(D=o.za);var W=32*D,rt=D+1,ht=0<o.L?D*(0<o.Aa?2:1):0,ft=(o.Aa==2?2:1)*D;if((E=b+832+(S=3*(16*m+eo[o.L])/2*W)+(C=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=E)m=0;else{if(E>o.Vb){if(o.Vb=0,o.Ec=r(E),o.Fc=0,o.Ec==null){m=Oe(o,1,"no memory during frame initialization.");break t}o.Vb=E}E=o.Ec,T=o.Fc,o.Ac=E,o.Bc=T,T+=b,o.Gd=s(W,Pa),o.Hd=0,o.rb=s(rt+1,Sa),o.sb=1,o.wa=ht?s(ht,ui):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=D),t(!0),o.oc=E,o.pc=T,T+=832,o.ya=s(ft,Hi),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=D),o.R=16*D,o.B=8*D,D=(W=eo[o.L])*o.R,W=W/2*o.B,o.sa=E,o.ta=T+D,o.qa=o.sa,o.ra=o.ta+16*m*o.R+W,o.Ha=o.qa,o.Ia=o.ra+8*m*o.B+W,o.$c=0,T+=S,o.mb=C?E:null,o.nb=C?T:null,t(T+C<=o.Fc+o.Vb),Wi(o),n(o.Ac,o.Bc,0,b),m=1}}if(m){if(c.ka=0,c.y=o.sa,c.O=o.ta,c.f=o.qa,c.N=o.ra,c.ea=o.Ha,c.Vd=o.Ia,c.fa=o.R,c.Rc=o.B,c.F=null,c.J=0,!cc){for(m=-255;255>=m;++m)ic[255+m]=0>m?-m:m;for(m=-1020;1020>=m;++m)ac[1020+m]=-128>m?-128:127<m?127:m;for(m=-112;112>=m;++m)oc[112+m]=-16>m?-16:15<m?15:m;for(m=-255;510>=m;++m)sc[255+m]=0>m?0:255<m?255:m;cc=1}qn=Wo,_i=zo,kr=Ea,Un=Ho,mr=Oa,la=Ca,Kr=Ki,Si=Xr,$r=rs,Cr=$i,ha=ns,Pn=mi,vr=Qi,Le=za,Ne=Ua,je=dr,He=_r,br=es,zn[0]=er,zn[1]=Vo,zn[2]=Jo,zn[3]=Ko,zn[4]=Ta,zn[5]=pi,zn[6]=Ba,zn[7]=Yi,zn[8]=Qo,zn[9]=$o,Or[0]=ja,Or[1]=Yo,Or[2]=fr,Or[3]=fi,Or[4]=Ze,Or[5]=Xo,Or[6]=Ma,wr[0]=Nr,wr[1]=Go,wr[2]=Zo,wr[3]=Xi,wr[4]=Yr,wr[5]=ts,wr[6]=Ji,m=1}else m=0}m&&(m=function(ot,wt){for(ot.M=0;ot.M<ot.Va;++ot.M){var pt,it=ot.Jc[ot.M&ot.Xb],at=ot.m,vt=ot;for(pt=0;pt<vt.za;++pt){var Lt=at,bt=vt,Bt=bt.Ac,Ct=bt.Bc+4*pt,Vt=bt.zc,jt=bt.ya[bt.aa+pt];if(bt.Qa.Bb?jt.$b=ut(Lt,bt.Pa.jb[0])?2+ut(Lt,bt.Pa.jb[2]):ut(Lt,bt.Pa.jb[1]):jt.$b=0,bt.kc&&(jt.Ad=ut(Lt,bt.Bd)),jt.Za=!ut(Lt,145)+0,jt.Za){var fe=jt.Ob,pe=0;for(bt=0;4>bt;++bt){var le,oe=Vt[0+bt];for(le=0;4>le;++le){oe=o1[Bt[Ct+le]][oe];for(var Ae=fc[ut(Lt,oe[0])];0<Ae;)Ae=fc[2*Ae+ut(Lt,oe[Ae])];oe=-Ae,Bt[Ct+le]=oe}i(fe,pe,Bt,Ct,4),pe+=4,Vt[0+bt]=oe}}else oe=ut(Lt,156)?ut(Lt,128)?1:3:ut(Lt,163)?2:0,jt.Ob[0]=oe,n(Bt,Ct,oe,4),n(Vt,0,oe,4);jt.Dd=ut(Lt,142)?ut(Lt,114)?ut(Lt,183)?1:3:2:0}if(vt.m.Ka)return Oe(ot,7,"Premature end-of-partition0 encountered.");for(;ot.ja<ot.za;++ot.ja){if(vt=it,Lt=(at=ot).rb[at.sb-1],Bt=at.rb[at.sb+at.ja],pt=at.ya[at.aa+at.ja],Ct=at.kc?pt.Ad:0)Lt.la=Bt.la=0,pt.Za||(Lt.Na=Bt.Na=0),pt.Hc=0,pt.Gc=0,pt.ia=0;else{var ye,ne;if(Lt=Bt,Bt=vt,Ct=at.Pa.Xc,Vt=at.ya[at.aa+at.ja],jt=at.pb[Vt.$b],bt=Vt.ad,fe=0,pe=at.rb[at.sb-1],oe=le=0,n(bt,fe,0,384),Vt.Za)var qe=0,dn=Ct[3];else{Ae=r(16);var Ue=Lt.Na+pe.Na;if(Ue=fa(Bt,Ct[1],Ue,jt.Eb,0,Ae,0),Lt.Na=pe.Na=(0<Ue)+0,1<Ue)qn(Ae,0,bt,fe);else{var pn=Ae[0]+3>>3;for(Ae=0;256>Ae;Ae+=16)bt[fe+Ae]=pn}qe=1,dn=Ct[0]}var ge=15&Lt.la,An=15&pe.la;for(Ae=0;4>Ae;++Ae){var xn=1&An;for(pn=ne=0;4>pn;++pn)ge=ge>>1|(xn=(Ue=fa(Bt,dn,Ue=xn+(1&ge),jt.Sc,qe,bt,fe))>qe)<<7,ne=ne<<2|(3<Ue?3:1<Ue?2:bt[fe+0]!=0),fe+=16;ge>>=4,An=An>>1|xn<<7,le=(le<<8|ne)>>>0}for(dn=ge,qe=An>>4,ye=0;4>ye;ye+=2){for(ne=0,ge=Lt.la>>4+ye,An=pe.la>>4+ye,Ae=0;2>Ae;++Ae){for(xn=1&An,pn=0;2>pn;++pn)Ue=xn+(1&ge),ge=ge>>1|(xn=0<(Ue=fa(Bt,Ct[2],Ue,jt.Qc,0,bt,fe)))<<3,ne=ne<<2|(3<Ue?3:1<Ue?2:bt[fe+0]!=0),fe+=16;ge>>=2,An=An>>1|xn<<5}oe|=ne<<4*ye,dn|=ge<<4<<ye,qe|=(240&An)<<ye}Lt.la=dn,pe.la=qe,Vt.Hc=le,Vt.Gc=oe,Vt.ia=43690&oe?0:jt.ia,Ct=!(le|oe)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[pt.$b][pt.Za],at.wa[at.Y+at.ja].La|=!Ct),vt.Ka)return Oe(ot,7,"Premature end-of-file encountered.")}if(Wi(ot),at=wt,vt=1,pt=(it=ot).D,Lt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if(pt.M=it.M,pt.uc=Lt,ia(it,pt),vt=1,pt=(ne=it.D).Nb,Lt=(oe=eo[it.L])*it.R,Bt=oe/2*it.B,Ae=16*pt*it.R,pn=8*pt*it.B,Ct=it.sa,Vt=it.ta-Lt+Ae,jt=it.qa,bt=it.ra-Bt+pn,fe=it.Ha,pe=it.Ia-Bt+pn,An=(ge=ne.M)==0,le=ge>=it.Va-1,it.Aa==2&&ia(it,ne),ne.uc)for(xn=(Ue=it).D.M,t(Ue.D.uc),ne=Ue.yb;ne<Ue.Hb;++ne){qe=ne,dn=xn;var Ye=(Ke=(Ce=Ue).D).Nb;ye=Ce.R;var Ke=Ke.wa[Ke.Y+qe],on=Ce.sa,kn=Ce.ta+16*Ye*ye+16*qe,rr=Ke.dd,Xe=Ke.tc;if(Xe!=0)if(t(3<=Xe),Ce.L==1)0<qe&&je(on,kn,ye,Xe+4),Ke.La&&br(on,kn,ye,Xe),0<dn&&Ne(on,kn,ye,Xe+4),Ke.La&&He(on,kn,ye,Xe);else{var yr=Ce.B,Qr=Ce.qa,Ii=Ce.ra+8*Ye*yr+8*qe,Mr=Ce.Ha,Ce=Ce.Ia+8*Ye*yr+8*qe;Ye=Ke.ld,0<qe&&(Si(on,kn,ye,Xe+4,rr,Ye),Cr(Qr,Ii,Mr,Ce,yr,Xe+4,rr,Ye)),Ke.La&&(Pn(on,kn,ye,Xe,rr,Ye),Le(Qr,Ii,Mr,Ce,yr,Xe,rr,Ye)),0<dn&&(Kr(on,kn,ye,Xe+4,rr,Ye),$r(Qr,Ii,Mr,Ce,yr,Xe+4,rr,Ye)),Ke.La&&(ha(on,kn,ye,Xe,rr,Ye),vr(Qr,Ii,Mr,Ce,yr,Xe,rr,Ye))}}if(it.ia&&alert("todo:DitherRow"),at.put!=null){if(ne=16*ge,ge=16*(ge+1),An?(at.y=it.sa,at.O=it.ta+Ae,at.f=it.qa,at.N=it.ra+pn,at.ea=it.Ha,at.W=it.Ia+pn):(ne-=oe,at.y=Ct,at.O=Vt,at.f=jt,at.N=bt,at.ea=fe,at.W=pe),le||(ge-=oe),ge>at.o&&(ge=at.o),at.F=null,at.J=null,it.Fa!=null&&0<it.Fa.length&&ne<ge&&(at.J=na(it,at,ne,ge-ne),at.F=it.mb,at.F==null&&at.F.length==0)){vt=Oe(it,3,"Could not decode alpha data.");break t}ne<at.j&&(oe=at.j-ne,ne=at.j,t(!(1&oe)),at.O+=it.R*oe,at.N+=it.B*(oe>>1),at.W+=it.B*(oe>>1),at.F!=null&&(at.J+=at.width*oe)),ne<ge&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=ne-at.j,at.U=at.va-at.v,at.T=ge-ne,vt=at.put(at))}pt+1!=it.Ic||le||(i(it.sa,it.ta-Lt,Ct,Vt+16*it.R,Lt),i(it.qa,it.ra-Bt,jt,bt+8*it.B,Bt),i(it.Ha,it.Ia-Bt,fe,pe+8*it.B,Bt))}if(!vt)return Oe(ot,6,"Output aborted.")}return 1}(o,c)),c.bc!=null&&c.bc(c),m&=1}return m?(o.cb=0,m):0}function Mn(o,c,m,b,S){S=o[c+m+32*b]+(S>>3),o[c+m+32*b]=-256&S?0>S?0:255:S}function hi(o,c,m,b,S,C){Mn(o,c,0,m,b+S),Mn(o,c,1,m,b+C),Mn(o,c,2,m,b-C),Mn(o,c,3,m,b-S)}function ln(o){return(20091*o>>16)+o}function Vi(o,c,m,b){var S,C=0,E=r(16);for(S=0;4>S;++S){var T=o[c+0]+o[c+8],D=o[c+0]-o[c+8],W=(35468*o[c+4]>>16)-ln(o[c+12]),rt=ln(o[c+4])+(35468*o[c+12]>>16);E[C+0]=T+rt,E[C+1]=D+W,E[C+2]=D-W,E[C+3]=T-rt,C+=4,c++}for(S=C=0;4>S;++S)T=(o=E[C+0]+4)+E[C+8],D=o-E[C+8],W=(35468*E[C+4]>>16)-ln(E[C+12]),Mn(m,b,0,0,T+(rt=ln(E[C+4])+(35468*E[C+12]>>16))),Mn(m,b,1,0,D+W),Mn(m,b,2,0,D-W),Mn(m,b,3,0,T-rt),C++,b+=32}function Ca(o,c,m,b){var S=o[c+0]+4,C=35468*o[c+4]>>16,E=ln(o[c+4]),T=35468*o[c+1]>>16;hi(m,b,0,S+E,o=ln(o[c+1]),T),hi(m,b,1,S+C,o,T),hi(m,b,2,S-C,o,T),hi(m,b,3,S-E,o,T)}function zo(o,c,m,b,S){Vi(o,c,m,b),S&&Vi(o,c+16,m,b+4)}function Ea(o,c,m,b){_i(o,c+0,m,b,1),_i(o,c+32,m,b+128,1)}function Ho(o,c,m,b){var S;for(o=o[c+0]+4,S=0;4>S;++S)for(c=0;4>c;++c)Mn(m,b,c,S,o)}function Oa(o,c,m,b){o[c+0]&&Un(o,c+0,m,b),o[c+16]&&Un(o,c+16,m,b+4),o[c+32]&&Un(o,c+32,m,b+128),o[c+48]&&Un(o,c+48,m,b+128+4)}function Wo(o,c,m,b){var S,C=r(16);for(S=0;4>S;++S){var E=o[c+0+S]+o[c+12+S],T=o[c+4+S]+o[c+8+S],D=o[c+4+S]-o[c+8+S],W=o[c+0+S]-o[c+12+S];C[0+S]=E+T,C[8+S]=E-T,C[4+S]=W+D,C[12+S]=W-D}for(S=0;4>S;++S)E=(o=C[0+4*S]+3)+C[3+4*S],T=C[1+4*S]+C[2+4*S],D=C[1+4*S]-C[2+4*S],W=o-C[3+4*S],m[b+0]=E+T>>3,m[b+16]=W+D>>3,m[b+32]=E-T>>3,m[b+48]=W-D>>3,b+=64}function Gi(o,c,m){var b,S=c-32,C=yn,E=255-o[S-1];for(b=0;b<m;++b){var T,D=C,W=E+o[c-1];for(T=0;T<m;++T)o[c+T]=D[W+o[S+T]];c+=32}}function Vo(o,c){Gi(o,c,4)}function Go(o,c){Gi(o,c,8)}function Yo(o,c){Gi(o,c,16)}function fr(o,c){var m;for(m=0;16>m;++m)i(o,c+32*m,o,c-32,16)}function fi(o,c){var m;for(m=16;0<m;--m)n(o,c,o[c-1],16),c+=32}function di(o,c,m){var b;for(b=0;16>b;++b)n(c,m+32*b,o,16)}function ja(o,c){var m,b=16;for(m=0;16>m;++m)b+=o[c-1+32*m]+o[c+m-32];di(b>>5,o,c)}function Ze(o,c){var m,b=8;for(m=0;16>m;++m)b+=o[c-1+32*m];di(b>>4,o,c)}function Xo(o,c){var m,b=8;for(m=0;16>m;++m)b+=o[c+m-32];di(b>>4,o,c)}function Ma(o,c){di(128,o,c)}function Qt(o,c,m){return o+2*c+m+2>>2}function Jo(o,c){var m,b=c-32;for(b=new Uint8Array([Qt(o[b-1],o[b+0],o[b+1]),Qt(o[b+0],o[b+1],o[b+2]),Qt(o[b+1],o[b+2],o[b+3]),Qt(o[b+2],o[b+3],o[b+4])]),m=0;4>m;++m)i(o,c+32*m,b,0,b.length)}function Ko(o,c){var m=o[c-1],b=o[c-1+32],S=o[c-1+64],C=o[c-1+96];yt(o,c+0,16843009*Qt(o[c-1-32],m,b)),yt(o,c+32,16843009*Qt(m,b,S)),yt(o,c+64,16843009*Qt(b,S,C)),yt(o,c+96,16843009*Qt(S,C,C))}function er(o,c){var m,b=4;for(m=0;4>m;++m)b+=o[c+m-32]+o[c-1+32*m];for(b>>=3,m=0;4>m;++m)n(o,c+32*m,b,4)}function Ta(o,c){var m=o[c-1+0],b=o[c-1+32],S=o[c-1+64],C=o[c-1-32],E=o[c+0-32],T=o[c+1-32],D=o[c+2-32],W=o[c+3-32];o[c+0+96]=Qt(b,S,o[c-1+96]),o[c+1+96]=o[c+0+64]=Qt(m,b,S),o[c+2+96]=o[c+1+64]=o[c+0+32]=Qt(C,m,b),o[c+3+96]=o[c+2+64]=o[c+1+32]=o[c+0+0]=Qt(E,C,m),o[c+3+64]=o[c+2+32]=o[c+1+0]=Qt(T,E,C),o[c+3+32]=o[c+2+0]=Qt(D,T,E),o[c+3+0]=Qt(W,D,T)}function Ba(o,c){var m=o[c+1-32],b=o[c+2-32],S=o[c+3-32],C=o[c+4-32],E=o[c+5-32],T=o[c+6-32],D=o[c+7-32];o[c+0+0]=Qt(o[c+0-32],m,b),o[c+1+0]=o[c+0+32]=Qt(m,b,S),o[c+2+0]=o[c+1+32]=o[c+0+64]=Qt(b,S,C),o[c+3+0]=o[c+2+32]=o[c+1+64]=o[c+0+96]=Qt(S,C,E),o[c+3+32]=o[c+2+64]=o[c+1+96]=Qt(C,E,T),o[c+3+64]=o[c+2+96]=Qt(E,T,D),o[c+3+96]=Qt(T,D,D)}function pi(o,c){var m=o[c-1+0],b=o[c-1+32],S=o[c-1+64],C=o[c-1-32],E=o[c+0-32],T=o[c+1-32],D=o[c+2-32],W=o[c+3-32];o[c+0+0]=o[c+1+64]=C+E+1>>1,o[c+1+0]=o[c+2+64]=E+T+1>>1,o[c+2+0]=o[c+3+64]=T+D+1>>1,o[c+3+0]=D+W+1>>1,o[c+0+96]=Qt(S,b,m),o[c+0+64]=Qt(b,m,C),o[c+0+32]=o[c+1+96]=Qt(m,C,E),o[c+1+32]=o[c+2+96]=Qt(C,E,T),o[c+2+32]=o[c+3+96]=Qt(E,T,D),o[c+3+32]=Qt(T,D,W)}function Yi(o,c){var m=o[c+0-32],b=o[c+1-32],S=o[c+2-32],C=o[c+3-32],E=o[c+4-32],T=o[c+5-32],D=o[c+6-32],W=o[c+7-32];o[c+0+0]=m+b+1>>1,o[c+1+0]=o[c+0+64]=b+S+1>>1,o[c+2+0]=o[c+1+64]=S+C+1>>1,o[c+3+0]=o[c+2+64]=C+E+1>>1,o[c+0+32]=Qt(m,b,S),o[c+1+32]=o[c+0+96]=Qt(b,S,C),o[c+2+32]=o[c+1+96]=Qt(S,C,E),o[c+3+32]=o[c+2+96]=Qt(C,E,T),o[c+3+64]=Qt(E,T,D),o[c+3+96]=Qt(T,D,W)}function $o(o,c){var m=o[c-1+0],b=o[c-1+32],S=o[c-1+64],C=o[c-1+96];o[c+0+0]=m+b+1>>1,o[c+2+0]=o[c+0+32]=b+S+1>>1,o[c+2+32]=o[c+0+64]=S+C+1>>1,o[c+1+0]=Qt(m,b,S),o[c+3+0]=o[c+1+32]=Qt(b,S,C),o[c+3+32]=o[c+1+64]=Qt(S,C,C),o[c+3+64]=o[c+2+64]=o[c+0+96]=o[c+1+96]=o[c+2+96]=o[c+3+96]=C}function Qo(o,c){var m=o[c-1+0],b=o[c-1+32],S=o[c-1+64],C=o[c-1+96],E=o[c-1-32],T=o[c+0-32],D=o[c+1-32],W=o[c+2-32];o[c+0+0]=o[c+2+32]=m+E+1>>1,o[c+0+32]=o[c+2+64]=b+m+1>>1,o[c+0+64]=o[c+2+96]=S+b+1>>1,o[c+0+96]=C+S+1>>1,o[c+3+0]=Qt(T,D,W),o[c+2+0]=Qt(E,T,D),o[c+1+0]=o[c+3+32]=Qt(m,E,T),o[c+1+32]=o[c+3+64]=Qt(b,m,E),o[c+1+64]=o[c+3+96]=Qt(S,b,m),o[c+1+96]=Qt(C,S,b)}function Zo(o,c){var m;for(m=0;8>m;++m)i(o,c+32*m,o,c-32,8)}function Xi(o,c){var m;for(m=0;8>m;++m)n(o,c,o[c-1],8),c+=32}function Gr(o,c,m){var b;for(b=0;8>b;++b)n(c,m+32*b,o,8)}function Nr(o,c){var m,b=8;for(m=0;8>m;++m)b+=o[c+m-32]+o[c-1+32*m];Gr(b>>4,o,c)}function ts(o,c){var m,b=4;for(m=0;8>m;++m)b+=o[c+m-32];Gr(b>>3,o,c)}function Yr(o,c){var m,b=4;for(m=0;8>m;++m)b+=o[c-1+32*m];Gr(b>>3,o,c)}function Ji(o,c){Gr(128,o,c)}function gi(o,c,m){var b=o[c-m],S=o[c+0],C=3*(S-b)+cs[1020+o[c-2*m]-o[c+m]],E=Ya[112+(C+4>>3)];o[c-m]=yn[255+b+Ya[112+(C+3>>3)]],o[c+0]=yn[255+S-E]}function Da(o,c,m,b){var S=o[c+0],C=o[c+m];return In[255+o[c-2*m]-o[c-m]]>b||In[255+C-S]>b}function Ra(o,c,m,b){return 4*In[255+o[c-m]-o[c+0]]+In[255+o[c-2*m]-o[c+m]]<=b}function qa(o,c,m,b,S){var C=o[c-3*m],E=o[c-2*m],T=o[c-m],D=o[c+0],W=o[c+m],rt=o[c+2*m],ht=o[c+3*m];return 4*In[255+T-D]+In[255+E-W]>b?0:In[255+o[c-4*m]-C]<=S&&In[255+C-E]<=S&&In[255+E-T]<=S&&In[255+ht-rt]<=S&&In[255+rt-W]<=S&&In[255+W-D]<=S}function Ua(o,c,m,b){var S=2*b+1;for(b=0;16>b;++b)Ra(o,c+b,m,S)&&gi(o,c+b,m)}function dr(o,c,m,b){var S=2*b+1;for(b=0;16>b;++b)Ra(o,c+b*m,1,S)&&gi(o,c+b*m,1)}function _r(o,c,m,b){var S;for(S=3;0<S;--S)Ua(o,c+=4*m,m,b)}function es(o,c,m,b){var S;for(S=3;0<S;--S)dr(o,c+=4,m,b)}function Sr(o,c,m,b,S,C,E,T){for(C=2*C+1;0<S--;){if(qa(o,c,m,C,E))if(Da(o,c,m,T))gi(o,c,m);else{var D=o,W=c,rt=m,ht=D[W-2*rt],ft=D[W-rt],ot=D[W+0],wt=D[W+rt],pt=D[W+2*rt],it=27*(vt=cs[1020+3*(ot-ft)+cs[1020+ht-wt]])+63>>7,at=18*vt+63>>7,vt=9*vt+63>>7;D[W-3*rt]=yn[255+D[W-3*rt]+vt],D[W-2*rt]=yn[255+ht+at],D[W-rt]=yn[255+ft+it],D[W+0]=yn[255+ot-it],D[W+rt]=yn[255+wt-at],D[W+2*rt]=yn[255+pt-vt]}c+=b}}function Tn(o,c,m,b,S,C,E,T){for(C=2*C+1;0<S--;){if(qa(o,c,m,C,E))if(Da(o,c,m,T))gi(o,c,m);else{var D=o,W=c,rt=m,ht=D[W-rt],ft=D[W+0],ot=D[W+rt],wt=Ya[112+((pt=3*(ft-ht))+4>>3)],pt=Ya[112+(pt+3>>3)],it=wt+1>>1;D[W-2*rt]=yn[255+D[W-2*rt]+it],D[W-rt]=yn[255+ht+pt],D[W+0]=yn[255+ft-wt],D[W+rt]=yn[255+ot-it]}c+=b}}function Ki(o,c,m,b,S,C){Sr(o,c,m,1,16,b,S,C)}function Xr(o,c,m,b,S,C){Sr(o,c,1,m,16,b,S,C)}function ns(o,c,m,b,S,C){var E;for(E=3;0<E;--E)Tn(o,c+=4*m,m,1,16,b,S,C)}function mi(o,c,m,b,S,C){var E;for(E=3;0<E;--E)Tn(o,c+=4,1,m,16,b,S,C)}function rs(o,c,m,b,S,C,E,T){Sr(o,c,S,1,8,C,E,T),Sr(m,b,S,1,8,C,E,T)}function $i(o,c,m,b,S,C,E,T){Sr(o,c,1,S,8,C,E,T),Sr(m,b,1,S,8,C,E,T)}function Qi(o,c,m,b,S,C,E,T){Tn(o,c+4*S,S,1,8,C,E,T),Tn(m,b+4*S,S,1,8,C,E,T)}function za(o,c,m,b,S,C,E,T){Tn(o,c+4,1,S,8,C,E,T),Tn(m,b+4,1,S,8,C,E,T)}function vi(){this.ba=new vn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new he,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ta(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ha(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new x}function is(){this.xb=this.a=0,this.l=new li,this.ca=new vn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ha,this.ab=0,this.gc=s(4,ta),this.Oc=0}function bi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new li,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jr(o,c,m,b,S,C,E){for(o=o==null?0:o[c+0],c=0;c<E;++c)S[C+c]=o+m[b+c]&255,o=S[C+c]}function ea(o,c,m,b,S,C,E){var T;if(o==null)Jr(null,null,m,b,S,C,E);else for(T=0;T<E;++T)S[C+T]=o[c+T]+m[b+T]&255}function Pr(o,c,m,b,S,C,E){if(o==null)Jr(null,null,m,b,S,C,E);else{var T,D=o[c+0],W=D,rt=D;for(T=0;T<E;++T)W=rt+(D=o[c+T])-W,rt=m[b+T]+(-256&W?0>W?0:255:W)&255,W=D,S[C+T]=rt}}function na(o,c,m,b){var S=c.width,C=c.o;if(t(o!=null&&c!=null),0>m||0>=b||m+b>C)return null;if(!o.Cc){if(o.ga==null){var E;if(o.ga=new bi,(E=o.ga==null)||(E=c.width*c.o,t(o.Gb.length==0),o.Gb=r(E),o.Uc=0,o.Gb==null?E=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,E=1),E=!E),!E){E=o.ga;var T=o.Fa,D=o.P,W=o.qc,rt=o.mb,ht=o.nb,ft=D+1,ot=W-1,wt=E.l;if(t(T!=null&&rt!=null&&c!=null),jr[0]=null,jr[1]=Jr,jr[2]=ea,jr[3]=Pr,E.ca=rt,E.tb=ht,E.c=c.width,E.i=c.height,t(0<E.c&&0<E.i),1>=W)c=0;else if(E.$a=T[D+0]>>0&3,E.Z=T[D+0]>>2&3,E.Lc=T[D+0]>>4&3,D=T[D+0]>>6&3,0>E.$a||1<E.$a||4<=E.Z||1<E.Lc||D)c=0;else if(wt.put=Ve,wt.ac=_e,wt.bc=$n,wt.ma=E,wt.width=c.width,wt.height=c.height,wt.Da=c.Da,wt.v=c.v,wt.va=c.va,wt.j=c.j,wt.o=c.o,E.$a)t:{t(E.$a==1),c=_n();e:for(;;){if(c==null){c=0;break t}if(t(E!=null),E.mc=c,c.c=E.c,c.i=E.i,c.l=E.l,c.l.ma=E,c.l.width=E.c,c.l.height=E.i,c.a=0,$(c.m,T,ft,ot),!tr(E.c,E.i,1,c,null)||(c.ab==1&&c.gc[0].hc==3&&hr(c.s)?(E.ic=1,T=c.c*c.i,c.Ta=null,c.Ua=0,c.V=r(T),c.Ba=0,c.V==null?(c.a=1,c=0):c=1):(E.ic=0,c=Vr(c,E.c)),!c))break e;c=1;break t}E.mc=null,c=0}else c=ot>=E.c*E.i;E=!c}if(E)return null;o.ga.Lc!=1?o.Ga=0:b=C-m}t(o.ga!=null),t(m+b<=C);t:{if(c=(T=o.ga).c,C=T.l.o,T.$a==0){if(ft=o.rc,ot=o.Vc,wt=o.Fa,D=o.P+1+m*c,W=o.mb,rt=o.nb+m*c,t(D<=o.P+o.qc),T.Z!=0)for(t(jr[T.Z]!=null),E=0;E<b;++E)jr[T.Z](ft,ot,wt,D,W,rt,c),ft=W,ot=rt,rt+=c,D+=c;else for(E=0;E<b;++E)i(W,rt,wt,D,c),ft=W,ot=rt,rt+=c,D+=c;o.rc=ft,o.Vc=ot}else{if(t(T.mc!=null),c=m+b,t((E=T.mc)!=null),t(c<=E.i),E.C>=c)c=1;else if(T.ic||lt(),T.ic){T=E.V,ft=E.Ba,ot=E.c;var pt=E.i,it=(wt=1,D=E.$/ot,W=E.$%ot,rt=E.m,ht=E.s,E.$),at=ot*pt,vt=ot*c,Lt=ht.wc,bt=it<vt?De(ht,W,D):null;t(it<=at),t(c<=pt),t(hr(ht));e:for(;;){for(;!rt.h&&it<vt;){if(W&Lt||(bt=De(ht,W,D)),t(bt!=null),et(rt),256>(pt=un(bt.G[0],bt.H[0],rt)))T[ft+it]=pt,++it,++W>=ot&&(W=0,++D<=c&&!(D%16)&&On(E,D));else{if(!(280>pt)){wt=0;break e}pt=Cn(pt-256,rt);var Bt,Ct=un(bt.G[4],bt.H[4],rt);if(et(rt),!(it>=(Ct=Qn(ot,Ct=Cn(Ct,rt)))&&at-it>=pt)){wt=0;break e}for(Bt=0;Bt<pt;++Bt)T[ft+it+Bt]=T[ft+it+Bt-Ct];for(it+=pt,W+=pt;W>=ot;)W-=ot,++D<=c&&!(D%16)&&On(E,D);it<vt&&W&Lt&&(bt=De(ht,W,D))}t(rt.h==R(rt))}On(E,D>c?c:D);break e}!wt||rt.h&&it<at?(wt=0,E.a=rt.h?5:3):E.$=it,c=wt}else c=jn(E,E.V,E.Ba,E.c,E.i,c,ai);if(!c){b=0;break t}}m+b>=C&&(o.Cc=1),b=1}if(!b)return null;if(o.Cc&&((b=o.ga)!=null&&(b.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+m*S}function d(o,c,m,b,S,C){for(;0<S--;){var E,T=o,D=c+(m?1:0),W=o,rt=c+(m?0:3);for(E=0;E<b;++E){var ht=W[rt+4*E];ht!=255&&(ht*=32897,T[D+4*E+0]=T[D+4*E+0]*ht>>23,T[D+4*E+1]=T[D+4*E+1]*ht>>23,T[D+4*E+2]=T[D+4*E+2]*ht>>23)}c+=C}}function P(o,c,m,b,S){for(;0<b--;){var C;for(C=0;C<m;++C){var E=o[c+2*C+0],T=15&(W=o[c+2*C+1]),D=4369*T,W=(240&W|W>>4)*D>>16;o[c+2*C+0]=(240&E|E>>4)*D>>16&240|(15&E|E<<4)*D>>16>>4&15,o[c+2*C+1]=240&W|T}c+=S}}function K(o,c,m,b,S,C,E,T){var D,W,rt=255;for(W=0;W<S;++W){for(D=0;D<b;++D){var ht=o[c+D];C[E+4*D]=ht,rt&=ht}c+=m,E+=T}return rt!=255}function nt(o,c,m,b,S){var C;for(C=0;C<S;++C)m[b+C]=o[c+C]>>8}function lt(){Er=d,Pi=P,Ga=K,rc=nt}function gt(o,c,m){A[o]=function(b,S,C,E,T,D,W,rt,ht,ft,ot,wt,pt,it,at,vt,Lt){var bt,Bt=Lt-1>>1,Ct=T[D+0]|W[rt+0]<<16,Vt=ht[ft+0]|ot[wt+0]<<16;t(b!=null);var jt=3*Ct+Vt+131074>>2;for(c(b[S+0],255&jt,jt>>16,pt,it),C!=null&&(jt=3*Vt+Ct+131074>>2,c(C[E+0],255&jt,jt>>16,at,vt)),bt=1;bt<=Bt;++bt){var fe=T[D+bt]|W[rt+bt]<<16,pe=ht[ft+bt]|ot[wt+bt]<<16,le=Ct+fe+Vt+pe+524296,oe=le+2*(fe+Vt)>>3;jt=oe+Ct>>1,Ct=(le=le+2*(Ct+pe)>>3)+fe>>1,c(b[S+2*bt-1],255&jt,jt>>16,pt,it+(2*bt-1)*m),c(b[S+2*bt-0],255&Ct,Ct>>16,pt,it+(2*bt-0)*m),C!=null&&(jt=le+Vt>>1,Ct=oe+pe>>1,c(C[E+2*bt-1],255&jt,jt>>16,at,vt+(2*bt-1)*m),c(C[E+2*bt+0],255&Ct,Ct>>16,at,vt+(2*bt+0)*m)),Ct=fe,Vt=pe}1&Lt||(jt=3*Ct+Vt+131074>>2,c(b[S+Lt-1],255&jt,jt>>16,pt,it+(Lt-1)*m),C!=null&&(jt=3*Vt+Ct+131074>>2,c(C[E+Lt-1],255&jt,jt>>16,at,vt+(Lt-1)*m)))}}function Nt(){Fn[Xa]=l1,Fn[Ja]=pc,Fn[uc]=h1,Fn[Ka]=gc,Fn[$a]=mc,Fn[us]=vc,Fn[lc]=f1,Fn[ls]=pc,Fn[hs]=gc,Fn[Qa]=mc,Fn[fs]=vc}function Mt(o){return o&~d1?0>o?0:255:o>>bc}function Ht(o,c){return Mt((19077*o>>8)+(26149*c>>8)-14234)}function te(o,c,m){return Mt((19077*o>>8)-(6419*c>>8)-(13320*m>>8)+8708)}function re(o,c){return Mt((19077*o>>8)+(33050*c>>8)-17685)}function ue(o,c,m,b,S){b[S+0]=Ht(o,m),b[S+1]=te(o,c,m),b[S+2]=re(o,c)}function Pe(o,c,m,b,S){b[S+0]=re(o,c),b[S+1]=te(o,c,m),b[S+2]=Ht(o,m)}function ke(o,c,m,b,S){var C=te(o,c,m);c=C<<3&224|re(o,c)>>3,b[S+0]=248&Ht(o,m)|C>>5,b[S+1]=c}function Re(o,c,m,b,S){var C=240&re(o,c)|15;b[S+0]=240&Ht(o,m)|te(o,c,m)>>4,b[S+1]=C}function tn(o,c,m,b,S){b[S+0]=255,ue(o,c,m,b,S+1)}function Ge(o,c,m,b,S){Pe(o,c,m,b,S),b[S+3]=255}function Bn(o,c,m,b,S){ue(o,c,m,b,S),b[S+3]=255}function wn(o,c){return 0>o?0:o>c?c:o}function pr(o,c,m){A[o]=function(b,S,C,E,T,D,W,rt,ht){for(var ft=rt+(-2&ht)*m;rt!=ft;)c(b[S+0],C[E+0],T[D+0],W,rt),c(b[S+1],C[E+0],T[D+0],W,rt+m),S+=2,++E,++D,rt+=2*m;1&ht&&c(b[S+0],C[E+0],T[D+0],W,rt)}}function Wa(o,c,m){return m==0?o==0?c==0?6:5:c==0?4:0:m}function ra(o,c,m,b,S){switch(o>>>30){case 3:_i(c,m,b,S,0);break;case 2:la(c,m,b,S);break;case 1:Un(c,m,b,S)}}function ia(o,c){var m,b,S=c.M,C=c.Nb,E=o.oc,T=o.pc+40,D=o.oc,W=o.pc+584,rt=o.oc,ht=o.pc+600;for(m=0;16>m;++m)E[T+32*m-1]=129;for(m=0;8>m;++m)D[W+32*m-1]=129,rt[ht+32*m-1]=129;for(0<S?E[T-1-32]=D[W-1-32]=rt[ht-1-32]=129:(n(E,T-32-1,127,21),n(D,W-32-1,127,9),n(rt,ht-32-1,127,9)),b=0;b<o.za;++b){var ft=c.ya[c.aa+b];if(0<b){for(m=-1;16>m;++m)i(E,T+32*m-4,E,T+32*m+12,4);for(m=-1;8>m;++m)i(D,W+32*m-4,D,W+32*m+4,4),i(rt,ht+32*m-4,rt,ht+32*m+4,4)}var ot=o.Gd,wt=o.Hd+b,pt=ft.ad,it=ft.Hc;if(0<S&&(i(E,T-32,ot[wt].y,0,16),i(D,W-32,ot[wt].f,0,8),i(rt,ht-32,ot[wt].ea,0,8)),ft.Za){var at=E,vt=T-32+16;for(0<S&&(b>=o.za-1?n(at,vt,ot[wt].y[15],4):i(at,vt,ot[wt+1].y,0,4)),m=0;4>m;m++)at[vt+128+m]=at[vt+256+m]=at[vt+384+m]=at[vt+0+m];for(m=0;16>m;++m,it<<=2)at=E,vt=T+yc[m],zn[ft.Ob[m]](at,vt),ra(it,pt,16*+m,at,vt)}else if(at=Wa(b,S,ft.Ob[0]),Or[at](E,T),it!=0)for(m=0;16>m;++m,it<<=2)ra(it,pt,16*+m,E,T+yc[m]);for(m=ft.Gc,at=Wa(b,S,ft.Dd),wr[at](D,W),wr[at](rt,ht),it=pt,at=D,vt=W,255&(ft=m>>0)&&(170&ft?kr(it,256,at,vt):mr(it,256,at,vt)),ft=rt,it=ht,255&(m>>=8)&&(170&m?kr(pt,320,ft,it):mr(pt,320,ft,it)),S<o.Ub-1&&(i(ot[wt].y,0,E,T+480,16),i(ot[wt].f,0,D,W+224,8),i(ot[wt].ea,0,rt,ht+224,8)),m=8*C*o.B,ot=o.sa,wt=o.ta+16*b+16*C*o.R,pt=o.qa,ft=o.ra+8*b+m,it=o.Ha,at=o.Ia+8*b+m,m=0;16>m;++m)i(ot,wt+m*o.R,E,T+32*m,16);for(m=0;8>m;++m)i(pt,ft+m*o.B,D,W+32*m,8),i(it,at+m*o.B,rt,ht+32*m,8)}}function wi(o,c,m,b,S,C,E,T,D){var W=[0],rt=[0],ht=0,ft=D!=null?D.kd:0,ot=D??new Zi;if(o==null||12>m)return 7;ot.data=o,ot.w=c,ot.ha=m,c=[c],m=[m],ot.gb=[ot.gb];t:{var wt=c,pt=m,it=ot.gb;if(t(o!=null),t(pt!=null),t(it!=null),it[0]=0,12<=pt[0]&&!e(o,wt[0],"RIFF")){if(e(o,wt[0]+8,"WEBP")){it=3;break t}var at=Et(o,wt[0]+4);if(12>at||4294967286<at){it=3;break t}if(ft&&at>pt[0]-8){it=7;break t}it[0]=at,wt[0]+=12,pt[0]-=12}it=0}if(it!=0)return it;for(at=0<ot.gb[0],m=m[0];;){t:{var vt=o;pt=c,it=m;var Lt=W,bt=rt,Bt=wt=[0];if((jt=ht=[ht])[0]=0,8>it[0])it=7;else{if(!e(vt,pt[0],"VP8X")){if(Et(vt,pt[0]+4)!=10){it=3;break t}if(18>it[0]){it=7;break t}var Ct=Et(vt,pt[0]+8),Vt=1+Pt(vt,pt[0]+12);if(2147483648<=Vt*(vt=1+Pt(vt,pt[0]+15))){it=3;break t}Bt!=null&&(Bt[0]=Ct),Lt!=null&&(Lt[0]=Vt),bt!=null&&(bt[0]=vt),pt[0]+=18,it[0]-=18,jt[0]=1}it=0}}if(ht=ht[0],wt=wt[0],it!=0)return it;if(pt=!!(2&wt),!at&&ht)return 3;if(C!=null&&(C[0]=!!(16&wt)),E!=null&&(E[0]=pt),T!=null&&(T[0]=0),E=W[0],wt=rt[0],ht&&pt&&D==null){it=0;break}if(4>m){it=7;break}if(at&&ht||!at&&!ht&&!e(o,c[0],"ALPH")){m=[m],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];t:{Ct=o,it=c,at=m;var jt=ot.gb;Lt=ot.na,bt=ot.P,Bt=ot.Sa,Vt=22,t(Ct!=null),t(at!=null),vt=it[0];var fe=at[0];for(t(Lt!=null),t(Bt!=null),Lt[0]=null,bt[0]=null,Bt[0]=0;;){if(it[0]=vt,at[0]=fe,8>fe){it=7;break t}var pe=Et(Ct,vt+4);if(4294967286<pe){it=3;break t}var le=8+pe+1&-2;if(Vt+=le,0<jt&&Vt>jt){it=3;break t}if(!e(Ct,vt,"VP8 ")||!e(Ct,vt,"VP8L")){it=0;break t}if(fe[0]<le){it=7;break t}e(Ct,vt,"ALPH")||(Lt[0]=Ct,bt[0]=vt+8,Bt[0]=pe),vt+=le,fe-=le}}if(m=m[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],it!=0)break}m=[m],ot.Ja=[ot.Ja],ot.xa=[ot.xa];t:if(jt=o,it=c,at=m,Lt=ot.gb[0],bt=ot.Ja,Bt=ot.xa,Ct=it[0],vt=!e(jt,Ct,"VP8 "),Vt=!e(jt,Ct,"VP8L"),t(jt!=null),t(at!=null),t(bt!=null),t(Bt!=null),8>at[0])it=7;else{if(vt||Vt){if(jt=Et(jt,Ct+4),12<=Lt&&jt>Lt-12){it=3;break t}if(ft&&jt>at[0]-8){it=7;break t}bt[0]=jt,it[0]+=8,at[0]-=8,Bt[0]=Vt}else Bt[0]=5<=at[0]&&jt[Ct+0]==47&&!(jt[Ct+4]>>5),bt[0]=at[0];it=0}if(m=m[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],c=c[0],it!=0)break;if(4294967286<ot.Ja)return 3;if(T==null||pt||(T[0]=ot.xa?2:1),E=[E],wt=[wt],ot.xa){if(5>m){it=7;break}T=E,ft=wt,pt=C,o==null||5>m?o=0:5<=m&&o[c+0]==47&&!(o[c+4]>>5)?(at=[0],jt=[0],Lt=[0],$(bt=new N,o,c,m),Yt(bt,at,jt,Lt)?(T!=null&&(T[0]=at[0]),ft!=null&&(ft[0]=jt[0]),pt!=null&&(pt[0]=Lt[0]),o=1):o=0):o=0}else{if(10>m){it=7;break}T=wt,o==null||10>m||!Ia(o,c+3,m-3)?o=0:(ft=o[c+0]|o[c+1]<<8|o[c+2]<<16,pt=16383&(o[c+7]<<8|o[c+6]),o=16383&(o[c+9]<<8|o[c+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=ot.Ja||!pt||!o?o=0:(E&&(E[0]=pt),T&&(T[0]=o),o=1))}if(!o||(E=E[0],wt=wt[0],ht&&(W[0]!=E||rt[0]!=wt)))return 3;D!=null&&(D[0]=ot,D.offset=c-D.w,t(4294967286>c-D.w),t(D.offset==D.ha-m));break}return it==0||it==7&&ht&&D==null?(C!=null&&(C[0]|=ot.na!=null&&0<ot.na.length),b!=null&&(b[0]=E),S!=null&&(S[0]=wt),0):it}function aa(o,c,m){var b=c.width,S=c.height,C=0,E=0,T=b,D=S;if(c.Da=o!=null&&0<o.Da,c.Da&&(T=o.cd,D=o.bd,C=o.v,E=o.j,11>m||(C&=-2,E&=-2),0>C||0>E||0>=T||0>=D||C+T>b||E+D>S))return 0;if(c.v=C,c.j=E,c.va=C+T,c.o=E+D,c.U=T,c.T=D,c.da=o!=null&&0<o.da,c.da){if(!Dt(T,D,m=[o.ib],C=[o.hb]))return 0;c.ib=m[0],c.hb=C[0]}return c.ob=o!=null&&o.ob,c.Kb=o==null||!o.Sd,c.da&&(c.ob=c.ib<3*b/4&&c.hb<3*S/4,c.Kb=0),1}function oa(o){if(o==null)return 2;if(11>o.S){var c=o.f.RGBA;c.fb+=(o.height-1)*c.A,c.A=-c.A}else c=o.f.kb,o=o.height,c.O+=(o-1)*c.fa,c.fa=-c.fa,c.N+=(o-1>>1)*c.Ab,c.Ab=-c.Ab,c.W+=(o-1>>1)*c.Db,c.Db=-c.Db,c.F!=null&&(c.J+=(o-1)*c.lb,c.lb=-c.lb);return 0}function yi(o,c,m,b){if(b==null||0>=o||0>=c)return 2;if(m!=null){if(m.Da){var S=m.cd,C=m.bd,E=-2&m.v,T=-2&m.j;if(0>E||0>T||0>=S||0>=C||E+S>o||T+C>c)return 2;o=S,c=C}if(m.da){if(!Dt(o,c,S=[m.ib],C=[m.hb]))return 2;o=S[0],c=C[0]}}b.width=o,b.height=c;t:{var D=b.width,W=b.height;if(o=b.S,0>=D||0>=W||!(o>=Xa&&13>o))o=2;else{if(0>=b.Rd&&b.sd==null){E=C=S=c=0;var rt=(T=D*Ac[o])*W;if(11>o||(C=(W+1)/2*(c=(D+1)/2),o==12&&(E=(S=D)*W)),(W=r(rt+2*C+E))==null){o=1;break t}b.sd=W,11>o?((D=b.f.RGBA).eb=W,D.fb=0,D.A=T,D.size=rt):((D=b.f.kb).y=W,D.O=0,D.fa=T,D.Fd=rt,D.f=W,D.N=0+rt,D.Ab=c,D.Cd=C,D.ea=W,D.W=0+rt+C,D.Db=c,D.Ed=C,o==12&&(D.F=W,D.J=0+rt+2*C),D.Tc=E,D.lb=S)}if(c=1,S=b.S,C=b.width,E=b.height,S>=Xa&&13>S)if(11>S)o=b.f.RGBA,c&=(T=Math.abs(o.A))*(E-1)+C<=o.size,c&=T>=C*Ac[S],c&=o.eb!=null;else{o=b.f.kb,T=(C+1)/2,rt=(E+1)/2,D=Math.abs(o.fa),W=Math.abs(o.Ab);var ht=Math.abs(o.Db),ft=Math.abs(o.lb),ot=ft*(E-1)+C;c&=D*(E-1)+C<=o.Fd,c&=W*(rt-1)+T<=o.Cd,c=(c&=ht*(rt-1)+T<=o.Ed)&D>=C&W>=T&ht>=T,c&=o.y!=null,c&=o.f!=null,c&=o.ea!=null,S==12&&(c&=ft>=C,c&=ot<=o.Tc,c&=o.F!=null)}else c=0;o=c?0:2}}return o!=0||m!=null&&m.fd&&(o=oa(b)),o}var hn=64,Ai=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xi=24,Li=32,sa=8,fn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_t("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(o){return o},A.Predictor2=function(o,c,m){return c[m+0]},A.Predictor3=function(o,c,m){return c[m+1]},A.Predictor4=function(o,c,m){return c[m-1]},A.Predictor5=function(o,c,m){return It(It(o,c[m+1]),c[m+0])},A.Predictor6=function(o,c,m){return It(o,c[m-1])},A.Predictor7=function(o,c,m){return It(o,c[m+0])},A.Predictor8=function(o,c,m){return It(c[m-1],c[m+0])},A.Predictor9=function(o,c,m){return It(c[m+0],c[m+1])},A.Predictor10=function(o,c,m){return It(It(o,c[m-1]),It(c[m+0],c[m+1]))},A.Predictor11=function(o,c,m){var b=c[m+0];return 0>=Ut(b>>24&255,o>>24&255,(c=c[m-1])>>24&255)+Ut(b>>16&255,o>>16&255,c>>16&255)+Ut(b>>8&255,o>>8&255,c>>8&255)+Ut(255&b,255&o,255&c)?b:o},A.Predictor12=function(o,c,m){var b=c[m+0];return(Ot((o>>24&255)+(b>>24&255)-((c=c[m-1])>>24&255))<<24|Ot((o>>16&255)+(b>>16&255)-(c>>16&255))<<16|Ot((o>>8&255)+(b>>8&255)-(c>>8&255))<<8|Ot((255&o)+(255&b)-(255&c)))>>>0},A.Predictor13=function(o,c,m){var b=c[m-1];return(Tt((o=It(o,c[m+0]))>>24&255,b>>24&255)<<24|Tt(o>>16&255,b>>16&255)<<16|Tt(o>>8&255,b>>8&255)<<8|Tt(o>>0&255,b>>0&255))>>>0};var as=A.PredictorAdd0;A.PredictorAdd1=Kt,_t("Predictor2","PredictorAdd2"),_t("Predictor3","PredictorAdd3"),_t("Predictor4","PredictorAdd4"),_t("Predictor5","PredictorAdd5"),_t("Predictor6","PredictorAdd6"),_t("Predictor7","PredictorAdd7"),_t("Predictor8","PredictorAdd8"),_t("Predictor9","PredictorAdd9"),_t("Predictor10","PredictorAdd10"),_t("Predictor11","PredictorAdd11"),_t("Predictor12","PredictorAdd12"),_t("Predictor13","PredictorAdd13");var ca=A.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var Va,Dn=A.ColorIndexInverseTransform,ua=A.MapARGB,os=A.VP8LColorIndexInverseTransformAlpha,ss=A.MapAlpha,Ir=A.VP8LPredictorsAdd=[];Ir.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Sn,Rn,Fr,nr,gr,Ni,qn,_i,la,kr,Un,mr,Kr,Si,$r,Cr,ha,Pn,vr,Le,Ne,je,He,br,Er,Pi,Ga,rc,ic=r(511),ac=r(2041),oc=r(225),sc=r(767),cc=0,cs=ac,Ya=oc,yn=sc,In=ic,Xa=0,Ja=1,uc=2,Ka=3,$a=4,us=5,lc=6,ls=7,hs=8,Qa=9,fs=10,Ku=[2,3,7],$u=[3,3,11],hc=[280,256,256,256,40],Qu=[0,1,1,1,0],Zu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],t1=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],e1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],n1=8,ds=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ps=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fa=null,r1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],i1=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],fc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],a1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],o1=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],s1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],c1=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Or=[],zn=[],wr=[],u1=1,dc=2,jr=[],Fn=[];gt("UpsampleRgbLinePair",ue,3),gt("UpsampleBgrLinePair",Pe,3),gt("UpsampleRgbaLinePair",Bn,4),gt("UpsampleBgraLinePair",Ge,4),gt("UpsampleArgbLinePair",tn,4),gt("UpsampleRgba4444LinePair",Re,2),gt("UpsampleRgb565LinePair",ke,2);var l1=A.UpsampleRgbLinePair,h1=A.UpsampleBgrLinePair,pc=A.UpsampleRgbaLinePair,gc=A.UpsampleBgraLinePair,mc=A.UpsampleArgbLinePair,vc=A.UpsampleRgba4444LinePair,f1=A.UpsampleRgb565LinePair,Za=16,to=1<<Za-1,da=-227,gs=482,bc=6,d1=(256<<bc)-1,wc=0,p1=r(256),g1=r(256),m1=r(256),v1=r(256),b1=r(gs-da),w1=r(gs-da);pr("YuvToRgbRow",ue,3),pr("YuvToBgrRow",Pe,3),pr("YuvToRgbaRow",Bn,4),pr("YuvToBgraRow",Ge,4),pr("YuvToArgbRow",tn,4),pr("YuvToRgba4444Row",Re,2),pr("YuvToRgb565Row",ke,2);var yc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eo=[0,2,8],y1=[8,7,6,4,4,2,2,2,1,1,1,1],A1=1;this.WebPDecodeRGBA=function(o,c,m,b,S){var C=Ja,E=new vi,T=new vn;E.ba=T,T.S=C,T.width=[T.width],T.height=[T.height];var D=T.width,W=T.height,rt=new We;if(rt==null||o==null)var ht=2;else t(rt!=null),ht=wi(o,c,m,rt.width,rt.height,rt.Pd,rt.Qd,rt.format,null);if(ht!=0?D=0:(D!=null&&(D[0]=rt.width[0]),W!=null&&(W[0]=rt.height[0]),D=1),D){T.width=T.width[0],T.height=T.height[0],b!=null&&(b[0]=T.width),S!=null&&(S[0]=T.height);t:{if(b=new li,(S=new Zi).data=o,S.w=c,S.ha=m,S.kd=1,c=[0],t(S!=null),((o=wi(S.data,S.w,S.ha,null,null,null,c,null,S))==0||o==7)&&c[0]&&(o=4),(c=o)==0){if(t(E!=null),b.data=S.data,b.w=S.w+S.offset,b.ha=S.ha-S.offset,b.put=Ve,b.ac=_e,b.bc=$n,b.ma=E,S.xa){if((o=_n())==null){E=1;break t}if(function(ft,ot){var wt=[0],pt=[0],it=[0];e:for(;;){if(ft==null)return 0;if(ot==null)return ft.a=2,0;if(ft.l=ot,ft.a=0,$(ft.m,ot.data,ot.w,ot.ha),!Yt(ft.m,wt,pt,it)){ft.a=3;break e}if(ft.xb=dc,ot.width=wt[0],ot.height=pt[0],!tr(wt[0],pt[0],1,ft,null))break e;return 1}return t(ft.a!=0),0}(o,b)){if(b=(c=yi(b.width,b.height,E.Oa,E.ba))==0){e:{b=o;n:for(;;){if(b==null){b=0;break e}if(t(b.s.yc!=null),t(b.s.Ya!=null),t(0<b.s.Wb),t((m=b.l)!=null),t((S=m.ma)!=null),b.xb!=0){if(b.ca=S.ba,b.tb=S.tb,t(b.ca!=null),!aa(S.Oa,m,Ka)){b.a=2;break n}if(!Vr(b,m.width)||m.da)break n;if((m.da||ce(b.ca.S))&&lt(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&lt()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!qt(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!jn(b,b.V,b.Ba,b.c,b.i,m.o,ii))break n;S.Dc=b.Ma,b=1;break e}t(b.a!=0),b=0}b=!b}b&&(c=o.a)}else c=o.a}else{if((o=new qo)==null){E=1;break t}if(o.Fa=S.na,o.P=S.P,o.qc=S.Sa,Fa(o,b)){if((c=yi(b.width,b.height,E.Oa,E.ba))==0){if(o.Aa=0,m=E.Oa,t((S=o)!=null),m!=null){if(0<(D=0>(D=m.Md)?0:100<D?255:255*D/100)){for(W=rt=0;4>W;++W)12>(ht=S.pb[W]).lc&&(ht.ia=D*y1[0>ht.lc?0:ht.lc]>>3),rt|=ht.ia;rt&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=m.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}Uo(o,b)||(c=o.a)}}else c=o.a}c==0&&E.Oa!=null&&E.Oa.fd&&(c=oa(E.ba))}E=c}C=E!=0?null:11>C?T.f.RGBA.eb:T.f.kb.y}else C=null;return C};var Ac=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(A,O){for(var H="",L=0;L<4;L++)H+=String.fromCharCode(A[O++]);return H}function f(A,O){return(A[O+0]<<0|A[O+1]<<8|A[O+2]<<16)>>>0}function p(A,O){return(A[O+0]<<0|A[O+1]<<8|A[O+2]<<16|A[O+3]<<24)>>>0}new l;var g=[0],h=[0],w=[],_=new l,j=a,y=function(A,O){var H={},L=0,x=!1,M=0,F=0;if(H.frames=[],!function(q,R,U,et){for(var st=0;st<et;st++)if(q[R+st]!=U.charCodeAt(st))return!0;return!1}(A,O,"RIFF",4)){var G,k;for(p(A,O+=4),O+=8;O<A.length;){var I=v(A,O),$=p(A,O+=4);O+=4;var X=$+(1&$);switch(I){case"VP8 ":case"VP8L":H.frames[L]===void 0&&(H.frames[L]={}),(N=H.frames[L]).src_off=x?F:O-8,N.src_size=M+$+8,L++,x&&(x=!1,M=0,F=0);break;case"VP8X":(N=H.header={}).feature_flags=A[O];var tt=O+4;N.canvas_width=1+f(A,tt),tt+=3,N.canvas_height=1+f(A,tt),tt+=3;break;case"ALPH":x=!0,M=X+8,F=O-8;break;case"ANIM":(N=H.header).bgcolor=p(A,O),tt=O+4,N.loop_count=(G=A)[(k=tt)+0]<<0|G[k+1]<<8,tt+=2;break;case"ANMF":var mt,N;(N=H.frames[L]={}).offset_x=2*f(A,O),O+=3,N.offset_y=2*f(A,O),O+=3,N.width=1+f(A,O),O+=3,N.height=1+f(A,O),O+=3,N.duration=f(A,O),O+=3,mt=A[O++],N.dispose=1&mt,N.blend=mt>>1&1}I!="ANMF"&&(O+=X)}return H}}(j,0);y.response=j,y.rgbaoutput=!0,y.dataurl=!1;var B=y.header?y.header:null,V=y.frames?y.frames:null;if(B){B.loop_counter=B.loop_count,g=[B.canvas_height],h=[B.canvas_width];for(var J=0;J<V.length&&V[J].blend!=0;J++);}var Z=V[0],z=_.WebPDecodeRGBA(j,Z.src_off,Z.src_size,h,g);Z.rgba=z,Z.imgwidth=h[0],Z.imgheight=g[0];for(var Y=0;Y<h[0]*g[0]*4;Y++)w[Y]=z[Y];return this.width=h,this.height=g,this.data=w,this}(function(a){var t=function(){return typeof Ws=="function"},e=function(g,h,w,_){var j=4,y=s;switch(_){case a.image_compression.FAST:j=1,y=r;break;case a.image_compression.MEDIUM:j=6,y=u;break;case a.image_compression.SLOW:j=9,y=l}g=i(g,h,w,y);var B=Ws(g,{level:j});return a.__addimage__.arrayBufferToBinaryString(B)},i=function(g,h,w,_){for(var j,y,B,V=g.length/h,J=new Uint8Array(g.length+V),Z=f(),z=0;z<V;z+=1){if(B=z*h,j=g.subarray(B,B+h),_)J.set(_(j,w,y),B+z);else{for(var Y,A=Z.length,O=[];Y<A;Y+=1)O[Y]=Z[Y](j,w,y);var H=p(O.concat());J.set(O[H],B+z)}y=j}return J},n=function(g){var h=Array.apply([],g);return h.unshift(0),h},r=function(g,h){var w,_=[],j=g.length;_[0]=1;for(var y=0;y<j;y+=1)w=g[y-h]||0,_[y+1]=g[y]-w+256&255;return _},s=function(g,h,w){var _,j=[],y=g.length;j[0]=2;for(var B=0;B<y;B+=1)_=w&&w[B]||0,j[B+1]=g[B]-_+256&255;return j},u=function(g,h,w){var _,j,y=[],B=g.length;y[0]=3;for(var V=0;V<B;V+=1)_=g[V-h]||0,j=w&&w[V]||0,y[V+1]=g[V]+256-(_+j>>>1)&255;return y},l=function(g,h,w){var _,j,y,B,V=[],J=g.length;V[0]=4;for(var Z=0;Z<J;Z+=1)_=g[Z-h]||0,j=w&&w[Z]||0,y=w&&w[Z-h]||0,B=v(_,j,y),V[Z+1]=g[Z]-B+256&255;return V},v=function(g,h,w){if(g===h&&h===w)return g;var _=Math.abs(h-w),j=Math.abs(g-w),y=Math.abs(g+h-w-w);return _<=j&&_<=y?g:j<=y?h:w},f=function(){return[n,r,s,u,l]},p=function(g){var h=g.map(function(w){return w.reduce(function(_,j){return _+Math.abs(j)},0)});return h.indexOf(Math.min.apply(null,h))};a.processPNG=function(g,h,w,_){var j,y,B,V,J,Z,z,Y,A,O,H,L,x,M,F,G=this.decode.FLATE_DECODE,k="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(B=new _h(g)).imgData,y=B.bits,j=B.colorSpace,J=B.colors,[4,6].indexOf(B.colorType)!==-1){if(B.bits===8){A=(Y=B.pixelBitlength==32?new Uint32Array(B.decodePixels().buffer):B.pixelBitlength==16?new Uint16Array(B.decodePixels().buffer):new Uint8Array(B.decodePixels().buffer)).length,H=new Uint8Array(A*B.colors),O=new Uint8Array(A);var I,$=B.pixelBitlength-B.bits;for(M=0,F=0;M<A;M++){for(x=Y[M],I=0;I<$;)H[F++]=x>>>I&255,I+=B.bits;O[M]=x>>>I&255}}if(B.bits===16){A=(Y=new Uint32Array(B.decodePixels().buffer)).length,H=new Uint8Array(A*(32/B.pixelBitlength)*B.colors),O=new Uint8Array(A*(32/B.pixelBitlength)),L=B.colors>1,M=0,F=0;for(var X=0;M<A;)x=Y[M++],H[F++]=x>>>0&255,L&&(H[F++]=x>>>16&255,x=Y[M++],H[F++]=x>>>0&255),O[X++]=x>>>16&255;y=8}_!==a.image_compression.NONE&&t()?(g=e(H,B.width*B.colors,B.colors,_),z=e(O,B.width,1,_)):(g=H,z=O,G=void 0)}if(B.colorType===3&&(j=this.color_spaces.INDEXED,Z=B.palette,B.transparency.indexed)){var tt=B.transparency.indexed,mt=0;for(M=0,A=tt.length;M<A;++M)mt+=tt[M];if((mt/=255)===A-1&&tt.indexOf(0)!==-1)V=[tt.indexOf(0)];else if(mt!==A){for(Y=B.decodePixels(),O=new Uint8Array(Y.length),M=0,A=Y.length;M<A;M++)O[M]=tt[Y[M]];z=e(O,B.width,1)}}var N=function(q){var R;switch(q){case a.image_compression.FAST:R=11;break;case a.image_compression.MEDIUM:R=13;break;case a.image_compression.SLOW:R=14;break;default:R=12}return R}(_);return G===this.decode.FLATE_DECODE&&(k="/Predictor "+N+" "),k+="/Colors "+J+" /BitsPerComponent "+y+" /Columns "+B.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:w,data:g,index:h,filter:G,decodeParameters:k,transparency:V,palette:Z,sMask:z,predictor:N,width:B.width,height:B.height,bitsPerComponent:y,colorSpace:j}}}})(Xt.API),function(a){a.processGIF89A=function(t,e,i,n){var r=new Sh(t),s=r.width,u=r.height,l=[];r.decodeAndBlitFrameRGBA(0,l);var v={data:l,width:s,height:u},f=new Ms(100).encode(v,100);return a.processJPEG.call(this,f,e,i,n)},a.processGIF87A=a.processGIF89A}(Xt.API),Vn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var a=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(a);for(var t=0;t<a;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:i,blue:e,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vn.prototype.parseBGR=function(){this.pos=this.offset;try{var a="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[a]()}catch(e){xe.log("bit decode error:"+e)}},Vn.prototype.bit1=function(){var a,t=Math.ceil(this.width/8),e=t%4;for(a=this.height-1;a>=0;a--){for(var i=this.bottom_up?a:this.height-1-a,n=0;n<t;n++)for(var r=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*n*4,u=0;u<8&&8*n+u<this.width;u++){var l=this.palette[r>>7-u&1];this.data[s+4*u]=l.blue,this.data[s+4*u+1]=l.green,this.data[s+4*u+2]=l.red,this.data[s+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Vn.prototype.bit4=function(){for(var a=Math.ceil(this.width/2),t=a%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<a;n++){var r=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*n*4,u=r>>4,l=15&r,v=this.palette[u];if(this.data[s]=v.blue,this.data[s+1]=v.green,this.data[s+2]=v.red,this.data[s+3]=255,2*n+1>=this.width)break;v=this.palette[l],this.data[s+4]=v.blue,this.data[s+4+1]=v.green,this.data[s+4+2]=v.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Vn.prototype.bit8=function(){for(var a=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var n=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*i;if(n<this.palette.length){var s=this.palette[n];this.data[r]=s.red,this.data[r+1]=s.green,this.data[r+2]=s.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}a!==0&&(this.pos+=4-a)}},Vn.prototype.bit15=function(){for(var a=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(r&t)/t*255|0,u=(r>>5&t)/t*255|0,l=(r>>10&t)/t*255|0,v=r>>15?255:0,f=i*this.width*4+4*n;this.data[f]=l,this.data[f+1]=u,this.data[f+2]=s,this.data[f+3]=v}this.pos+=a}},Vn.prototype.bit16=function(){for(var a=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&t)/t*255|0,l=(s>>5&e)/e*255|0,v=(s>>11)/t*255|0,f=n*this.width*4+4*r;this.data[f]=v,this.data[f+1]=l,this.data[f+2]=u,this.data[f+3]=255}this.pos+=a}},Vn.prototype.bit24=function(){for(var a=this.height-1;a>=0;a--){for(var t=this.bottom_up?a:this.height-1-a,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=r,this.data[s+1]=n,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Vn.prototype.bit32=function(){for(var a=this.height-1;a>=0;a--)for(var t=this.bottom_up?a:this.height-1-a,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=r,this.data[u+1]=n,this.data[u+2]=i,this.data[u+3]=s}},Vn.prototype.getData=function(){return this.data},function(a){a.processBMP=function(t,e,i,n){var r=new Vn(t,!1),s=r.width,u=r.height,l={data:r.getData(),width:s,height:u},v=new Ms(100).encode(l,100);return a.processJPEG.call(this,v,e,i,n)}}(Xt.API),uu.prototype.getData=function(){return this.data},function(a){a.processWEBP=function(t,e,i,n){var r=new uu(t),s=r.width,u=r.height,l={data:r.getData(),width:s,height:u},v=new Ms(100).encode(l,100);return a.processJPEG.call(this,v,e,i,n)}}(Xt.API),Xt.API.processRGBA=function(a,t,e){for(var i=a.data,n=i.length,r=new Uint8Array(n/4*3),s=new Uint8Array(n/4),u=0,l=0,v=0;v<n;v+=4){var f=i[v],p=i[v+1],g=i[v+2],h=i[v+3];r[u++]=f,r[u++]=p,r[u++]=g,s[l++]=h}var w=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:a.width,height:a.height}},Xt.API.setLanguage=function(a){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[a]!==void 0&&(this.internal.languageSettings.languageCode=a,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Oi=Xt.API,mo=Oi.getCharWidthsArray=function(a,t){var e,i,n=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:n.metadata.Unicode.widths,l=u.fof?u.fof:1,v=t.kerning?t.kerning:n.metadata.Unicode.kerning,f=v.fof?v.fof:1,p=t.doKerning!==!1,g=0,h=a.length,w=0,_=u[0]||l,j=[];for(e=0;e<h;e++)i=a.charCodeAt(e),typeof n.metadata.widthOfString=="function"?j.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(i))+s*(1e3/r)||0)/1e3):(g=p&&me(v[i])==="object"&&!isNaN(parseInt(v[i][w],10))?v[i][w]/f:0,j.push((u[i]||_)/l+g)),w=i;return j},au=Oi.getStringUnitWidth=function(a,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Oi.processArabic&&(a=Oi.processArabic(a)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(a,e,n)/e:mo.apply(this,arguments).reduce(function(r,s){return r+s},0)},ou=function(a,t,e,i){for(var n=[],r=0,s=a.length,u=0;r!==s&&u+t[r]<e;)u+=t[r],r++;n.push(a.slice(0,r));var l=r;for(u=0;r!==s;)u+t[r]>i&&(n.push(a.slice(l,r)),u=0,l=r),u+=t[r],r++;return l!==r&&n.push(a.slice(l,r)),n},su=function(a,t,e){e||(e={});var i,n,r,s,u,l,v,f=[],p=[f],g=e.textIndent||0,h=0,w=0,_=a.split(" "),j=mo.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?_[0].length+2:e.lineIndent||0){var y=Array(l).join(" "),B=[];_.map(function(J){(J=J.split(/\s*\n/)).length>1?B=B.concat(J.map(function(Z,z){return(z&&Z.length?`
`:"")+Z})):B.push(J[0])}),_=B,l=au.apply(this,[y,e])}for(r=0,s=_.length;r<s;r++){var V=0;if(i=_[r],l&&i[0]==`
`&&(i=i.substr(1),V=1),g+h+(w=(n=mo.apply(this,[i,e])).reduce(function(J,Z){return J+Z},0))>t||V){if(w>t){for(u=ou.apply(this,[i,n,t-(g+h),t]),f.push(u.shift()),f=[u.pop()];u.length;)p.push([u.shift()]);w=n.slice(i.length-(f[0]?f[0].length:0)).reduce(function(J,Z){return J+Z},0)}else f=[i];p.push(f),g=w+l,h=j}else f.push(i),g+=h+w,h=j}return v=l?function(J,Z){return(Z?y:"")+J.join(" ")}:function(J){return J.join(" ")},p.map(v)},Oi.splitTextToSize=function(a,t,e){var i,n=(e=e||{}).fontSize||this.internal.getFontSize(),r=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(a)?a:String(a).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/n;r.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,r.lineIndent=e.lineIndent;var u,l,v=[];for(u=0,l=i.length;u<l;u++)v=v.concat(su.apply(this,[i[u],s,r]));return v},function(a){a.__fontmetrics__=a.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},n=0;n<t.length;n++)e[t[n]]="0123456789abcdef"[n],i["0123456789abcdef"[n]]=t[n];var r=function(p){return"0x"+parseInt(p,10).toString(16)},s=a.__fontmetrics__.compress=function(p){var g,h,w,_,j=["{"];for(var y in p){if(g=p[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=r(y).slice(2)).slice(0,-1)+i[h.slice(-1)]),typeof g=="number")g<0?(w=r(g).slice(3),_="-"):(w=r(g).slice(2),_=""),w=_+w.slice(0,-1)+i[w.slice(-1)];else{if(me(g)!=="object")throw new Error("Don't know what to do with value type "+me(g)+".");w=s(g)}j.push(h+w)}return j.push("}"),j.join("")},u=a.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,h,w,_,j={},y=1,B=j,V=[],J="",Z="",z=p.length-1,Y=1;Y<z;Y+=1)(_=p[Y])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(V.push([B,w]),B={},w=void 0):_=="}"?((h=V.pop())[0][h[1]]=B,w=void 0,B=h[0]):_=="-"?y=-1:w===void 0?e.hasOwnProperty(_)?(J+=e[_],w=parseInt(J,16)*y,y=1,J=""):J+=_:e.hasOwnProperty(_)?(Z+=e[_],B[w]=parseInt(Z,16)*y,y=1,w=void 0,Z=""):Z+=_;return j},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};a.events.push(["addFont",function(p){var g=p.font,h=f.Unicode[g.postScriptName];h&&(g.metadata.Unicode={},g.metadata.Unicode.widths=h.widths,g.metadata.Unicode.kerning=h.kerning);var w=v.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])}(Xt.API),function(a){var t=function(e){for(var i=e.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=e.charCodeAt(r);return n};a.API.events.push(["addFont",function(e){var i=void 0,n=e.font,r=e.instance;if(!n.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(i=r.existsFileInVFS(n.postScriptName)===!1?r.loadFile(n.postScriptName):r.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(xa(u)),s.metadata=a.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(n,i)}}])}(Xt),function(a){function t(){return(Jt.canvg?Promise.resolve(Jt.canvg):Ds(()=>import("canvg"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Xt.API.addSvgAsImage=function(e,i,n,r,s,u,l,v){if(isNaN(i)||isNaN(n))throw xe.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw xe.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(w){return w.fromString(p,e,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(g)}).then(function(){h.addImage(f.toDataURL("image/jpeg",1),i,n,r,s,l,v)})}}(),Xt.API.putTotalPages=function(a){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(a,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(a,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var n=0;n<this.internal.pages[i].length;n++)this.internal.pages[i][n]=this.internal.pages[i][n].replace(t,e);return this},Xt.API.viewerPreferences=function(a,t){var e;a=a||{},t=t||!1;var i,n,r,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),l=[],v=0,f=0,p=0;function g(w,_){var j,y=!1;for(j=0;j<w.length;j+=1)w[j]===_&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,a==="reset"||t===!0){var h=u.length;for(p=0;p<h;p+=1)e[u[p]].value=e[u[p]].defaultValue,e[u[p]].explicitSet=!1}if(me(a)==="object"){for(n in a)if(r=a[n],g(u,n)&&r!==void 0){if(e[n].type==="boolean"&&typeof r=="boolean")e[n].value=r;else if(e[n].type==="name"&&g(e[n].valueSet,r))e[n].value=r;else if(e[n].type==="integer"&&Number.isInteger(r))e[n].value=r;else if(e[n].type==="array"){for(v=0;v<r.length;v+=1)if(i=!0,r[v].length===1&&typeof r[v][0]=="number")l.push(String(r[v]-1));else if(r[v].length>1){for(f=0;f<r[v].length;f+=1)typeof r[v][f]!="number"&&(i=!1);i===!0&&l.push([r[v][0]-1,r[v][1]-1].join(" "))}e[n].value="["+l.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,_=[];for(w in e)e[w].explicitSet===!0&&(e[w].type==="name"?_.push("/"+w+" /"+e[w].value):_.push("/"+w+" "+e[w].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(a){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),v=r.length+s.length+u.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(n+r+s+u+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};a.addMetadata=function(i,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Xt.API),function(a){var t=a.API,e=t.pdfEscape16=function(r,s){for(var u,l=s.metadata.Unicode.widths,v=["","0","00","000","0000"],f=[""],p=0,g=r.length;p<g;++p){if(u=s.metadata.characterToGlyph(r.charCodeAt(p)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=r.charCodeAt(p),l.indexOf(u)==-1&&(l.push(u),l.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return f.join("");u=u.toString(16),f.push(v[4-u.length],u)}return f.join("")},i=function(r){var s,u,l,v,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(u=Object.keys(r).sort(function(h,w){return h-w})).length;p<g;p++)s=u[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),r[s]!==void 0&&r[s]!==null&&typeof r[s].toString=="function"&&(v=("0000"+r[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+v+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(s){var u=s.font,l=s.out,v=s.newObject,f=s.putStream;if(u.metadata instanceof a.API.TTFFont&&u.encoding==="Identity-H"){for(var p=u.metadata.Unicode.widths,g=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),h="",w=0;w<g.length;w++)h+=String.fromCharCode(g[w]);var _=v();f({data:h,addLength1:!0,objectId:_}),l("endobj");var j=v();f({data:i(u.metadata.toUnicode),addLength1:!0,objectId:j}),l("endobj");var y=v();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Mi(u.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+a.API.PDFObject.convert(u.metadata.bbox)),l("/Flags "+u.metadata.flags),l("/StemV "+u.metadata.stemV),l("/ItalicAngle "+u.metadata.italicAngle),l("/Ascent "+u.metadata.ascender),l("/Descent "+u.metadata.decender),l("/CapHeight "+u.metadata.capHeight),l(">>"),l("endobj");var B=v();l("<<"),l("/Type /Font"),l("/BaseFont /"+Mi(u.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+a.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+u.encoding+")"),l(">>"),l(">>"),l("endobj"),u.objectNumber=v(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+j+" 0 R"),l("/BaseFont /"+Mi(u.fontName)),l("/Encoding /"+u.encoding),l("/DescendantFonts ["+B+" 0 R]"),l(">>"),l("endobj"),u.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(s){var u=s.font,l=s.out,v=s.newObject,f=s.putStream;if(u.metadata instanceof a.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var p=u.metadata.rawData,g="",h=0;h<p.length;h++)g+=String.fromCharCode(p[h]);var w=v();f({data:g,addLength1:!0,objectId:w}),l("endobj");var _=v();f({data:i(u.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var j=v();l("<<"),l("/Descent "+u.metadata.decender),l("/CapHeight "+u.metadata.capHeight),l("/StemV "+u.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+w+" 0 R"),l("/Flags 96"),l("/FontBBox "+a.API.PDFObject.convert(u.metadata.bbox)),l("/FontName /"+Mi(u.fontName)),l("/ItalicAngle "+u.metadata.italicAngle),l("/Ascent "+u.metadata.ascender),l(">>"),l("endobj"),u.objectNumber=v();for(var y=0;y<u.metadata.hmtx.widths.length;y++)u.metadata.hmtx.widths[y]=parseInt(u.metadata.hmtx.widths[y]*(1e3/u.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Mi(u.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+a.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),l("endobj"),u.isAlreadyPutted=!0}})(r)}]);var n=function(r){var s,u=r.text||"",l=r.x,v=r.y,f=r.options||{},p=r.mutex||{},g=p.pdfEscape,h=p.activeFontKey,w=p.fonts,_=h,j="",y=0,B="",V=w[_].encoding;if(w[_].encoding!=="Identity-H")return{text:u,x:l,y:v,options:f,mutex:p};for(B=u,_=h,Array.isArray(u)&&(B=u[0]),y=0;y<B.length;y+=1)w[_].metadata.hasOwnProperty("cmap")&&(s=w[_].metadata.cmap.unicode.codeMap[B[y].charCodeAt(0)]),s||B[y].charCodeAt(0)<256&&w[_].metadata.hasOwnProperty("Unicode")?j+=B[y]:j+="";var J="";return parseInt(_.slice(1))<14||V==="WinAnsiEncoding"?J=g(j,_).split("").map(function(Z){return Z.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(J=e(j,w[_])),p.isHex=!0,{text:J,x:l,y:v,options:f,mutex:p}};t.events.push(["postProcessText",function(r){var s=r.text||"",u=[],l={text:s,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(s)){var v=0;for(v=0;v<s.length;v+=1)Array.isArray(s[v])&&s[v].length===3?u.push([n(Object.assign({},l,{text:s[v][0]})).text,s[v][1],s[v][2]]):u.push(n(Object.assign({},l,{text:s[v]})).text);r.text=u}else r.text=n(Object.assign({},l,{text:s})).text}])}(Xt),function(a){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};a.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},a.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},a.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Xt.API),function(a){a.__bidiEngine__=a.prototype.__bidiEngine__=function(i){var n,r,s,u,l,v,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,V=0;this.__bidiEngine__={};var J=function(L){var x=L.charCodeAt(),M=x>>8,F=_[M];return F!==void 0?p[256*F+(255&x)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},Z=function(L){for(var x,M=0;M<L.length;M++){if((x=J(L.charAt(M)))==="L")return!1;if(x==="R")return!0}return!1},z=function(L,x,M,F){var G,k,I,$,X=x[F];switch(X){case"L":case"R":B=!1;break;case"N":case"AN":break;case"EN":B&&(X="AN");break;case"AL":B=!0,X="R";break;case"WS":X="N";break;case"CS":F<1||F+1>=x.length||(G=M[F-1])!=="EN"&&G!=="AN"||(k=x[F+1])!=="EN"&&k!=="AN"?X="N":B&&(k="AN"),X=k===G?k:"N";break;case"ES":X=(G=F>0?M[F-1]:"B")==="EN"&&F+1<x.length&&x[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&M[F-1]==="EN"){X="EN";break}if(B){X="N";break}for(I=F+1,$=x.length;I<$&&x[I]==="ET";)I++;X=I<$&&x[I]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for($=x.length,I=F+1;I<$&&x[I]==="NSM";)I++;if(I<$){var tt=L[F],mt=tt>=1425&&tt<=2303||tt===64286;if(G=x[I],mt&&(G==="R"||G==="AL")){X="R";break}}}X=F<1||(G=x[F-1])==="B"?"N":M[F-1];break;case"B":B=!1,n=!0,X=V;break;case"S":r=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"BN":X="N"}return X},Y=function(L,x,M){var F=L.split("");return M&&A(F,M,{hiLevel:V}),F.reverse(),x&&x.reverse(),F.join("")},A=function(L,x,M){var F,G,k,I,$,X=-1,tt=L.length,mt=0,N=[],q=V?h:g,R=[];for(B=!1,n=!1,r=!1,G=0;G<tt;G++)R[G]=J(L[G]);for(k=0;k<tt;k++){if($=mt,N[k]=z(L,R,N,k),F=240&(mt=q[$][w[N[k]]]),mt&=15,x[k]=I=q[mt][5],F>0)if(F===16){for(G=X;G<k;G++)x[G]=1;X=-1}else X=-1;if(q[mt][6])X===-1&&(X=k);else if(X>-1){for(G=X;G<k;G++)x[G]=I;X=-1}R[k]==="B"&&(x[k]=0),M.hiLevel|=I}r&&function(U,et,st){for(var ct=0;ct<st;ct++)if(U[ct]==="S"){et[ct]=V;for(var ut=ct-1;ut>=0&&U[ut]==="WS";ut--)et[ut]=V}}(R,x,tt)},O=function(L,x,M,F,G){if(!(G.hiLevel<L)){if(L===1&&V===1&&!n)return x.reverse(),void(M&&M.reverse());for(var k,I,$,X,tt=x.length,mt=0;mt<tt;){if(F[mt]>=L){for($=mt+1;$<tt&&F[$]>=L;)$++;for(X=mt,I=$-1;X<I;X++,I--)k=x[X],x[X]=x[I],x[I]=k,M&&(k=M[X],M[X]=M[I],M[I]=k);mt=$}mt++}}},H=function(L,x,M){var F=L.split(""),G={hiLevel:V};return M||(M=[]),A(F,M,G),function(k,I,$){if($.hiLevel!==0&&f)for(var X,tt=0;tt<k.length;tt++)I[tt]===1&&(X=j.indexOf(k[tt]))>=0&&(k[tt]=j[X+1])}(F,M,G),O(2,F,x,M,G),O(1,F,x,M,G),F.join("")};return this.__bidiEngine__.doBidiReorder=function(L,x,M){if(function(G,k){if(k)for(var I=0;I<G.length;I++)k[I]=I;u===void 0&&(u=Z(G)),v===void 0&&(v=Z(G))}(L,x),s||!l||v)if(s&&l&&u^v)V=u?1:0,L=Y(L,x,M);else if(!s&&l&&v)V=u?1:0,L=H(L,x,M),L=Y(L,x);else if(!s||u||l||v){if(s&&!l&&u^v)L=Y(L,x),u?(V=0,L=H(L,x,M)):(V=1,L=H(L,x,M),L=Y(L,x));else if(s&&u&&!l&&v)V=1,L=H(L,x,M),L=Y(L,x);else if(!s&&!l&&u^v){var F=f;u?(V=1,L=H(L,x,M),V=0,f=!1,L=H(L,x,M),f=F):(V=0,L=H(L,x,M),L=Y(L,x),V=1,f=!1,L=H(L,x,M),f=F,L=Y(L,x))}}else V=0,L=H(L,x,M);else V=u?1:0,L=H(L,x,M);return L},this.__bidiEngine__.setOptions=function(L){L&&(s=L.isInputVisual,l=L.isOutputVisual,u=L.isInputRtl,v=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new a.__bidiEngine__({isInputVisual:!0});a.API.events.push(["postProcessText",function(i){var n=i.text,r=(i.x,i.y,i.options||{}),s=(i.mutex,r.lang,[]);if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,e.setOptions(r),Object.prototype.toString.call(n)==="[object Array]"){var u=0;for(s=[],u=0;u<n.length;u+=1)Object.prototype.toString.call(n[u])==="[object Array]"?s.push([e.doBidiReorder(n[u][0]),n[u][1],n[u][2]]):s.push([e.doBidiReorder(n[u])]);i.text=s}else i.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])}(Xt),Xt.API.TTFFont=function(){function a(t){var e;if(this.rawData=t,e=this.contents=new Wr(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Uh(this),this.registerTTF()}return a.open=function(t){return new a(t)},a.prototype.parse=function(){return this.directory=new Ph(this.contents),this.head=new Fh(this),this.name=new jh(this),this.cmap=new Xu(this),this.toUnicode={},this.hhea=new kh(this),this.maxp=new Mh(this),this.hmtx=new Th(this),this.post=new Eh(this),this.os2=new Ch(this),this.loca=new qh(this),this.glyf=new Bh(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},a.prototype.registerTTF=function(){var t,e,i,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,u,l,v;for(v=[],s=0,u=(l=this.bbox).length;s<u;s++)t=l[s],v.push(Math.round(t*this.scaleFactor));return v}.call(this),this.stemV=0,this.post.exists?(i=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},a.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},a.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},a.prototype.widthOfString=function(t,e,i){var n,r,s,u;for(s=0,r=0,u=(t=""+t).length;0<=u?r<u:r>u;r=0<=u?++r:--r)n=t.charCodeAt(r),s+=this.widthOfGlyph(this.characterToGlyph(n))+i*(1e3/e)||0;return s*(e/1e3)},a.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},a}();var Xn,Wr=function(){function a(t){this.data=t??[],this.pos=0,this.length=this.data.length}return a.prototype.readByte=function(){return this.data[this.pos++]},a.prototype.writeByte=function(t){return this.data[this.pos++]=t},a.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},a.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},a.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},a.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},a.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},a.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},a.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},a.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},a.prototype.writeString=function(t){var e,i,n;for(n=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},a.prototype.readShort=function(){return this.readInt16()},a.prototype.writeShort=function(t){return this.writeInt16(t)},a.prototype.readLongLong=function(){var t,e,i,n,r,s,u,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),u=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^n)+16777216*(255^r)+65536*(255^s)+256*(255^u)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*n+16777216*r+65536*s+256*u+l},a.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},a.prototype.readInt=function(){return this.readInt32()},a.prototype.writeInt=function(t){return this.writeInt32(t)},a.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},a.prototype.write=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;i<n;i++)e=t[i],r.push(this.writeByte(e));return r},a}(),Ph=function(){var a;function t(e){var i,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,n,r,s,u,l,v,f,p,g,h,w,_;for(_ in h=Object.keys(e).length,l=Math.log(2),p=16*Math.floor(Math.log(h)/l),s=Math.floor(p/l),f=16*h-p,(n=new Wr).writeInt(this.scalarType),n.writeShort(h),n.writeShort(p),n.writeShort(s),n.writeShort(f),r=16*h,v=n.pos+r,u=null,w=[],e)for(g=e[_],n.writeString(_),n.writeInt(a(g)),n.writeInt(v),n.writeInt(g.length),w=w.concat(g),_==="head"&&(u=v),v+=g.length;v%4;)w.push(0),v++;return n.write(w),i=2981146554-a(n.data),n.pos=u+8,n.writeUInt32(i),n.data},a=function(e){var i,n,r,s;for(e=Ju.call(e);e.length%4;)e.push(0);for(r=new Wr(e),n=0,i=0,s=e.length;i<s;i=i+=4)n+=r.readUInt32();return 4294967295&n},t}(),Ih={}.hasOwnProperty,lr=function(a,t){for(var e in t)Ih.call(t,e)&&(a[e]=t[e]);function i(){this.constructor=a}return i.prototype=t.prototype,a.prototype=new i,a.__super__=t.prototype,a};Xn=function(){function a(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return a.prototype.parse=function(){},a.prototype.encode=function(){},a.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},a}();var Fh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Wr).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),lu=function(){function a(t,e){var i,n,r,s,u,l,v,f,p,g,h,w,_,j,y,B,V;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),g=h/2,t.pos+=6,r=function(){var J,Z;for(Z=[],l=J=0;0<=g?J<g:J>g;l=0<=g?++J:--J)Z.push(t.readUInt16());return Z}(),t.pos+=2,_=function(){var J,Z;for(Z=[],l=J=0;0<=g?J<g:J>g;l=0<=g?++J:--J)Z.push(t.readUInt16());return Z}(),v=function(){var J,Z;for(Z=[],l=J=0;0<=g?J<g:J>g;l=0<=g?++J:--J)Z.push(t.readUInt16());return Z}(),f=function(){var J,Z;for(Z=[],l=J=0;0<=g?J<g:J>g;l=0<=g?++J:--J)Z.push(t.readUInt16());return Z}(),n=(this.length-t.pos+this.offset)/2,u=function(){var J,Z;for(Z=[],l=J=0;0<=n?J<n:J>n;l=0<=n?++J:--J)Z.push(t.readUInt16());return Z}(),l=y=0,V=r.length;y<V;l=++y)for(j=r[l],i=B=w=_[l];w<=j?B<=j:B>=j;i=w<=j?++B:--B)f[l]===0?s=i+v[l]:(s=u[f[l]/2+(i-w)-(g-l)]||0)!==0&&(s+=v[l]),this.codeMap[i]=65535&s}t.pos=p}return a.encode=function(t,e){var i,n,r,s,u,l,v,f,p,g,h,w,_,j,y,B,V,J,Z,z,Y,A,O,H,L,x,M,F,G,k,I,$,X,tt,mt,N,q,R,U,et,st,ct,ut,yt,At,Pt;switch(F=new Wr,s=Object.keys(t).sort(function(Et,qt){return Et-qt}),e){case"macroman":for(_=0,j=function(){var Et=[];for(w=0;w<256;++w)Et.push(0);return Et}(),B={0:0},r={},G=0,X=s.length;G<X;G++)B[ut=t[n=s[G]]]==null&&(B[ut]=++_),r[n]={old:t[n],new:B[t[n]]},j[n]=B[t[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(j),{charMap:r,subtable:F.data,maxGlyphID:_+1};case"unicode":for(x=[],p=[],V=0,B={},i={},y=v=null,k=0,tt=s.length;k<tt;k++)B[Z=t[n=s[k]]]==null&&(B[Z]=++V),i[n]={old:Z,new:B[Z]},u=B[Z]-n,y!=null&&u===v||(y&&p.push(y),x.push(n),v=u),y=n;for(y&&p.push(y),p.push(65535),x.push(65535),H=2*(O=x.length),A=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(A/2)/Math.LN2,Y=2*O-A,l=[],z=[],h=[],w=I=0,mt=x.length;I<mt;w=++I){if(L=x[w],f=p[w],L===65535){l.push(0),z.push(0);break}if(L-(M=i[L].new)>=32768)for(l.push(0),z.push(2*(h.length+O-w)),n=$=L;L<=f?$<=f:$>=f;n=L<=f?++$:--$)h.push(i[n].new);else l.push(M-L),z.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*O+2*h.length),F.writeUInt16(0),F.writeUInt16(H),F.writeUInt16(A),F.writeUInt16(g),F.writeUInt16(Y),st=0,N=p.length;st<N;st++)n=p[st],F.writeUInt16(n);for(F.writeUInt16(0),ct=0,q=x.length;ct<q;ct++)n=x[ct],F.writeUInt16(n);for(yt=0,R=l.length;yt<R;yt++)u=l[yt],F.writeUInt16(u);for(At=0,U=z.length;At<U;At++)J=z[At],F.writeUInt16(J);for(Pt=0,et=h.length;Pt<et;Pt++)_=h[Pt],F.writeUInt16(_);return{charMap:i,subtable:F.data,maxGlyphID:V+1}}},a}(),Xu=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)i=new lu(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var n,r;return i==null&&(i="macroman"),n=lu.encode(e,i),(r=new Wr).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),kh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Ch=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,n;for(n=[],i=0;i<10;++i)n.push(e.readByte());return n}(),this.charRange=function(){var i,n;for(n=[],i=0;i<4;++i)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,n;for(n=[],i=0;i<2;i=++i)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Eh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="post",t.prototype.parse=function(e){var i,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var u,l,v;for(v=[],s=u=0,l=this.file.maxp.numGlyphs;0<=l?u<l:u>l;s=0<=l?++u:--u)v.push(e.readUInt32());return v}.call(this)}},t}(),Oh=function(a,t){this.raw=a,this.length=a.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="name",t.prototype.parse=function(e){var i,n,r,s,u,l,v,f,p,g,h;for(e.pos=this.offset,e.readShort(),i=e.readShort(),l=e.readShort(),n=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(v={},s=p=0,g=n.length;p<g;s=++p)r=n[s],e.pos=r.offset,f=e.readString(r.length),u=new Oh(f,r),v[h=r.nameID]==null&&(v[h]=[]),v[r.nameID].push(u);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},t}(),Mh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Th=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,n,r,s,u,l,v;for(e.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],i=f=0;0<=r?f<r:f>r;i=0<=r?++f:--f)p.push(e.readInt16());return p}(),this.widths=function(){var f,p,g,h;for(h=[],f=0,p=(g=this.metrics).length;f<p;f++)s=g[f],h.push(s.advance);return h}.call(this),n=this.widths[this.widths.length-1],v=[],i=u=0;0<=r?u<r:u>r;i=0<=r?++u:--u)v.push(this.widths.push(n));return v},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Ju=[].slice,Bh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,n,r,s,u,l,v,f,p,g;return e in this.cache?this.cache[e]:(s=this.file.loca,i=this.file.contents,n=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+n,u=(l=new Wr(i.read(r))).readShort(),f=l.readShort(),g=l.readShort(),v=l.readShort(),p=l.readShort(),this.cache[e]=u===-1?new Rh(l,f,g,v,p):new Dh(l,u,f,g,v,p),this.cache[e]))},t.prototype.encode=function(e,i,n){var r,s,u,l,v;for(u=[],s=[],l=0,v=i.length;l<v;l++)r=e[i[l]],s.push(u.length),r&&(u=u.concat(r.encode(n)));return s.push(u.length),{table:u,offsets:s}},t}(),Dh=function(){function a(t,e,i,n,r,s){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!1}return a.prototype.encode=function(){return this.raw.data},a}(),Rh=function(){function a(t,e,i,n,r){var s,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=n,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return a.prototype.encode=function(){var t,e,i;for(e=new Wr(Ju.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},a}(),qh=function(a){function t(){return t.__super__.constructor.apply(this,arguments)}return lr(t,Xn),t.prototype.tag="loca",t.prototype.parse=function(e){var i,n;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=2)s.push(2*e.readUInt16());return s}.call(this):function(){var r,s;for(s=[],n=0,r=this.length;n<r;n+=4)s.push(e.readUInt32());return s}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,u=0;u<n.length;++u)if(n[u]=r,s<i.length&&i[s]==u){++s,n[u]=r;var l=this.offsets[u],v=this.offsets[u+1]-l;v>0&&(r+=v)}for(var f=new Array(4*n.length),p=0;p<n.length;++p)f[4*p+3]=255&n[p],f[4*p+2]=(65280&n[p])>>8,f[4*p+1]=(16711680&n[p])>>16,f[4*p]=(4278190080&n[p])>>24;return f},t}(),Uh=function(){function a(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return a.prototype.generateCmap=function(){var t,e,i,n,r;for(e in n=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[e],t[e]=n[i];return t},a.prototype.glyphsFor=function(t){var e,i,n,r,s,u,l;for(n={},s=0,u=t.length;s<u;s++)n[r=t[s]]=this.font.glyf.glyphFor(r);for(r in e=[],n)(i=n[r])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(r in l=this.glyphsFor(e))i=l[r],n[r]=i;return n},a.prototype.encode=function(t,e){var i,n,r,s,u,l,v,f,p,g,h,w,_,j,y;for(n in i=Xu.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},y=i.charMap)h[(l=y[n]).old]=l.new;for(w in g=i.maxGlyphID,s)w in h||(h[w]=g++);return f=function(B){var V,J;for(V in J={},B)J[B[V]]=V;return J}(h),p=Object.keys(f).sort(function(B,V){return B-V}),_=function(){var B,V,J;for(J=[],B=0,V=p.length;B<V;B++)u=p[B],J.push(f[u]);return J}(),r=this.font.glyf.encode(s,_,h),v=this.font.loca.encode(r.offsets,_),j={cmap:this.font.cmap.raw(),glyf:r.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},a}();Xt.API.PDFObject=function(){var a;function t(){}return a=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,n,r,s;if(Array.isArray(e))return"["+function(){var u,l,v;for(v=[],u=0,l=e.length;u<l;u++)i=e[u],v.push(t.convert(i));return v}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+a(e.getUTCFullYear(),4)+a(e.getUTCMonth(),2)+a(e.getUTCDate(),2)+a(e.getUTCHours(),2)+a(e.getUTCMinutes(),2)+a(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in r=["<<"],e)s=e[n],r.push("/"+n+" "+t.convert(s));return r.push(">>"),r.join(`
`)}return""+e},t}();const Qe=class{constructor(t){Ie(this,"hashToImageIndex",new Map);Ie(this,"images",[]);Ie(this,"imageIndexToFirstFileIndex",[]);Ie(this,"doc");Ie(this,"options",{...Qe.DEFAULT_OPTIONS});Ie(this,"shortSide");Ie(this,"descriptionHeight");Ie(this,"descriptionFontSize");Ie(this,"descriptionPosition");Ie(this,"pageNumberFontSize");Ie(this,"pageNumberLineWidth");Ie(this,"pageNumberPosition");Ie(this,"pageBackgroundRect");this.overrideOptions(t),this.shortSide=Math.min(this.options.width,this.options.height),this.descriptionHeight=this.options.pageDescription?5/64*this.shortSide:0,this.descriptionFontSize=3/4*this.descriptionHeight,this.descriptionPosition=[1/4*this.descriptionHeight,1/2*this.descriptionHeight];const e=this.options.height+this.descriptionHeight;this.pageNumberFontSize=3/32*this.shortSide,this.pageNumberLineWidth=5/256*this.shortSide,this.pageNumberPosition=[15/16*this.options.width,1/16*this.options.height+this.descriptionHeight],this.pageBackgroundRect=[-2,-2,this.options.width+4,e+4],this.doc=new Xt({orientation:this.options.width>=e?"landscape":"portrait",unit:"pt",format:[this.options.width,e]}),this.doc.deletePage(1)}overrideOptions({filename:t,width:e,height:i,enlargeImage:n,jpegQuality:r,backgroundColor:s,pageNumber:u,pageDescription:l}){let v=t&&t.trim();t&&v&&!v.startsWith(".")&&(this.options.filename=v),e&&e>=1&&e<=Qe.IMAGE_MAX_SIZE&&(this.options.width=e),i&&i>=1&&i<=Qe.IMAGE_MAX_SIZE&&(this.options.height=i),typeof n=="boolean"&&(this.options.enlargeImage=n),typeof r=="number"&&r>=0&&r<=1&&(this.options.jpegQuality=r),s&&(this.options.backgroundColor=s),typeof u=="boolean"&&(this.options.pageNumber=u),typeof l=="boolean"&&(this.options.pageDescription=l)}addAndSetFont(t,e,i,n,r){t&&e&&i?(this.doc.addFileToVFS(t,e).addFont(t,i,n,r),this.doc.setFont(i,n,r)):this.doc.setFont("Helvetica","","Bold")}hasHash(t){return this.hashToImageIndex.has(t)}hasHashWithCollision(t){return this.hashToImageIndex.get(t)===Qe.IMAGE_INDEX_TO_COLLISION}getImageIndex(t){return this.hashToImageIndex.get(t)??Qe.IMAGE_INDEX_TO_INVALID}getFirstFileIndex(t){return this.imageIndexToFirstFileIndex[t]}replaceCollidingHash(t,e){const i=this.getImageIndex(t);this.hashToImageIndex.set(e,i),this.hashToImageIndex.set(t,Qe.IMAGE_INDEX_TO_COLLISION)}addPage(t,{pageNumber:e,description:i}={}){const n=this.images[t];this.doc.addPage().setFillColor(Qe.COLOR_BLACK).rect(...this.pageBackgroundRect,"F"),this.options.pageDescription&&i&&this.doc.setFontSize(this.descriptionFontSize).setTextColor(Qe.COLOR_WHITE).text(i,...this.descriptionPosition,Qe.DESCRIPTION_TEXT_OPTIONS),this.doc.addImage(n.binary,n.format,n.x,n.y+this.descriptionHeight,n.width,n.height,`${t}`),this.options.pageNumber&&e&&this.doc.setFontSize(this.pageNumberFontSize).setLineWidth(this.pageNumberLineWidth).setLineJoin("round").setDrawColor(Qe.COLOR_WHITE).setTextColor(Qe.COLOR_WHITE).text(`${e}`,...this.pageNumberPosition,Qe.PAGE_NUMBER_OPTIONS_STROKE).setTextColor(Qe.COLOR_BLACK).text(`${e}`,...this.pageNumberPosition,Qe.PAGE_NUMBER_OPTIONS_FILL)}async registerImage(t,e){const i=this.images.length;return this.images.push(await this.getImageInfo(t)),this.imageIndexToFirstFileIndex.push(e),i}async getImageInfo(t){const e=this.getOpaqueCanvas(t),i=await $e.canvasToFile(e,"image/png","",0),n=await $e.canvasToFile(e,"image/jpeg","",0,this.options.jpegQuality);return i.size<=n.size*1.1?{...this.getRenderArea(t),binary:new Uint8Array(await i.arrayBuffer()),format:"PNG"}:{...this.getRenderArea(t),binary:new Uint8Array(await n.arrayBuffer()),format:"JPEG"}}getOpaqueCanvas(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");return i?(i.fillStyle=this.options.backgroundColor,i.fillRect(-2,-2,t.width+4,t.height+4),i.drawImage(t,0,0,t.width,t.height),e):t}getRenderArea(t){const{width:e,height:i}=this.options;let n,r;if(this.options.enlargeImage){const s=t.width/t.height,u=e/i;s>=u?(n=e,r=e/s):(n=i*s,r=i)}else n=t.width,r=t.height;return{x:(e-n)/2,y:(i-r)/2,width:n,height:r}}registerHash(t,e){this.hashToImageIndex.set(t,e)}download(){this.doc.save(`${this.options.filename}.pdf`)}};let Ln=Qe;Ie(Ln,"IMAGE_INDEX_TO_COLLISION",-1),Ie(Ln,"IMAGE_INDEX_TO_INVALID",-2),Ie(Ln,"DEFAULT_OPTIONS",{filename:"img-seq-pack",width:960,height:540,enlargeImage:!0,jpegQuality:.9,backgroundColor:"#5e5e5e",pageNumber:!0,pageDescription:!1}),Ie(Ln,"COLOR_BLACK","#000000"),Ie(Ln,"COLOR_WHITE","#ffffff"),Ie(Ln,"IMAGE_MAX_SIZE",65535),Ie(Ln,"DESCRIPTION_TEXT_OPTIONS",{baseline:"middle"}),Ie(Ln,"PAGE_NUMBER_OPTIONS_FILL",{align:"right",baseline:"top"}),Ie(Ln,"PAGE_NUMBER_OPTIONS_STROKE",{...Qe.PAGE_NUMBER_OPTIONS_FILL,renderingMode:"stroke"});const hu="https://cdn.jsdelivr.net/gh/sunn-us/SUIT@1.2.5/fonts/static/ttf/SUIT-ExtraBold.ttf";let vo="";async function zh(){if(!vo)try{const a=await fetch(hu);vo=Hh(await a.arrayBuffer())}catch{console.error(`Failed to fetch font from ${hu}`),vo=""}return vo}function Hh(a){const t=new Uint8Array(a);let e="";for(let i=0;i<a.byteLength;i+=1)e+=String.fromCharCode(t[i]);return window.btoa(e)}function $s(a){const t=a.lastIndexOf(".");return t>0&&t<a.length-1?{basename:a.slice(0,t),extension:a.slice(t+1)}:{basename:a,extension:""}}function Wh(a,t){let e=t?new Intl.Collator(void 0,{numeric:!0}).compare:Aa;return a&&(e=Vh(e)),function(i,n){return e(i.name,n.name)}}function Vh(a=Aa){return function(t,e){const i=$s(t),n=$s(e),r=a(i.basename,n.basename);if(r!==0)return r;const s=Aa(i.basename,n.basename);if(s!==0)return s;const u=Aa(i.extension,n.extension);return u!==0?u:Aa(t,e)}}function Aa(a,t){return a===t?0:a<t?-1:1}function Gh(a,t){const{"page-sort":e,"page-sort-natural":i,"page-sort-split":n,"page-description":r,"keep-extension":s,replace:u,"replace-find":l,"replace-replace":v,"replace-regex":f}=t,p=Array.from(a,(g,h)=>({fileIndex:h,name:g.name}));if(e&&p.sort(Wh(n,i)),r){const g=u&&l&&f?new RegExp(l):l;for(let h=0;h<p.length;h+=1){let{name:w}=p[h];s||(w=$s(w).basename),u&&l&&(w=w.replace(g,v)),p[h].name=w}}return p}const Yh=["width","height","data"];async function Kh(a,t,e){const i=Gh(a,t),n=new Ln({filename:t.title,width:t["page-width"],height:t["page-height"],enlargeImage:t["image-enlarge"],jpegQuality:t["quality-jpeg"]/100,backgroundColor:t["background-color"],pageNumber:t["page-number"],pageDescription:t["page-description"]});if(n.addAndSetFont("SUIT-ExtraBold.ttf",await zh(),"SUIT","",800),e&&!await e.reset(0))return!1;for(let r=0;r<i.length;r+=1){const s=a[i[r].fileIndex];let u;try{u=await zc(s,t)}catch{return await(e==null?void 0:e.cancel()),alert(`"${s.name}"    .`),!1}const l=Bs(Ts(u,64,64));let v;if(n.hasHash(l)){if(v=n.getImageIndex(l),v!==Ln.IMAGE_INDEX_TO_COLLISION){const p=n.getFirstFileIndex(v),g=await zc(a[p],t),h=Ts(g),w=Bs(h);n.replaceCollidingHash(l,w)}const f=Bs(Ts(u));n.hasHash(f)?v=n.getImageIndex(f):(v=await n.registerImage(u,r),n.registerHash(f,v))}else v=await n.registerImage(u,r),n.registerHash(l,v);if(n.addPage(v,{pageNumber:r+t["page-number-start"],description:i[r].name}),e&&!await e.update((r+1)/(a.length+1)))return!1}return n.download(),!0}function Ts(a,t,e){let i=a;t&&e&&t>0&&e>0&&(i=document.createElement("canvas"),i.width=t,i.height=e);const n=i.getContext("2d");return n?(t&&e&&n.drawImage(a,0,0,i.width,i.height),n.getImageData(0,0,i.width,i.height)):new ImageData(i.width,i.height)}function Bs(a){const t=[];for(const e of Yh){const i=a[e],n=Dc();typeof i=="number"?n.update(i.toString(16),"hex"):n.update(i),t.push(...n.digest())}return Dc().update(t).digest("hex")}export{Kh as default};
